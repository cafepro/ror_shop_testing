Started GET "/" for 127.0.0.1 at 2017-07-26 12:55:06 +0200
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/railties-5.1.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/railties-5.1.2/lib/rails/templates/rails/welcome/index.html.erb (5.9ms)
Completed 200 OK in 30ms (Views: 16.4ms)


  [1m[35m (54.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (25.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (2.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(641904850572142290);[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to SpreeOneTwo (20170726105845)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (33.3ms)[0m  [1m[35mCREATE TABLE "spree_activators" ("id" serial NOT NULL PRIMARY KEY, "description" character varying, "expires_at" timestamp, "starts_at" timestamp, "name" character varying, "event_name" character varying, "type" character varying, "usage_limit" integer, "match_policy" character varying DEFAULT 'all', "code" character varying, "advertise" boolean DEFAULT 'f', "path" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE "spree_addresses" ("id" serial NOT NULL PRIMARY KEY, "firstname" character varying, "lastname" character varying, "address1" character varying, "address2" character varying, "city" character varying, "zipcode" character varying, "phone" character varying, "state_name" character varying, "alternative_phone" character varying, "company" character varying, "state_id" integer, "country_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_addresses_on_firstname" ON "spree_addresses"  ("firstname")[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE  INDEX  "index_addresses_on_lastname" ON "spree_addresses"  ("lastname")[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE TABLE "spree_adjustments" ("id" serial NOT NULL PRIMARY KEY, "source_type" character varying, "source_id" integer, "adjustable_type" character varying, "adjustable_id" integer, "originator_type" character varying, "originator_id" integer, "amount" decimal(8,2), "label" character varying, "mandatory" boolean, "locked" boolean, "eligible" boolean DEFAULT 't', "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE  INDEX  "index_adjustments_on_order_id" ON "spree_adjustments"  ("adjustable_id")[0m
  [1m[35m (23.6ms)[0m  [1m[35mCREATE TABLE "spree_assets" ("id" serial NOT NULL PRIMARY KEY, "viewable_type" character varying, "viewable_id" integer, "attachment_width" integer, "attachment_height" integer, "attachment_file_size" integer, "position" integer, "attachment_content_type" character varying, "attachment_file_name" character varying, "type" character varying(75), "attachment_updated_at" timestamp, "alt" text)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE  INDEX  "index_assets_on_viewable_id" ON "spree_assets"  ("viewable_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX  "index_assets_on_viewable_type_and_type" ON "spree_assets"  ("viewable_type", "type")[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE TABLE "spree_calculators" ("id" serial NOT NULL PRIMARY KEY, "type" character varying, "calculable_type" character varying, "calculable_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE TABLE "spree_configurations" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "type" character varying(50), "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_configurations_on_name_and_type" ON "spree_configurations"  ("name", "type")[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE TABLE "spree_countries" ("id" serial NOT NULL PRIMARY KEY, "iso_name" character varying, "iso" character varying, "iso3" character varying, "name" character varying, "numcode" integer)[0m
  [1m[35m (8.4ms)[0m  [1m[35mCREATE TABLE "spree_credit_cards" ("id" serial NOT NULL PRIMARY KEY, "month" character varying, "year" character varying, "cc_type" character varying, "last_digits" character varying, "first_name" character varying, "last_name" character varying, "start_month" character varying, "start_year" character varying, "issue_number" character varying, "address_id" integer, "gateway_customer_profile_id" character varying, "gateway_payment_profile_id" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE TABLE "spree_gateways" ("id" serial NOT NULL PRIMARY KEY, "type" character varying, "name" character varying, "description" text, "active" boolean DEFAULT 't', "environment" character varying DEFAULT 'development', "server" character varying DEFAULT 'test', "test_mode" boolean DEFAULT 't', "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE TABLE "spree_inventory_units" ("id" serial NOT NULL PRIMARY KEY, "lock_version" integer DEFAULT 0, "state" character varying, "variant_id" integer, "order_id" integer, "shipment_id" integer, "return_authorization_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_inventory_units_on_order_id" ON "spree_inventory_units"  ("order_id")[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE  INDEX  "index_inventory_units_on_shipment_id" ON "spree_inventory_units"  ("shipment_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_inventory_units_on_variant_id" ON "spree_inventory_units"  ("variant_id")[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "spree_line_items" ("id" serial NOT NULL PRIMARY KEY, "variant_id" integer, "order_id" integer, "quantity" integer NOT NULL, "price" decimal(8,2) NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX  "index_spree_line_items_on_order_id" ON "spree_line_items"  ("order_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_line_items_on_variant_id" ON "spree_line_items"  ("variant_id")[0m
  [1m[35m (8.2ms)[0m  [1m[35mCREATE TABLE "spree_log_entries" ("id" serial NOT NULL PRIMARY KEY, "source_type" character varying, "source_id" integer, "details" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE TABLE "spree_mail_methods" ("id" serial NOT NULL PRIMARY KEY, "environment" character varying, "active" boolean DEFAULT 't', "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "spree_option_types" ("id" serial NOT NULL PRIMARY KEY, "name" character varying(100), "presentation" character varying(100), "position" integer DEFAULT 0 NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "spree_option_types_prototypes" ("prototype_id" integer, "option_type_id" integer)[0m
  [1m[35m (7.7ms)[0m  [1m[35mCREATE TABLE "spree_option_values" ("id" serial NOT NULL PRIMARY KEY, "position" integer, "name" character varying, "presentation" character varying, "option_type_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "spree_option_values_variants" ("variant_id" integer, "option_value_id" integer)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_option_values_variants_on_variant_id_and_option_value_id" ON "spree_option_values_variants"  ("variant_id", "option_value_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_option_values_variants_on_variant_id" ON "spree_option_values_variants"  ("variant_id")[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE TABLE "spree_orders" ("id" serial NOT NULL PRIMARY KEY, "number" character varying(15), "item_total" decimal(8,2) DEFAULT 0.0 NOT NULL, "total" decimal(8,2) DEFAULT 0.0 NOT NULL, "state" character varying, "adjustment_total" decimal(8,2) DEFAULT 0.0 NOT NULL, "user_id" integer, "completed_at" timestamp, "bill_address_id" integer, "ship_address_id" integer, "payment_total" decimal(8,2) DEFAULT 0.0, "shipping_method_id" integer, "shipment_state" character varying, "payment_state" character varying, "email" character varying, "special_instructions" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_orders_on_number" ON "spree_orders"  ("number")[0m
  [1m[35m (7.7ms)[0m  [1m[35mCREATE TABLE "spree_payment_methods" ("id" serial NOT NULL PRIMARY KEY, "type" character varying, "name" character varying, "description" text, "active" boolean DEFAULT 't', "environment" character varying DEFAULT 'development', "deleted_at" timestamp, "display_on" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE TABLE "spree_payments" ("id" serial NOT NULL PRIMARY KEY, "amount" decimal(8,2) DEFAULT 0.0 NOT NULL, "order_id" integer, "source_type" character varying, "source_id" integer, "payment_method_id" integer, "state" character varying, "response_code" character varying, "avs_response" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE "spree_preferences" ("id" serial NOT NULL PRIMARY KEY, "name" character varying(100), "owner_type" character varying, "owner_id" integer, "value" text, "key" character varying, "value_type" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_spree_preferences_on_key" ON "spree_preferences"  ("key")[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "spree_product_option_types" ("id" serial NOT NULL PRIMARY KEY, "position" integer, "product_id" integer, "option_type_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (8.0ms)[0m  [1m[35mCREATE TABLE "spree_product_properties" ("id" serial NOT NULL PRIMARY KEY, "value" character varying, "product_id" integer, "property_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_product_properties_on_product_id" ON "spree_product_properties"  ("product_id")[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE TABLE "spree_products" ("id" serial NOT NULL PRIMARY KEY, "name" character varying DEFAULT '' NOT NULL, "description" text, "available_on" timestamp, "deleted_at" timestamp, "permalink" character varying, "meta_description" character varying, "meta_keywords" character varying, "tax_category_id" integer, "shipping_category_id" integer, "count_on_hand" integer DEFAULT 0 NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE  INDEX  "index_spree_products_on_available_on" ON "spree_products"  ("available_on")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_products_on_deleted_at" ON "spree_products"  ("deleted_at")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_products_on_name" ON "spree_products"  ("name")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_products_on_permalink" ON "spree_products"  ("permalink")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "spree_products_taxons" ("product_id" integer, "taxon_id" integer)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX  "index_spree_products_taxons_on_product_id" ON "spree_products_taxons"  ("product_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_products_taxons_on_taxon_id" ON "spree_products_taxons"  ("taxon_id")[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE TABLE "spree_properties" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "presentation" character varying NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "spree_properties_prototypes" ("prototype_id" integer, "property_id" integer)[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE TABLE "spree_prototypes" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (8.2ms)[0m  [1m[35mCREATE TABLE "spree_return_authorizations" ("id" serial NOT NULL PRIMARY KEY, "number" character varying, "state" character varying, "amount" decimal(8,2) DEFAULT 0.0 NOT NULL, "order_id" integer, "reason" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE TABLE "spree_roles" ("id" serial NOT NULL PRIMARY KEY, "name" character varying)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "spree_roles_users" ("role_id" integer, "user_id" integer)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE  INDEX  "index_spree_roles_users_on_role_id" ON "spree_roles_users"  ("role_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX  "index_spree_roles_users_on_user_id" ON "spree_roles_users"  ("user_id")[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE TABLE "spree_shipments" ("id" serial NOT NULL PRIMARY KEY, "tracking" character varying, "number" character varying, "cost" decimal(8,2), "shipped_at" timestamp, "order_id" integer, "shipping_method_id" integer, "address_id" integer, "state" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE  INDEX  "index_shipments_on_number" ON "spree_shipments"  ("number")[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE TABLE "spree_shipping_categories" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE TABLE "spree_shipping_methods" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "zone_id" integer, "display_on" character varying, "shipping_category_id" integer, "match_none" boolean, "match_all" boolean, "match_one" boolean, "deleted_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE TABLE "spree_state_changes" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "previous_state" character varying, "stateful_id" integer, "user_id" integer, "stateful_type" character varying, "next_state" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE TABLE "spree_states" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "abbr" character varying, "country_id" integer)[0m
  [1m[35m (8.7ms)[0m  [1m[35mCREATE TABLE "spree_tax_categories" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "description" character varying, "is_default" boolean DEFAULT 'f', "deleted_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "spree_tax_rates" ("id" serial NOT NULL PRIMARY KEY, "amount" decimal(8,5), "zone_id" integer, "tax_category_id" integer, "included_in_price" boolean DEFAULT 'f', "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE TABLE "spree_taxonomies" ("id" serial NOT NULL PRIMARY KEY, "name" character varying NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (9.2ms)[0m  [1m[35mCREATE TABLE "spree_taxons" ("id" serial NOT NULL PRIMARY KEY, "parent_id" integer, "position" integer DEFAULT 0, "name" character varying NOT NULL, "permalink" character varying, "taxonomy_id" integer, "lft" integer, "rgt" integer, "icon_file_name" character varying, "icon_content_type" character varying, "icon_file_size" integer, "icon_updated_at" timestamp, "description" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE  INDEX  "index_taxons_on_parent_id" ON "spree_taxons"  ("parent_id")[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE  INDEX  "index_taxons_on_permalink" ON "spree_taxons"  ("permalink")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_taxons_on_taxonomy_id" ON "spree_taxons"  ("taxonomy_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "spree_tokenized_permissions"[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE TABLE "spree_tokenized_permissions" ("id" serial NOT NULL PRIMARY KEY, "permissable_type" character varying, "permissable_id" integer, "token" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE  INDEX  "index_tokenized_name_and_type" ON "spree_tokenized_permissions"  ("permissable_id", "permissable_type")[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE TABLE "spree_trackers" ("id" serial NOT NULL PRIMARY KEY, "environment" character varying, "analytics_id" character varying, "active" boolean DEFAULT 't', "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (8.5ms)[0m  [1m[35mCREATE TABLE "spree_users" ("id" serial NOT NULL PRIMARY KEY, "encrypted_password" character varying(128), "password_salt" character varying(128), "email" character varying, "remember_token" character varying, "persistence_token" character varying, "reset_password_token" character varying, "perishable_token" character varying, "sign_in_count" integer DEFAULT 0 NOT NULL, "failed_attempts" integer DEFAULT 0 NOT NULL, "last_request_at" timestamp, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" character varying, "last_sign_in_ip" character varying, "login" character varying, "ship_address_id" integer, "bill_address_id" integer, "authentication_token" character varying, "unlock_token" character varying, "locked_at" timestamp, "remember_created_at" timestamp, "reset_password_sent_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE TABLE "spree_variants" ("id" serial NOT NULL PRIMARY KEY, "sku" character varying DEFAULT '' NOT NULL, "price" decimal(8,2) NOT NULL, "weight" decimal(8,2), "height" decimal(8,2), "width" decimal(8,2), "depth" decimal(8,2), "deleted_at" timestamp, "is_master" boolean DEFAULT 'f', "product_id" integer, "count_on_hand" integer DEFAULT 0 NOT NULL, "cost_price" decimal(8,2), "position" integer)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE  INDEX  "index_spree_variants_on_product_id" ON "spree_variants"  ("product_id")[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "spree_zone_members" ("id" serial NOT NULL PRIMARY KEY, "zoneable_type" character varying, "zoneable_id" integer, "zone_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (8.7ms)[0m  [1m[35mCREATE TABLE "spree_zones" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "description" character varying, "default_tax" boolean DEFAULT 'f', "zone_members_count" integer DEFAULT 0, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (3.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105845"]]
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to SpreePromoOneTwo (20170726105846)
  [1m[35m (4.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "spree_products_promotion_rules"[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "spree_products_promotion_rules" ("product_id" integer, "promotion_rule_id" integer)[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE  INDEX  "index_products_promotion_rules_on_product_id" ON "spree_products_promotion_rules"  ("product_id")[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE  INDEX  "index_products_promotion_rules_on_promotion_rule_id" ON "spree_products_promotion_rules"  ("promotion_rule_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "spree_promotion_action_line_items"[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE TABLE "spree_promotion_action_line_items" ("id" serial NOT NULL PRIMARY KEY, "promotion_action_id" integer, "variant_id" integer, "quantity" integer DEFAULT 1)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "spree_promotion_actions"[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE TABLE "spree_promotion_actions" ("id" serial NOT NULL PRIMARY KEY, "activator_id" integer, "position" integer, "type" character varying)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "spree_promotion_rules"[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE "spree_promotion_rules" ("id" serial NOT NULL PRIMARY KEY, "activator_id" integer, "user_id" integer, "product_group_id" integer, "type" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE  INDEX  "index_promotion_rules_on_product_group_id" ON "spree_promotion_rules"  ("product_group_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_promotion_rules_on_user_id" ON "spree_promotion_rules"  ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "spree_promotion_rules_users"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "spree_promotion_rules_users" ("user_id" integer, "promotion_rule_id" integer)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_promotion_rules_users_on_promotion_rule_id" ON "spree_promotion_rules_users"  ("promotion_rule_id")[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE  INDEX  "index_promotion_rules_users_on_user_id" ON "spree_promotion_rules_users"  ("user_id")[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105846"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTaxRateLabel (20170726105847)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "spree_tax_rates" ADD "name" character varying[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105847"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddToggleTaxRateDisplay (20170726105848)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (17.3ms)[0m  [1m[35mALTER TABLE "spree_tax_rates" ADD "show_rate_in_label" boolean DEFAULT 't'[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105848"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveUnusedPreferenceColumns (20170726105849)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_preferences" DROP "name"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_preferences" DROP "owner_id"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_preferences" DROP "owner_type"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105849"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddLockVersionToVariant (20170726105850)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.0ms)[0m  [1m[35mALTER TABLE "spree_variants" ADD "lock_version" integer DEFAULT 0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105850"]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddStatesRequiredToCountries (20170726105851)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.5ms)[0m  [1m[35mALTER TABLE "spree_countries" ADD "states_required" boolean DEFAULT 't'[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105851"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOnDemandToProductAndVariant (20170726105852)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (14.4ms)[0m  [1m[35mALTER TABLE "spree_products" ADD "on_demand" boolean DEFAULT 'f'[0m
  [1m[35m (9.5ms)[0m  [1m[35mALTER TABLE "spree_variants" ADD "on_demand" boolean DEFAULT 'f'[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105852"]]
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveNotNullConstraintFromProductsOnHand (20170726105853)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "spree_products" ALTER COLUMN "count_on_hand" TYPE integer[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "spree_products" ALTER "count_on_hand" DROP NOT NULL[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "spree_variants" ALTER COLUMN "count_on_hand" TYPE integer[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "spree_variants" ALTER "count_on_hand" DROP NOT NULL[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105853"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to SplitPricesFromVariants (20170726105854)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE "spree_prices" ("id" serial NOT NULL PRIMARY KEY, "variant_id" integer NOT NULL, "amount" decimal(8,2) NOT NULL, "currency" character varying)[0m
  [1m[36mSpree::Variant Load (1.2ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_variants" DROP "price"[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105854"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveNotNullFromSpreePricesAmount (20170726105855)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_prices" ALTER COLUMN "amount" TYPE decimal(8,2)[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "spree_prices" ALTER "amount" DROP NOT NULL[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105855"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCurrencyToLineItems (20170726105856)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "spree_line_items" ADD "currency" character varying[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105856"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCurrencyToOrders (20170726105857)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_orders" ADD "currency" character varying[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105857"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCostCurrencyToVariants (20170726105858)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_variants" ADD "cost_currency" character varying[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105858"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveDisplayOnFromPaymentMethods (20170726105859)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_payment_methods" DROP "display_on"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105859"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPositionToTaxonomies (20170726105860)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.7ms)[0m  [1m[35mALTER TABLE "spree_taxonomies" ADD "position" integer DEFAULT 0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105860"]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddLastIpToSpreeOrders (20170726105861)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_orders" ADD "last_ip_address" character varying[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105861"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddStateToSpreeAdjustments (20170726105862)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_adjustments" ADD "state" character varying[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_adjustments" DROP "locked"[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105862"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDisplayOnToSpreePaymentMethods (20170726105863)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_payment_methods" ADD "display_on" character varying[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105863"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPositionToProductProperties (20170726105864)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.9ms)[0m  [1m[35mALTER TABLE "spree_product_properties" ADD "position" integer DEFAULT 0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105864"]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIdentifierToSpreePayments (20170726105865)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_payments" ADD "identifier" character varying[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105865"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOrderIdIndexToPayments (20170726105866)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_payments_on_order_id" ON "spree_payments"  ("order_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105866"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPrimaryToSpreeProductsTaxons (20170726105867)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.6ms)[0m  [1m[35mALTER TABLE "spree_products_taxons" ADD "id" bigserial primary key[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105867"]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSpreeStockItems (20170726105868)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "spree_stock_items" ("id" serial NOT NULL PRIMARY KEY, "stock_location_id" integer, "variant_id" integer, "count_on_hand" integer DEFAULT 0 NOT NULL, "lock_version" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_stock_items_on_stock_location_id" ON "spree_stock_items"  ("stock_location_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX  "stock_item_by_loc_and_var_id" ON "spree_stock_items"  ("stock_location_id", "variant_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105868"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSpreeStockLocations (20170726105869)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE TABLE "spree_stock_locations" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "address_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_stock_locations_on_address_id" ON "spree_stock_locations"  ("address_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105869"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDefaultStock (20170726105870)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.7ms)[0m  [1m[35mALTER TABLE "spree_stock_locations" ADD "default" boolean DEFAULT 'f' NOT NULL[0m
  [1m[35mSQL (2.7ms)[0m  [1m[32mINSERT INTO "spree_stock_locations" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "default"], ["created_at", "2017-07-26 10:58:59.485425"], ["updated_at", "2017-07-26 10:58:59.485425"]]
  [1m[36mSpree::Variant Load (1.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL ORDER BY "spree_variants"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_variants" DROP "count_on_hand"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105870"]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOrderIdIndexToShipments (20170726105871)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_shipments_on_order_id" ON "spree_shipments"  ("order_id")[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105871"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeMetaDescriptionOnSpreeProductsToText (20170726105872)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_products" ALTER COLUMN "meta_description" TYPE text[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105872"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddStockLocationIdToSpreeShipments (20170726105873)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_shipments" ADD "stock_location_id" integer[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105873"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPendingToInventoryUnit (20170726105874)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.2ms)[0m  [1m[35mALTER TABLE "spree_inventory_units" ADD "pending" boolean DEFAULT 't'[0m
  [1m[35mSQL (6.6ms)[0m  [1m[33mUPDATE "spree_inventory_units" SET "pending" = 'f'[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105874"]]
  [1m[35m (2.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveOnDemandFromProductAndVariant (20170726105875)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "spree_products" DROP "on_demand"[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_variants" DROP "on_demand"[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105875"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShippingMethodZone (20170726105876)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "shipping_methods_zones" ("shipping_method_id" integer, "zone_id" integer)[0m
  [1m[36mSpree::ShippingMethod Load (1.3ms)[0m  [1m[34mSELECT "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_shipping_methods" DROP "zone_id"[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105876"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveShippingCategoryIdFromShippingMethod (20170726105877)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_shipping_methods" DROP "shipping_category_id"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105877"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShippingMethodCategories (20170726105878)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "spree_shipping_method_categories" ("id" serial NOT NULL PRIMARY KEY, "shipping_method_id" integer NOT NULL, "shipping_category_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_shipping_method_categories_on_shipping_method_id" ON "spree_shipping_method_categories"  ("shipping_method_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_shipping_method_categories_on_shipping_category_id" ON "spree_shipping_method_categories"  ("shipping_category_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105878"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTrackingUrlToSpreeShippingMethods (20170726105879)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_shipping_methods" ADD "tracking_url" character varying[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105879"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSpreeShippingRates (20170726105880)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "spree_shipping_rates" ("id" serial NOT NULL PRIMARY KEY, "shipment_id" integer, "shipping_method_id" integer, "selected" boolean DEFAULT 'f', "cost" decimal(8,2), "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "spree_shipping_rates_join_index" ON "spree_shipping_rates"  ("shipment_id", "shipping_method_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105880"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveCategoryMatchAttributesFromShippingMethod (20170726105881)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "spree_shipping_methods" DROP "match_none"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_shipping_methods" DROP "match_one"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "spree_shipping_methods" DROP "match_all"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105881"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateStockMovements (20170726105882)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE TABLE "spree_stock_movements" ("id" serial NOT NULL PRIMARY KEY, "stock_item_id" integer, "quantity" integer, "action" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_stock_movements_on_stock_item_id" ON "spree_stock_movements"  ("stock_item_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105882"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAddressFieldsToStockLocation (20170726105883)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "spree_stock_locations" DROP "address_id"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_stock_locations" ADD "address1" character varying[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_stock_locations" ADD "address2" character varying[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_stock_locations" ADD "city" character varying[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "spree_stock_locations" ADD "state_id" integer[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "spree_stock_locations" ADD "state_name" character varying[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "spree_stock_locations" ADD "country_id" integer[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "spree_stock_locations" ADD "zipcode" character varying[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_stock_locations" ADD "phone" character varying[0m
  [1m[36mSpree::Country Load (0.7ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 ORDER BY "spree_countries"."id" ASC LIMIT $2[0m  [["iso", "US"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (2.1ms)[0m  [1m[33mUPDATE "spree_stock_locations" SET "country_id" = NULL[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105883"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddActiveFieldToStockLocations (20170726105884)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.1ms)[0m  [1m[35mALTER TABLE "spree_stock_locations" ADD "active" boolean DEFAULT 't'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105884"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddBackorderableToStockItem (20170726105885)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.7ms)[0m  [1m[35mALTER TABLE "spree_stock_items" ADD "backorderable" boolean DEFAULT 't'[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105885"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDefaultQuantityToStockMovement (20170726105886)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_stock_movements" ALTER COLUMN "quantity" TYPE integer[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_stock_movements" ALTER COLUMN "quantity" SET DEFAULT 0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105886"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddSourceAndDestinationToStockMovements (20170726105887)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_stock_movements" ADD "source_type" character varying[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_stock_movements" ADD "source_id" integer[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "spree_stock_movements" ADD "destination_type" character varying[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "spree_stock_movements" ADD "destination_id" integer[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105887"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeOrdersTotalPrecision (20170726105888)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "spree_orders" ALTER COLUMN "item_total" TYPE decimal(10,2)[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_orders" ALTER COLUMN "item_total" SET DEFAULT 0.0[0m
  [1m[35m (0.7ms)[0m  [1m[33mUPDATE "spree_orders" SET "item_total"=0.0 WHERE "item_total" IS NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "spree_orders" ALTER "item_total" SET NOT NULL[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "spree_orders" ALTER COLUMN "total" TYPE decimal(10,2)[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_orders" ALTER COLUMN "total" SET DEFAULT 0.0[0m
  [1m[35m (0.5ms)[0m  [1m[33mUPDATE "spree_orders" SET "total"=0.0 WHERE "total" IS NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "spree_orders" ALTER "total" SET NOT NULL[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "spree_orders" ALTER COLUMN "adjustment_total" TYPE decimal(10,2)[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_orders" ALTER COLUMN "adjustment_total" SET DEFAULT 0.0[0m
  [1m[35m (0.7ms)[0m  [1m[33mUPDATE "spree_orders" SET "adjustment_total"=0.0 WHERE "adjustment_total" IS NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "spree_orders" ALTER "adjustment_total" SET NOT NULL[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "spree_orders" ALTER COLUMN "payment_total" TYPE decimal(10,2)[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "spree_orders" ALTER COLUMN "payment_total" SET DEFAULT 0.0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105888"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeSpreePaymentsAmountPrecision (20170726105889)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "spree_payments" ALTER COLUMN "amount" TYPE decimal(10,2)[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_payments" ALTER COLUMN "amount" SET DEFAULT 0.0[0m
  [1m[35m (0.8ms)[0m  [1m[33mUPDATE "spree_payments" SET "amount"=0.0 WHERE "amount" IS NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "spree_payments" ALTER "amount" SET NOT NULL[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105889"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeSpreeReturnAuthorizationAmountPrecision (20170726105890)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "spree_return_authorizations" ALTER COLUMN "amount" TYPE decimal(10,2)[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_return_authorizations" ALTER COLUMN "amount" SET DEFAULT 0.0[0m
  [1m[35m (0.6ms)[0m  [1m[33mUPDATE "spree_return_authorizations" SET "amount"=0.0 WHERE "amount" IS NULL[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "spree_return_authorizations" ALTER "amount" SET NOT NULL[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105890"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeAdjustmentsAmountPrecision (20170726105891)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_adjustments" ALTER COLUMN "amount" TYPE decimal(10,2)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105891"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOriginatorToStockMovement (20170726105892)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_stock_movements" ADD "originator_type" character varying[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "spree_stock_movements" ADD "originator_id" integer[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105892"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to DropSourceAndDestinationFromStockMovement (20170726105893)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_stock_movements" DROP "source_id"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "spree_stock_movements" DROP "source_type"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "spree_stock_movements" DROP "destination_id"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "spree_stock_movements" DROP "destination_type"[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105893"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to MigrateInventoryUnitSoldToOnHand (20170726105894)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_inventory_units" SET "state" = 'on_hand' WHERE "spree_inventory_units"."state" = $1[0m  [["state", "sold"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105894"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddStockLocationToRma (20170726105895)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_return_authorizations" ADD "stock_location_id" integer[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105895"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to UpdateShipmentStateForCanceledOrders (20170726105896)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105896"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddSeoMetasToTaxons (20170726105897)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "spree_taxons" ADD "meta_title" character varying[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_taxons" ADD "meta_description" character varying[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "spree_taxons" ADD "meta_keywords" character varying[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105897"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveStockItemAndVariantLock (20170726105898)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_stock_items" DROP "lock_version"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_variants" DROP "lock_version"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105898"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNameToSpreeCreditCards (20170726105899)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_credit_cards" ADD "name" character varying[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105899"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to UpdateNameFieldsOnSpreeCreditCards (20170726105900)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[33mUPDATE spree_credit_cards SET name = first_name || ' ' || last_name[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105900"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIndexToSourceColumnsOnAdjustments (20170726105901)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_adjustments_on_source_type_and_source_id" ON "spree_adjustments"  ("source_type", "source_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105901"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to UpdateAdjustmentStates (20170726105902)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Order Load (0.7ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE ("spree_orders"."completed_at" IS NOT NULL) ORDER BY "spree_orders"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mSpree::Shipment Load (0.8ms)[0m  [1m[34mSELECT  "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."state" = 'shipped' ORDER BY "spree_shipments"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_adjustments" SET "state" = 'open' WHERE "spree_adjustments"."state" IS NULL[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105902"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddShippingRatesToShipments (20170726105903)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Shipment Load (0.8ms)[0m  [1m[34mSELECT  "spree_shipments".* FROM "spree_shipments" ORDER BY "spree_shipments"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "spree_shipments" DROP "shipping_method_id"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105903"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSpreeStockTransfers (20170726105904)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.5ms)[0m  [1m[35mCREATE TABLE "spree_stock_transfers" ("id" serial NOT NULL PRIMARY KEY, "type" character varying, "reference_number" character varying, "source_location_id" integer, "destination_location_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_stock_transfers_on_source_location_id" ON "spree_stock_transfers"  ("source_location_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_stock_transfers_on_destination_location_id" ON "spree_stock_transfers"  ("destination_location_id")[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105904"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to DropProductsCountOnHand (20170726105905)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "spree_products" DROP "count_on_hand"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105905"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to SetDefaultShippingRateCost (20170726105906)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "spree_shipping_rates" ALTER COLUMN "cost" TYPE decimal(8,2)[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "spree_shipping_rates" ALTER COLUMN "cost" SET DEFAULT 0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105906"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNumberToStockTransfer (20170726105907)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP INDEX  "index_spree_stock_transfers_on_source_location_id"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP INDEX  "index_spree_stock_transfers_on_destination_location_id"[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "spree_stock_transfers" RENAME COLUMN "reference_number" TO "reference"[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_stock_transfers" ADD "number" character varying[0m
  [1m[36mSpree::StockTransfer Load (1.0ms)[0m  [1m[34mSELECT  "spree_stock_transfers".* FROM "spree_stock_transfers" ORDER BY "spree_stock_transfers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_stock_transfers_on_number" ON "spree_stock_transfers"  ("number")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_stock_transfers_on_source_location_id" ON "spree_stock_transfers"  ("source_location_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_stock_transfers_on_destination_location_id" ON "spree_stock_transfers"  ("destination_location_id")[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105907"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddSkuIndexToSpreeVariants (20170726105908)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE  INDEX  "index_spree_variants_on_sku" ON "spree_variants"  ("sku")[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105908"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddBackorderableDefaultToSpreeStockLocation (20170726105909)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.8ms)[0m  [1m[35mALTER TABLE "spree_stock_locations" ADD "backorderable_default" boolean DEFAULT 't'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105909"]]
  [1m[35m (3.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPropageAllVariantsToSpreeStockLocation (20170726105910)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.9ms)[0m  [1m[35mALTER TABLE "spree_stock_locations" ADD "propagate_all_variants" boolean DEFAULT 't'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105910"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenameShippingMethodsZonesToSpreeShippingMethodsZones (20170726105911)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "shipping_methods_zones" RENAME TO "spree_shipping_methods_zones"[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105911"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUserIdIndexToSpreeOrders (20170726105912)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_orders_on_user_id" ON "spree_orders"  ("user_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105912"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUpdatedAtToSpreeCountries (20170726105913)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_countries" ADD "updated_at" timestamp[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105913"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUpdatedAtToSpreeStates (20170726105914)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "spree_states" ADD "updated_at" timestamp[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105914"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCvvResultCodeAndCvvResultMessageToSpreePayments (20170726105915)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_payments" ADD "cvv_response_code" character varying[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_payments" ADD "cvv_response_message" character varying[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105915"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUniqueIndexToPermalinkOnSpreeProducts (20170726105916)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "permalink_idx_unique" ON "spree_products"  ("permalink")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105916"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUniqueIndexToOrdersShipmentsAndStockTransfers (20170726105917)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105917"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDeletedAtToSpreeTaxRates (20170726105918)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "spree_tax_rates" ADD "deleted_at" timestamp[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105918"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveLockVersionFromInventoryUnits (20170726105919)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_inventory_units" DROP "lock_version"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105919"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCostPriceToLineItem (20170726105920)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_line_items" ADD "cost_price" decimal(8,2)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105920"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to SetBackorderableToDefaultToFalse (20170726105921)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "spree_stock_items" ALTER COLUMN "backorderable" TYPE boolean[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_stock_items" ALTER COLUMN "backorderable" SET DEFAULT 'f'[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "spree_stock_locations" ALTER COLUMN "backorderable_default" TYPE boolean[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_stock_locations" ALTER COLUMN "backorderable_default" SET DEFAULT 'f'[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105921"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCreatedByIdToSpreeOrders (20170726105922)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_orders" ADD "created_by_id" integer[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105922"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to IndexCompletedAtOnSpreeOrders (20170726105923)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_orders_on_completed_at" ON "spree_orders"  ("completed_at")[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105923"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTaxCategoryIdToSpreeLineItems (20170726105924)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_line_items" ADD "tax_category_id" integer[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105924"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to MigrateTaxCategoriesToLineItems (20170726105925)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::LineItem Load (0.8ms)[0m  [1m[34mSELECT  "spree_line_items".* FROM "spree_line_items" ORDER BY "spree_line_items"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105925"]]
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to DropSpreeMailMethods (20170726105926)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mDROP TABLE "spree_mail_methods"[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105926"]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to SetDefaultStockLocationOnShipments (20170726105927)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_shipments" WHERE (stock_location_id IS NULL)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105927"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to UpgradeAdjustments (20170726105928)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE  INDEX  "index_spree_adjustments_on_originator_type" ON "spree_adjustments"  ("originator_type")[0m
  [1m[36mSpree::Adjustment Load (0.9ms)[0m  [1m[34mSELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."source_type" = $1 ORDER BY "spree_adjustments"."id" ASC LIMIT $2[0m  [["source_type", "Spree::Shipment"], ["LIMIT", 1000]]
  [1m[36mSpree::Adjustment Load (0.6ms)[0m  [1m[34mSELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."originator_type" = $1 ORDER BY "spree_adjustments"."id" ASC LIMIT $2[0m  [["originator_type", "Spree::TaxRate"], ["LIMIT", 1000]]
  [1m[36mSpree::Adjustment Load (0.6ms)[0m  [1m[34mSELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."originator_type" = $1 ORDER BY "spree_adjustments"."id" ASC LIMIT $2[0m  [["originator_type", "Spree::PromotionAction"], ["LIMIT", 1000]]
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_spree_adjustments_on_originator_type"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105928"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenameAdjustmentFields (20170726105929)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE  INDEX  "index_spree_adjustments_on_adjustable_type" ON "spree_adjustments"  ("adjustable_type")[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "spree_adjustments" DROP "originator_id"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "spree_adjustments" DROP "originator_type"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_adjustments" ADD "order_id" integer[0m
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 ORDER BY "spree_adjustments"."id" ASC LIMIT $2[0m  [["adjustable_type", "Spree::Order"], ["LIMIT", 1000]]
  [1m[35m (0.4ms)[0m  [1m[35mDROP INDEX  "index_spree_adjustments_on_adjustable_type"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105929"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAdminNameColumnToSpreeShippingMethods (20170726105930)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_shipping_methods" ADD "admin_name" character varying[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105930"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAdminNameColumnToSpreeStockLocations (20170726105931)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_stock_locations" ADD "admin_name" character varying[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105931"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddShipmentTotalToSpreeOrders (20170726105932)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.9ms)[0m  [1m[35mALTER TABLE "spree_orders" ADD "shipment_total" decimal(10,2) DEFAULT 0.0 NOT NULL[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105932"]]
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to ExpandOrderNumberSize (20170726105933)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mALTER TABLE "spree_orders" ALTER COLUMN "number" TYPE character varying(32)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105933"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenameActivatorsToPromotions (20170726105934)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "spree_activators" RENAME TO "spree_promotions"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "public"."spree_activators_id_seq" RENAME TO "spree_promotions_id_seq"[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER INDEX "spree_activators_pkey" RENAME TO "spree_promotions_pkey"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105934"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAdjustmentTotalToLineItems (20170726105935)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.5ms)[0m  [1m[35mALTER TABLE "spree_line_items" ADD "adjustment_total" decimal(10,2) DEFAULT 0.0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105935"]]
  [1m[35m (3.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAdjustmentTotalToShipments (20170726105936)
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.3ms)[0m  [1m[35mALTER TABLE "spree_shipments" ADD "adjustment_total" decimal(10,2) DEFAULT 0.0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105936"]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDepthToSpreeTaxons (20170726105937)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_taxons" ADD "depth" integer[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons"[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105937"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTaxTotalToLineItemsShipmentsAndOrders (20170726105938)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.5ms)[0m  [1m[35mALTER TABLE "spree_line_items" ADD "tax_total" decimal(10,2) DEFAULT 0.0[0m
  [1m[35m (11.3ms)[0m  [1m[35mALTER TABLE "spree_shipments" ADD "tax_total" decimal(10,2) DEFAULT 0.0[0m
  [1m[35m (12.4ms)[0m  [1m[35mALTER TABLE "spree_orders" ADD "tax_total" decimal(10,2) DEFAULT 0.0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105938"]]
  [1m[35m (4.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddShippingCategoryToShippingMethodsAndProducts (20170726105939)
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingCategory Load (0.7ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) LIMIT $2[0m  [["name", "Default"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Default"], ["created_at", "2017-07-26 10:59:00.805844"], ["updated_at", "2017-07-26 10:59:00.805844"]]
  [1m[36mSpree::ShippingMethod Load (0.6ms)[0m  [1m[34mSELECT "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL[0m
  [1m[35mSQL (6.9ms)[0m  [1m[33mUPDATE "spree_products" SET "shipping_category_id" = 1 WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."shipping_category_id" IS NULL[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105939"]]
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to MigrateOldShippingCalculators (20170726105940)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingMethod Load (0.4ms)[0m  [1m[34mSELECT "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105940"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCodeToSpreePromotionRules (20170726105941)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_promotion_rules" ADD "code" character varying[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105941"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeStatesRequiredForCountries (20170726105942)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "spree_countries" ALTER COLUMN "states_required" SET DEFAULT 'f'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105942"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDeletedAtToSpreeStockItems (20170726105943)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_stock_items" ADD "deleted_at" timestamp[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105943"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemovePromotionsEventNameField (20170726105944)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_promotions" DROP "event_name"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105944"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPromoTotalToLineItemsAndShipmentsAndOrders (20170726105945)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.3ms)[0m  [1m[35mALTER TABLE "spree_line_items" ADD "promo_total" decimal(10,2) DEFAULT 0.0[0m
  [1m[35m (12.3ms)[0m  [1m[35mALTER TABLE "spree_shipments" ADD "promo_total" decimal(10,2) DEFAULT 0.0[0m
  [1m[35m (15.0ms)[0m  [1m[35mALTER TABLE "spree_orders" ADD "promo_total" decimal(10,2) DEFAULT 0.0[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105945"]]
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveUnusedCreditCardFields (20170726105946)
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "spree_credit_cards" DROP "start_month"[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "spree_credit_cards" DROP "start_year"[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "spree_credit_cards" DROP "issue_number"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105946"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTrackInventoryToVariant (20170726105947)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (17.8ms)[0m  [1m[35mALTER TABLE "spree_variants" ADD "track_inventory" boolean DEFAULT 't'[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105947"]]
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTaxCategoryToVariants (20170726105948)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "spree_variants" ADD "tax_category_id" integer[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE  INDEX  "index_spree_variants_on_tax_category_id" ON "spree_variants"  ("tax_category_id")[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105948"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddChannelToSpreeOrders (20170726105949)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (31.6ms)[0m  [1m[35mALTER TABLE "spree_orders" ADD "channel" character varying DEFAULT 'spree'[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105949"]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIncludedToAdjustments (20170726105950)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (29.5ms)[0m  [1m[35mALTER TABLE "spree_adjustments" ADD "included" boolean DEFAULT 'f'[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105950"]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenameTaxTotalFields (20170726105951)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "spree_line_items" RENAME COLUMN "tax_total" TO "additional_tax_total"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_shipments" RENAME COLUMN "tax_total" TO "additional_tax_total"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "spree_orders" RENAME COLUMN "tax_total" TO "additional_tax_total"[0m
  [1m[35m (19.0ms)[0m  [1m[35mALTER TABLE "spree_line_items" ADD "included_tax_total" decimal(10,2) DEFAULT 0.0 NOT NULL[0m
  [1m[35m (13.5ms)[0m  [1m[35mALTER TABLE "spree_shipments" ADD "included_tax_total" decimal(10,2) DEFAULT 0.0 NOT NULL[0m
  [1m[35m (13.4ms)[0m  [1m[35mALTER TABLE "spree_orders" ADD "included_tax_total" decimal(10,2) DEFAULT 0.0 NOT NULL[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105951"]]
  [1m[35m (4.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddLineItemIdToSpreeInventoryUnits (20170726105952)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "spree_inventory_units" ADD "line_item_id" integer[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE  INDEX  "index_spree_inventory_units_on_line_item_id" ON "spree_inventory_units"  ("line_item_id")[0m
  [1m[36mSpree::Shipment Load (1.0ms)[0m  [1m[34mSELECT  "spree_shipments".* FROM "spree_shipments" ORDER BY "spree_shipments"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105952"]]
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUpdatedAtToVariants (20170726105953)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_variants" ADD "updated_at" timestamp[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105953"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPositionToClassifications (20170726105954)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_products_taxons" ADD "position" integer[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105954"]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSpreeOrdersPromotions (20170726105955)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "spree_orders_promotions" ("order_id" integer, "promotion_id" integer)[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105955"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to UniqueShippingMethodCategories (20170726105956)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingMethodCategory Load (1.0ms)[0m  [1m[34mSELECT shipping_category_id,shipping_method_id,COUNT(*) FROM "spree_shipping_method_categories" GROUP BY shipping_category_id,shipping_method_id HAVING (COUNT(*) > 1)[0m
  [1m[35m (12.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "unique_spree_shipping_method_categories" ON "spree_shipping_method_categories"  ("shipping_category_id", "shipping_method_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP INDEX  "index_spree_shipping_method_categories_on_shipping_category_id"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105956"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddItemCountToSpreeOrders (20170726105957)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (32.4ms)[0m  [1m[35mALTER TABLE "spree_orders" ADD "item_count" integer DEFAULT 0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105957"]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveValueTypeFromSpreePreferences (20170726105958)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "spree_preferences" DROP "value_type"[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105958"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenamePermalinkToSlugForProducts (20170726105959)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "spree_products" RENAME COLUMN "permalink" TO "slug"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER INDEX "index_spree_products_on_permalink" RENAME TO "index_spree_products_on_slug"[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105959"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIndexToVariantIdAndCurrencyOnPrices (20170726105960)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_prices_on_variant_id_and_currency" ON "spree_prices"  ("variant_id", "currency")[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105960"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenameActivatorIdInRulesAndActionsToPromotionId (20170726105961)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "spree_promotion_rules" RENAME COLUMN "activator_id" TO "promotion_id"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_promotion_actions" RENAME COLUMN "activator_id" TO "promotion_id"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105961"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDeletedAtToSpreePrices (20170726105962)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_prices" ADD "deleted_at" timestamp[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105962"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddApproverIdAndApprovedAtToOrders (20170726105963)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "spree_orders" ADD "approver_id" integer[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_orders" ADD "approved_at" timestamp[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105963"]]
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddConfirmationDeliveredToSpreeOrders (20170726105964)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (30.6ms)[0m  [1m[35mALTER TABLE "spree_orders" ADD "confirmation_delivered" boolean DEFAULT 'f'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105964"]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAutoCaptureToPaymentMethods (20170726105965)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_payment_methods" ADD "auto_capture" boolean[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105965"]]
  [1m[35m (12.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSpreePaymentCaptureEvents (20170726105966)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE TABLE "spree_payment_capture_events" ("id" serial NOT NULL PRIMARY KEY, "amount" decimal(10,2) DEFAULT 0.0, "payment_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE  INDEX  "index_spree_payment_capture_events_on_payment_id" ON "spree_payment_capture_events"  ("payment_id")[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105966"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUncapturedAmountToPayments (20170726105967)
  [1m[35m (5.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (23.5ms)[0m  [1m[35mALTER TABLE "spree_payments" ADD "uncaptured_amount" decimal(10,2) DEFAULT 0.0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105967"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to DefaultVariantWeightToZero (20170726105968)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_variants" SET weight = 0.0 WHERE "spree_variants"."weight" IS NULL[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_variants" ALTER COLUMN "weight" TYPE decimal(8,2)[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_variants" ALTER COLUMN "weight" SET DEFAULT 0.0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105968"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTaxCategoryIdToShippingMethods (20170726105969)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_shipping_methods" ADD "tax_category_id" integer[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105969"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTaxRateIdToShippingRates (20170726105970)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_shipping_rates" ADD "tax_rate_id" integer[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105970"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPreTaxAmountToLineItemsAndShipments (20170726105971)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_line_items" ADD "pre_tax_amount" decimal(8,2)[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_shipments" ADD "pre_tax_amount" decimal(8,2)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105971"]]
  [1m[35m (12.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddMoreIndexes (20170726105972)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_payment_methods_on_id_and_type" ON "spree_payment_methods"  ("id", "type")[0m
  [1m[35m (36.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_calculators_on_id_and_type" ON "spree_calculators"  ("id", "type")[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE  INDEX  "index_spree_calculators_on_calculable_id_and_calculable_type" ON "spree_calculators"  ("calculable_id", "calculable_type")[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE  INDEX  "index_spree_payments_on_payment_method_id" ON "spree_payments"  ("payment_method_id")[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_promotion_actions_on_id_and_type" ON "spree_promotion_actions"  ("id", "type")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_promotion_actions_on_promotion_id" ON "spree_promotion_actions"  ("promotion_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_promotions_on_id_and_type" ON "spree_promotions"  ("id", "type")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_option_values_on_option_type_id" ON "spree_option_values"  ("option_type_id")[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE  INDEX  "index_spree_shipments_on_stock_location_id" ON "spree_shipments"  ("stock_location_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105972"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddConsideredRiskyToOrders (20170726105973)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (28.4ms)[0m  [1m[35mALTER TABLE "spree_orders" ADD "considered_risky" boolean DEFAULT 'f'[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105973"]]
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPreferenceStoreToEverything (20170726105974)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "spree_calculators" ADD "preferences" text[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "spree_gateways" ADD "preferences" text[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "spree_payment_methods" ADD "preferences" text[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_promotion_rules" ADD "preferences" text[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105974"]]
  [1m[35m (12.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUserIdToSpreeCreditCards (20170726105975)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_credit_cards" ADD "user_id" integer[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX  "index_spree_credit_cards_on_user_id" ON "spree_credit_cards"  ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_credit_cards" ADD "payment_method_id" integer[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE  INDEX  "index_spree_credit_cards_on_payment_method_id" ON "spree_credit_cards"  ("payment_method_id")[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105975"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to MigrateOldPreferences (20170726105976)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Calculator Load (1.0ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" ORDER BY "spree_calculators"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mSpree::PaymentMethod Load (1.0ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL ORDER BY "spree_payment_methods"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mSpree::PromotionRule Load (0.8ms)[0m  [1m[34mSELECT  "spree_promotion_rules".* FROM "spree_promotion_rules" ORDER BY "spree_promotion_rules"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105976"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSpreeStores (20170726105977)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (21.9ms)[0m  [1m[35mCREATE TABLE "spree_stores" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "url" character varying, "meta_description" text, "meta_keywords" text, "seo_title" character varying, "mail_from_address" character varying, "default_currency" character varying, "code" character varying, "default" boolean DEFAULT 'f' NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105977"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateStoreFromPreferences (20170726105978)
  [1m[35m (6.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Store Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stores" WHERE LOWER("spree_stores"."code") = LOWER($1) LIMIT $2[0m  [["code", "spree"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_stores" WHERE "spree_stores"."default" = $1[0m  [["default", "t"]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_stores" ("name", "url", "mail_from_address", "code", "default", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Spree Demo Site"], ["url", "demo.spreecommerce.org"], ["mail_from_address", "spree@example.com"], ["code", "spree"], ["default", "t"], ["created_at", "2017-07-26 10:59:01.933836"], ["updated_at", "2017-07-26 10:59:01.933836"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105978"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTimestampsToSpreeAssets (20170726105979)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_assets" ADD "created_at" timestamp[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_assets" ADD "updated_at" timestamp[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105979"]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSpreeTaxonsPromotionRules (20170726105980)
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (17.7ms)[0m  [1m[35mCREATE TABLE "spree_taxons_promotion_rules" ("id" serial NOT NULL PRIMARY KEY, "taxon_id" integer, "promotion_rule_id" integer)[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE  INDEX  "index_spree_taxons_promotion_rules_on_taxon_id" ON "spree_taxons_promotion_rules"  ("taxon_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_taxons_promotion_rules_on_promotion_rule_id" ON "spree_taxons_promotion_rules"  ("promotion_rule_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105980"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAdditionalStoreFields (20170726105981)
  [1m[35m (12.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE  INDEX  "index_spree_stores_on_code" ON "spree_stores"  ("code")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_stores_on_default" ON "spree_stores"  ("default")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105981"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddManyMissingIndexes (20170726105982)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.4ms)[0m  [1m[35mCREATE  INDEX  "index_spree_adjustments_on_adjustable_id_and_adjustable_type" ON "spree_adjustments"  ("adjustable_id", "adjustable_type")[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE  INDEX  "index_spree_adjustments_on_eligible" ON "spree_adjustments"  ("eligible")[0m
  [1m[35m (14.4ms)[0m  [1m[35mCREATE  INDEX  "index_spree_adjustments_on_order_id" ON "spree_adjustments"  ("order_id")[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_promotions_on_code" ON "spree_promotions"  ("code")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_promotions_on_expires_at" ON "spree_promotions"  ("expires_at")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_states_on_country_id" ON "spree_states"  ("country_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_stock_items_on_deleted_at" ON "spree_stock_items"  ("deleted_at")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_option_types_on_position" ON "spree_option_types"  ("position")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_option_values_on_position" ON "spree_option_values"  ("position")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_product_option_types_on_option_type_id" ON "spree_product_option_types"  ("option_type_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_product_option_types_on_product_id" ON "spree_product_option_types"  ("product_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_products_taxons_on_position" ON "spree_products_taxons"  ("position")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_promotions_on_starts_at" ON "spree_promotions"  ("starts_at")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_stores_on_url" ON "spree_stores"  ("url")[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105982"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CorrectSomePolymorphicIndexAndAddMoreMissing (20170726105983)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE  INDEX  "index_spree_addresses_on_country_id" ON "spree_addresses"  ("country_id")[0m
  [1m[35m (8.0ms)[0m  [1m[35mCREATE  INDEX  "index_spree_addresses_on_state_id" ON "spree_addresses"  ("state_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP INDEX  "index_spree_adjustments_on_source_type_and_source_id"[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE  INDEX  "index_spree_adjustments_on_source_id_and_source_type" ON "spree_adjustments"  ("source_id", "source_type")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_credit_cards_on_address_id" ON "spree_credit_cards"  ("address_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_gateways_on_active" ON "spree_gateways"  ("active")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX  "index_spree_gateways_on_test_mode" ON "spree_gateways"  ("test_mode")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_inventory_units_on_return_authorization_id" ON "spree_inventory_units"  ("return_authorization_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_line_items_on_tax_category_id" ON "spree_line_items"  ("tax_category_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_log_entries_on_source_id_and_source_type" ON "spree_log_entries"  ("source_id", "source_type")[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE  INDEX  "index_spree_orders_on_approver_id" ON "spree_orders"  ("approver_id")[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE  INDEX  "index_spree_orders_on_bill_address_id" ON "spree_orders"  ("bill_address_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_orders_on_confirmation_delivered" ON "spree_orders"  ("confirmation_delivered")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX  "index_spree_orders_on_considered_risky" ON "spree_orders"  ("considered_risky")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_orders_on_created_by_id" ON "spree_orders"  ("created_by_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_orders_on_ship_address_id" ON "spree_orders"  ("ship_address_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_orders_on_shipping_method_id" ON "spree_orders"  ("shipping_method_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_orders_promotions_on_order_id_and_promotion_id" ON "spree_orders_promotions"  ("order_id", "promotion_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_payments_on_source_id_and_source_type" ON "spree_payments"  ("source_id", "source_type")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_prices_on_deleted_at" ON "spree_prices"  ("deleted_at")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_product_option_types_on_position" ON "spree_product_option_types"  ("position")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_product_properties_on_position" ON "spree_product_properties"  ("position")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_product_properties_on_property_id" ON "spree_product_properties"  ("property_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_products_on_shipping_category_id" ON "spree_products"  ("shipping_category_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_products_on_tax_category_id" ON "spree_products"  ("tax_category_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_promotion_action_line_items_on_promotion_action_id" ON "spree_promotion_action_line_items"  ("promotion_action_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_promotion_action_line_items_on_variant_id" ON "spree_promotion_action_line_items"  ("variant_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_promotion_rules_on_promotion_id" ON "spree_promotion_rules"  ("promotion_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX  "index_spree_promotions_on_advertise" ON "spree_promotions"  ("advertise")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_return_authorizations_on_number" ON "spree_return_authorizations"  ("number")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_return_authorizations_on_order_id" ON "spree_return_authorizations"  ("order_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_return_authorizations_on_stock_location_id" ON "spree_return_authorizations"  ("stock_location_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_shipments_on_address_id" ON "spree_shipments"  ("address_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_shipping_methods_on_deleted_at" ON "spree_shipping_methods"  ("deleted_at")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_shipping_methods_on_tax_category_id" ON "spree_shipping_methods"  ("tax_category_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_shipping_rates_on_selected" ON "spree_shipping_rates"  ("selected")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX  "index_spree_shipping_rates_on_tax_rate_id" ON "spree_shipping_rates"  ("tax_rate_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_state_changes_on_stateful_id_and_stateful_type" ON "spree_state_changes"  ("stateful_id", "stateful_type")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_state_changes_on_user_id" ON "spree_state_changes"  ("user_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_stock_items_on_backorderable" ON "spree_stock_items"  ("backorderable")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_stock_locations_on_active" ON "spree_stock_locations"  ("active")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_stock_locations_on_backorderable_default" ON "spree_stock_locations"  ("backorderable_default")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_stock_locations_on_country_id" ON "spree_stock_locations"  ("country_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_stock_locations_on_propagate_all_variants" ON "spree_stock_locations"  ("propagate_all_variants")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_stock_locations_on_state_id" ON "spree_stock_locations"  ("state_id")[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE  INDEX  "index_spree_tax_categories_on_deleted_at" ON "spree_tax_categories"  ("deleted_at")[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE  INDEX  "index_spree_tax_categories_on_is_default" ON "spree_tax_categories"  ("is_default")[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_tax_rates_on_deleted_at" ON "spree_tax_rates"  ("deleted_at")[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE  INDEX  "index_spree_tax_rates_on_included_in_price" ON "spree_tax_rates"  ("included_in_price")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_tax_rates_on_show_rate_in_label" ON "spree_tax_rates"  ("show_rate_in_label")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX  "index_spree_tax_rates_on_tax_category_id" ON "spree_tax_rates"  ("tax_category_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_tax_rates_on_zone_id" ON "spree_tax_rates"  ("zone_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_taxonomies_on_position" ON "spree_taxonomies"  ("position")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_taxons_on_position" ON "spree_taxons"  ("position")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_trackers_on_active" ON "spree_trackers"  ("active")[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE  INDEX  "index_spree_variants_on_deleted_at" ON "spree_variants"  ("deleted_at")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_variants_on_is_master" ON "spree_variants"  ("is_master")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_variants_on_position" ON "spree_variants"  ("position")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_variants_on_track_inventory" ON "spree_variants"  ("track_inventory")[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE  INDEX  "index_spree_zone_members_on_zone_id" ON "spree_zone_members"  ("zone_id")[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE  INDEX  "index_spree_zone_members_on_zoneable_id_and_zoneable_type" ON "spree_zone_members"  ("zoneable_id", "zoneable_type")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_zones_on_default_tax" ON "spree_zones"  ("default_tax")[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105983"]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUserIdCreatedByIdIndexToOrder (20170726105984)
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_orders_on_user_id_and_created_by_id" ON "spree_orders"  ("user_id", "created_by_id")[0m
  [1m[35mSQL (152.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105984"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeSpreePriceAmountPrecision (20170726105985)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "spree_prices" ALTER COLUMN "amount" TYPE decimal(10,2)[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "spree_line_items" ALTER COLUMN "price" TYPE decimal(10,2)[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_line_items" ALTER COLUMN "cost_price" TYPE decimal(10,2)[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "spree_variants" ALTER COLUMN "cost_price" TYPE decimal(10,2)[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105985"]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTokenToSpreeOrders (20170726105986)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_orders" ADD "guest_token" character varying[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105986"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to MoveOrderTokenFromTokenizedPermission (20170726105987)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[33mUPDATE spree_orders
               SET guest_token = spree_tokenized_permissions.token
               FROM spree_tokenized_permissions
               WHERE spree_tokenized_permissions.permissable_id = spree_orders.id
                  AND spree_tokenized_permissions.permissable_type = 'Spree::Order'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105987"]]
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to SetShipmentTotalForUsersUpgrading (20170726105988)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Order Load (8.3ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE ("spree_orders"."completed_at" IS NOT NULL) AND (shipment_total = 0) ORDER BY "spree_orders"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105988"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to DropCreditCardFirstNameAndLastName (20170726105989)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "spree_credit_cards" DROP "first_name"[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_credit_cards" DROP "last_name"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105989"]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDeletedAtToSpreePromotionActions (20170726105990)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_promotion_actions" ADD "deleted_at" timestamp[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_promotion_actions_on_deleted_at" ON "spree_promotion_actions"  ("deleted_at")[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105990"]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveUncapturedAmountFromSpreePayments (20170726105991)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "spree_payments" DROP "uncaptured_amount"[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105991"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSpreeRefunds (20170726105992)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (19.4ms)[0m  [1m[35mCREATE TABLE "spree_refunds" ("id" serial NOT NULL PRIMARY KEY, "payment_id" integer, "return_authorization_id" integer, "amount" decimal(10,2) DEFAULT 0.0 NOT NULL, "transaction_id" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105992"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSpreeReturnAuthorizationInventoryUnit (20170726105993)
  [1m[35m (6.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE TABLE "spree_return_authorization_inventory_units" ("id" serial NOT NULL PRIMARY KEY, "return_authorization_id" integer, "inventory_unit_id" integer, "exchange_variant_id" integer, "received_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105993"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenameReturnAuthorizationInventoryUnitToReturnItems (20170726105994)
  [1m[35m (6.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "spree_return_authorization_inventory_units" RENAME TO "spree_return_items"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "public"."spree_return_authorization_inventory_units_id_seq" RENAME TO "spree_return_items_id_seq"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER INDEX "spree_return_authorization_inventory_units_pkey" RENAME TO "spree_return_items_pkey"[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105994"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to BackfillLineItemPreTaxAmount (20170726105995)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.8ms)[0m  [1m[33m      UPDATE spree_line_items
      SET pre_tax_amount = ((price * quantity) + promo_total) - included_tax_total
      WHERE pre_tax_amount IS NULL;
[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105995"]]
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to RecreateSpreeReturnAuthorizations (20170726105996)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ReturnAuthorization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_return_authorizations" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[35mDROP TABLE "spree_return_authorizations"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_inventory_units" DROP "return_authorization_id"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_adjustments" SET "source_type" = 'Spree::LegacyReturnAuthorization' WHERE "spree_adjustments"."source_type" = $1[0m  [["source_type", "Spree::ReturnAuthorization"]]
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "spree_return_authorizations" ("id" serial NOT NULL PRIMARY KEY, "number" character varying, "state" character varying, "amount" decimal(10,2) DEFAULT 0.0 NOT NULL, "order_id" integer, "reason" text, "created_at" timestamp, "updated_at" timestamp, "stock_location_id" integer)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105996"]]
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAmountFieldsToReturnItems (20170726105997)
  [1m[35m (6.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.2ms)[0m  [1m[35mALTER TABLE "spree_return_items" ADD "pre_tax_amount" decimal(10,2) DEFAULT 0.0 NOT NULL[0m
  [1m[35m (10.9ms)[0m  [1m[35mALTER TABLE "spree_return_items" ADD "included_tax_total" decimal(10,2) DEFAULT 0.0 NOT NULL[0m
  [1m[35m (6.0ms)[0m  [1m[35mALTER TABLE "spree_return_items" ADD "additional_tax_total" decimal(10,2) DEFAULT 0.0 NOT NULL[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105997"]]
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to DropReturnAuthorizationAmount (20170726105998)
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "spree_return_authorizations" DROP "amount"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105998"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSpreeReturnAuthorizationReasons (20170726105999)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (19.1ms)[0m  [1m[35mCREATE TABLE "spree_return_authorization_reasons" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "active" boolean DEFAULT 't', "mutable" boolean DEFAULT 't', "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mSpree::ReturnAuthorizationReason Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_return_authorization_reasons" WHERE LOWER("spree_return_authorization_reasons"."name") = LOWER($1) LIMIT $2[0m  [["name", "Better price available"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_return_authorization_reasons" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Better price available"], ["created_at", "2017-07-26 10:59:03.028983"], ["updated_at", "2017-07-26 10:59:03.028983"]]
  [1m[36mSpree::ReturnAuthorizationReason Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_return_authorization_reasons" WHERE LOWER("spree_return_authorization_reasons"."name") = LOWER($1) LIMIT $2[0m  [["name", "Missed estimated delivery date"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_return_authorization_reasons" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Missed estimated delivery date"], ["created_at", "2017-07-26 10:59:03.032132"], ["updated_at", "2017-07-26 10:59:03.032132"]]
  [1m[36mSpree::ReturnAuthorizationReason Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_return_authorization_reasons" WHERE LOWER("spree_return_authorization_reasons"."name") = LOWER($1) LIMIT $2[0m  [["name", "Missing parts or accessories"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_return_authorization_reasons" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Missing parts or accessories"], ["created_at", "2017-07-26 10:59:03.035094"], ["updated_at", "2017-07-26 10:59:03.035094"]]
  [1m[36mSpree::ReturnAuthorizationReason Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_return_authorization_reasons" WHERE LOWER("spree_return_authorization_reasons"."name") = LOWER($1) LIMIT $2[0m  [["name", "Damaged/Defective"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_return_authorization_reasons" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Damaged/Defective"], ["created_at", "2017-07-26 10:59:03.038133"], ["updated_at", "2017-07-26 10:59:03.038133"]]
  [1m[36mSpree::ReturnAuthorizationReason Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_return_authorization_reasons" WHERE LOWER("spree_return_authorization_reasons"."name") = LOWER($1) LIMIT $2[0m  [["name", "Different from what was ordered"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_return_authorization_reasons" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Different from what was ordered"], ["created_at", "2017-07-26 10:59:03.041271"], ["updated_at", "2017-07-26 10:59:03.041271"]]
  [1m[36mSpree::ReturnAuthorizationReason Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_return_authorization_reasons" WHERE LOWER("spree_return_authorization_reasons"."name") = LOWER($1) LIMIT $2[0m  [["name", "Different from description"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_return_authorization_reasons" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Different from description"], ["created_at", "2017-07-26 10:59:03.044960"], ["updated_at", "2017-07-26 10:59:03.044960"]]
  [1m[36mSpree::ReturnAuthorizationReason Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_return_authorization_reasons" WHERE LOWER("spree_return_authorization_reasons"."name") = LOWER($1) LIMIT $2[0m  [["name", "No longer needed/wanted"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_return_authorization_reasons" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "No longer needed/wanted"], ["created_at", "2017-07-26 10:59:03.048093"], ["updated_at", "2017-07-26 10:59:03.048093"]]
  [1m[36mSpree::ReturnAuthorizationReason Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_return_authorization_reasons" WHERE LOWER("spree_return_authorization_reasons"."name") = LOWER($1) LIMIT $2[0m  [["name", "Accidental order"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_return_authorization_reasons" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Accidental order"], ["created_at", "2017-07-26 10:59:03.050900"], ["updated_at", "2017-07-26 10:59:03.050900"]]
  [1m[36mSpree::ReturnAuthorizationReason Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_return_authorization_reasons" WHERE LOWER("spree_return_authorization_reasons"."name") = LOWER($1) LIMIT $2[0m  [["name", "Unauthorized purchase"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_return_authorization_reasons" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Unauthorized purchase"], ["created_at", "2017-07-26 10:59:03.053732"], ["updated_at", "2017-07-26 10:59:03.053732"]]
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_return_authorizations" ADD "return_authorization_reason_id" integer[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_return_authorizations_on_return_authorization_reason_id" ON "spree_return_authorizations"  ("return_authorization_reason_id")[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726105999"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSpreeRefundReasons (20170726106000)
  [1m[35m (18.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE "spree_refund_reasons" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "active" boolean DEFAULT 't', "mutable" boolean DEFAULT 't', "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_refunds" ADD "refund_reason_id" integer[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_refunds_on_refund_reason_id" ON "spree_refunds"  ("refund_reason_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106000"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenameReturnAuthorizationReason (20170726106001)
  [1m[35m (6.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_return_authorizations" RENAME COLUMN "reason" TO "memo"[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106001"]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSpreePromotionCategories (20170726106002)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (17.7ms)[0m  [1m[35mCREATE TABLE "spree_promotion_categories" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "spree_promotions" ADD "promotion_category_id" integer[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE  INDEX  "index_spree_promotions_on_promotion_category_id" ON "spree_promotions"  ("promotion_category_id")[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106002"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to DropReceivedAtOnReturnItems (20170726106003)
  [1m[35m (6.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "spree_return_items" DROP "received_at"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106003"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddReceptionAndAcceptanceStatusToReturnItems (20170726106004)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.8ms)[0m  [1m[35mALTER TABLE "spree_return_items" ADD "reception_status" character varying[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "spree_return_items" ADD "acceptance_status" character varying[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106004"]]
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateDefaultRefundReason (20170726106005)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::RefundReason Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_refund_reasons" WHERE LOWER("spree_refund_reasons"."name") = LOWER($1) LIMIT $2[0m  [["name", "Return processing"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_refund_reasons" ("name", "mutable", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Return processing"], ["mutable", "f"], ["created_at", "2017-07-26 10:59:03.220881"], ["updated_at", "2017-07-26 10:59:03.220881"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106005"]]
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDefaultToSpreeStockLocations (20170726106006)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106006"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSpreeCustomerReturns (20170726106007)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "spree_customer_returns" ("id" serial NOT NULL PRIMARY KEY, "number" character varying, "stock_location_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106007"]]
  [1m[35m (4.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCustomerReturnIdToReturnItem (20170726106008)
  [1m[35m (6.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "spree_return_items" ADD "customer_return_id" integer[0m
  [1m[35m (7.9ms)[0m  [1m[35mCREATE  INDEX  "index_return_items_on_customer_return_id" ON "spree_return_items"  ("customer_return_id")[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106008"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFriendlyIdSlugs (20170726106009)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "friendly_id_slugs" ("id" serial NOT NULL PRIMARY KEY, "slug" character varying NOT NULL, "sluggable_id" integer NOT NULL, "sluggable_type" character varying(50), "scope" character varying, "created_at" timestamp)[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE  INDEX  "index_friendly_id_slugs_on_sluggable_id" ON "friendly_id_slugs"  ("sluggable_id")[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE  INDEX  "index_friendly_id_slugs_on_slug_and_sluggable_type" ON "friendly_id_slugs"  ("slug", "sluggable_type")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_friendly_id_slugs_on_slug_and_sluggable_type_and_scope" ON "friendly_id_slugs"  ("slug", "sluggable_type", "scope")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_friendly_id_slugs_on_sluggable_type" ON "friendly_id_slugs"  ("sluggable_type")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106009"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenameSpreeRefundReturnAuthorizationId (20170726106010)
  [1m[35m (6.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_refunds" RENAME COLUMN "return_authorization_id" TO "customer_return_id"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106010"]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to IncreaseReturnItemPreTaxAmountPrecision (20170726106011)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (26.5ms)[0m  [1m[35mALTER TABLE "spree_return_items" ALTER COLUMN "pre_tax_amount" TYPE decimal(12,4)[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "spree_return_items" ALTER COLUMN "pre_tax_amount" SET DEFAULT 0.0[0m
  [1m[35m (0.7ms)[0m  [1m[33mUPDATE "spree_return_items" SET "pre_tax_amount"=0.0 WHERE "pre_tax_amount" IS NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "spree_return_items" ALTER "pre_tax_amount" SET NOT NULL[0m
  [1m[35m (9.3ms)[0m  [1m[35mALTER TABLE "spree_return_items" ALTER COLUMN "included_tax_total" TYPE decimal(12,4)[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "spree_return_items" ALTER COLUMN "included_tax_total" SET DEFAULT 0.0[0m
  [1m[35m (0.5ms)[0m  [1m[33mUPDATE "spree_return_items" SET "included_tax_total"=0.0 WHERE "included_tax_total" IS NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "spree_return_items" ALTER "included_tax_total" SET NOT NULL[0m
  [1m[35m (9.3ms)[0m  [1m[35mALTER TABLE "spree_return_items" ALTER COLUMN "additional_tax_total" TYPE decimal(12,4)[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_return_items" ALTER COLUMN "additional_tax_total" SET DEFAULT 0.0[0m
  [1m[35m (0.5ms)[0m  [1m[33mUPDATE "spree_return_items" SET "additional_tax_total"=0.0 WHERE "additional_tax_total" IS NULL[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "spree_return_items" ALTER "additional_tax_total" SET NOT NULL[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106011"]]
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CopyProductSlugsToSlugHistory (20170726106012)
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[32mINSERT INTO friendly_id_slugs (slug, sluggable_id, sluggable_type, created_at)
  SELECT slug, id, 'Spree::Product', '2017-07-26 10:59:03.457344' 
  FROM spree_products
  WHERE slug IS NOT NULL
  ORDER BY id
[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106012"]]
  [1m[35m (6.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSpreeReimbursements (20170726106013)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (18.4ms)[0m  [1m[35mCREATE TABLE "spree_reimbursements" ("id" serial NOT NULL PRIMARY KEY, "number" character varying, "reimbursement_status" character varying, "customer_return_id" integer, "order_id" integer, "total" decimal(10,2), "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE  INDEX  "index_spree_reimbursements_on_customer_return_id" ON "spree_reimbursements"  ("customer_return_id")[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE  INDEX  "index_spree_reimbursements_on_order_id" ON "spree_reimbursements"  ("order_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_refunds" DROP "customer_return_id"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_refunds" ADD "reimbursement_id" integer[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_return_items" ADD "reimbursement_id" integer[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106013"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPromotionableToSpreeProducts (20170726106014)
  [1m[35m (6.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (51.4ms)[0m  [1m[35mALTER TABLE "spree_products" ADD "promotionable" boolean DEFAULT 't'[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106014"]]
  [1m[35m (3.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddExchangeInventoryUnitForeignKeys (20170726106015)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "spree_return_items" ADD "exchange_inventory_unit_id" integer[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_return_items_on_exchange_inventory_unit_id" ON "spree_return_items"  ("exchange_inventory_unit_id")[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106015"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddAcceptanceStatusErrorsToReturnItem (20170726106016)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_return_items" ADD "acceptance_status_errors" text[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106016"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSpreeReimbursementTypes (20170726106017)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (20.1ms)[0m  [1m[35mCREATE TABLE "spree_reimbursement_types" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "active" boolean DEFAULT 't', "mutable" boolean DEFAULT 't', "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mSpree::ReimbursementType Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_reimbursement_types" WHERE LOWER("spree_reimbursement_types"."name") = LOWER($1) LIMIT $2[0m  [["name", "original"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_reimbursement_types" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "original"], ["created_at", "2017-07-26 10:59:03.658822"], ["updated_at", "2017-07-26 10:59:03.658822"]]
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_return_items" ADD "preferred_reimbursement_type_id" integer[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "spree_return_items" ADD "override_reimbursement_type_id" integer[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106017"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDefaultToShipmentCost (20170726106018)
  [1m[35m (18.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "spree_shipments" ALTER COLUMN "cost" TYPE decimal(10,2)[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_shipments" ALTER COLUMN "cost" SET DEFAULT 0.0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_shipments" SET "cost" = 0 WHERE "spree_shipments"."cost" IS NULL[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106018"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDefaultToSpreeCreditCards (20170726106019)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (30.0ms)[0m  [1m[35mALTER TABLE "spree_credit_cards" ADD "default" boolean DEFAULT 'f' NOT NULL[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106019"]]
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to MakeExistingCreditCardsDefault (20170726106020)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (11.1ms)[0m  [1m[33mUPDATE "spree_credit_cards" SET "default" = 't' WHERE "spree_credit_cards"."id" IN (SELECT "spree_credit_cards"."id" FROM "spree_credit_cards" LEFT OUTER JOIN spree_credit_cards cc2 ON cc2.user_id = spree_credit_cards.user_id AND spree_credit_cards.created_at < cc2.created_at WHERE ("spree_credit_cards"."user_id" IS NOT NULL) AND (cc2.user_id IS NULL))[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106020"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTypeToReimbursementType (20170726106021)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "spree_reimbursement_types" ADD "type" character varying[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE  INDEX  "index_spree_reimbursement_types_on_type" ON "spree_reimbursement_types"  ("type")[0m
  [1m[36mSpree::ReimbursementType Load (5.8ms)[0m  [1m[34mSELECT  "spree_reimbursement_types".* FROM "spree_reimbursement_types" WHERE "spree_reimbursement_types"."name" = $1 ORDER BY LOWER(spree_reimbursement_types.name) LIMIT $2[0m  [["name", "original"], ["LIMIT", 1]]
  [1m[36mSpree::ReimbursementType Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_reimbursement_types" WHERE LOWER("spree_reimbursement_types"."name") = LOWER($1) AND ("spree_reimbursement_types"."id" != $2) LIMIT $3[0m  [["name", "original"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_reimbursement_types" SET "type" = $1, "updated_at" = $2 WHERE "spree_reimbursement_types"."id" = $3[0m  [["type", "Spree::ReimbursementType::OriginalPayment"], ["updated_at", "2017-07-26 10:59:03.814018"], ["id", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106021"]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSpreeReimbursementCredits (20170726106022)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (17.0ms)[0m  [1m[35mCREATE TABLE "spree_reimbursement_credits" ("id" serial NOT NULL PRIMARY KEY, "amount" decimal(10,2) DEFAULT 0.0 NOT NULL, "reimbursement_id" integer, "creditable_id" integer, "creditable_type" character varying)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106022"]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddMetaTitleToSpreeProducts (20170726106023)
  [1m[35m (6.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "spree_products" ADD "meta_title" character varying[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106023"]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddKindToZone (20170726106024)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "spree_zones" ADD "kind" character varying[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_zones_on_kind" ON "spree_zones"  ("kind")[0m
  [1m[36mSpree::Zone Load (0.7ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" ORDER BY "spree_zones"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106024"]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCodeToSpreeTaxCategories (20170726106025)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_tax_categories" ADD "tax_code" character varying[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106025"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to DefaultPreTaxAmountShouldBeZero (20170726106026)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "spree_line_items" ALTER COLUMN "pre_tax_amount" TYPE decimal(8,2)[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "spree_line_items" ALTER COLUMN "pre_tax_amount" SET DEFAULT 0[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_shipments" ALTER COLUMN "pre_tax_amount" TYPE decimal(8,2)[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_shipments" ALTER COLUMN "pre_tax_amount" SET DEFAULT 0[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106026"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCodeToSpreeShippingMethods (20170726106027)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "spree_shipping_methods" ADD "code" character varying[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106027"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCancelAuditFieldsToSpreeOrders (20170726106028)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_orders" ADD "canceled_at" timestamp[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_orders" ADD "canceler_id" integer[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106028"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddStoreIdToOrders (20170726106029)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "spree_orders" ADD "store_id" integer[0m
  [1m[36mSpree::Store Load (1.1ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.5ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_orders" SET "store_id" = 1 WHERE "spree_orders"."store_id" IS NULL[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106029"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSpreeTaxonsPrototypes (20170726106030)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.3ms)[0m  [1m[35mCREATE TABLE "spree_taxons_prototypes" ("id" serial NOT NULL PRIMARY KEY, "taxon_id" integer, "prototype_id" integer)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_taxons_prototypes_on_taxon_id" ON "spree_taxons_prototypes"  ("taxon_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_taxons_prototypes_on_prototype_id" ON "spree_taxons_prototypes"  ("prototype_id")[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106030"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddStateLockVersionToOrder (20170726106031)
  [1m[35m (6.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (34.2ms)[0m  [1m[35mALTER TABLE "spree_orders" ADD "state_lock_version" integer DEFAULT 0 NOT NULL[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106031"]]
  [1m[35m (3.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCounterCacheFromSpreeVariantsToSpreeStockItems (20170726106032)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106032"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to FixAdjustmentOrderPresence (20170726106033)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Adjustment Load (1.1ms)[0m  [1m[34mSELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" IS NULL ORDER BY "spree_adjustments"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106033"]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to UpdateClassificationsPositions (20170726106034)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons"[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106034"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddGuestTokenIndexToSpreeOrders (20170726106035)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE  INDEX  "index_spree_orders_on_guest_token" ON "spree_orders"  ("guest_token")[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106035"]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveTokenPermissionsTable (20170726106036)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.8ms)[0m  [1m[35mDROP TABLE "spree_tokenized_permissions"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106036"]]
  [1m[35m (7.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveExtraProductsSlugIndex (20170726106037)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP INDEX  "permalink_idx_unique"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106037"]]
  [1m[35m (6.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to UpdateProductSlugIndex (20170726106038)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP INDEX  "index_spree_products_on_slug"[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_spree_products_on_slug" ON "spree_products"  ("slug")[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106038"]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenameIdentifierToNumberForPayment (20170726106039)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_payments" RENAME COLUMN "identifier" TO "number"[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106039"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSpreeStoreCredits (20170726106040)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (20.7ms)[0m  [1m[35mCREATE TABLE "spree_store_credits" ("id" serial NOT NULL PRIMARY KEY, "user_id" integer, "category_id" integer, "created_by_id" integer, "amount" decimal(8,2) DEFAULT 0.0 NOT NULL, "amount_used" decimal(8,2) DEFAULT 0.0 NOT NULL, "memo" text, "deleted_at" timestamp, "currency" character varying, "amount_authorized" decimal(8,2) DEFAULT 0.0 NOT NULL, "originator_id" integer, "originator_type" character varying, "type_id" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_store_credits_on_deleted_at" ON "spree_store_credits"  ("deleted_at")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX  "index_spree_store_credits_on_user_id" ON "spree_store_credits"  ("user_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_store_credits_on_type_id" ON "spree_store_credits"  ("type_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "spree_store_credits_originator" ON "spree_store_credits"  ("originator_id", "originator_type")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106040"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSpreeStoreCreditCategories (20170726106041)
  [1m[35m (6.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (20.2ms)[0m  [1m[35mCREATE TABLE "spree_store_credit_categories" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106041"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSpreeStoreCreditEvents (20170726106042)
  [1m[35m (5.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (21.6ms)[0m  [1m[35mCREATE TABLE "spree_store_credit_events" ("id" serial NOT NULL PRIMARY KEY, "store_credit_id" integer NOT NULL, "action" character varying NOT NULL, "amount" decimal(8,2), "authorization_code" character varying NOT NULL, "user_total_amount" decimal(8,2) DEFAULT 0.0 NOT NULL, "originator_id" integer, "originator_type" character varying, "deleted_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE  INDEX  "index_spree_store_credit_events_on_store_credit_id" ON "spree_store_credit_events"  ("store_credit_id")[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE  INDEX  "spree_store_credit_events_originator" ON "spree_store_credit_events"  ("originator_id", "originator_type")[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106042"]]
  [1m[35m (4.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSpreeStoreCreditTypes (20170726106043)
  [1m[35m (6.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (18.3ms)[0m  [1m[35mCREATE TABLE "spree_store_credit_types" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "priority" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX  "index_spree_store_credit_types_on_priority" ON "spree_store_credit_types"  ("priority")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106043"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveEnvironmentFromPaymentMethod (20170726106044)
  [1m[35m (6.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_payment_methods" SET "active" = 'f' WHERE "spree_payment_methods"."deleted_at" IS NULL AND (environment != 'development')[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "spree_payment_methods" DROP "environment"[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106044"]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddResellableToReturnItems (20170726106045)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (28.7ms)[0m  [1m[35mALTER TABLE "spree_return_items" ADD "resellable" boolean DEFAULT 't' NOT NULL[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106045"]]
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCodeToSpreePromotionCategories (20170726106046)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_promotion_categories" ADD "code" character varying[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106046"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveEnvironmentFromTracker (20170726106047)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_trackers" SET "active" = 'f' WHERE (environment != 'development')[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "spree_trackers" DROP "environment"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106047"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveSpreeConfigurations (20170726106048)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mDROP TABLE "spree_configurations"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106048"]]
  [1m[35m (7.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIndexToSpreeStockItemsVariantId (20170726106049)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE  INDEX  "index_spree_stock_items_on_variant_id" ON "spree_stock_items"  ("variant_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106049"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to EnsurePaymentsHaveNumbers (20170726106050)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_payments_on_number" ON "spree_payments"  ("number")[0m
Scoped order is ignored, it's forced to be batch order.
  [1m[36mSpree::Payment Load (0.9ms)[0m  [1m[34mSELECT  "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."number" IS NULL ORDER BY "spree_payments"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106050"]]
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddMissingIndexesOnSpreeTables (20170726106051)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE  INDEX  "index_promotion_rules_users_on_user_id_and_promotion_rule_id" ON "spree_promotion_rules_users"  ("user_id", "promotion_rule_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_products_promotion_rules_on_promotion_rule_and_product" ON "spree_products_promotion_rules"  ("promotion_rule_id", "product_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_orders_on_canceler_id" ON "spree_orders"  ("canceler_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_orders_on_store_id" ON "spree_orders"  ("store_id")[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE  INDEX  "index_spree_orders_promotions_on_promotion_id_and_order_id" ON "spree_orders_promotions"  ("promotion_id", "order_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX  "index_spree_properties_prototypes_on_prototype_id" ON "spree_properties_prototypes"  ("prototype_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_properties_prototypes_on_prototype_and_property" ON "spree_properties_prototypes"  ("prototype_id", "property_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_taxons_prototypes_on_prototype_id_and_taxon_id" ON "spree_taxons_prototypes"  ("prototype_id", "taxon_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX  "index_spree_option_types_prototypes_on_prototype_id" ON "spree_option_types_prototypes"  ("prototype_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX  "index_option_types_prototypes_on_prototype_and_option_type" ON "spree_option_types_prototypes"  ("prototype_id", "option_type_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_option_values_variants_on_option_value_and_variant" ON "spree_option_values_variants"  ("option_value_id", "variant_id")[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106051"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveDuplicatedIndexesFromMultiColumns (20170726106052)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP INDEX  "index_adjustments_on_order_id"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP INDEX  "index_spree_option_types_prototypes_on_prototype_id"[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_option_types_prototypes_on_option_type_id" ON "spree_option_types_prototypes"  ("option_type_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP INDEX  "index_option_values_variants_on_option_value_and_variant"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP INDEX  "index_spree_option_values_variants_on_variant_id"[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_option_values_variants_on_option_value_id" ON "spree_option_values_variants"  ("option_value_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP INDEX  "index_spree_orders_on_user_id"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP INDEX  "index_spree_orders_promotions_on_order_id_and_promotion_id"[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX  "index_spree_orders_promotions_on_order_id" ON "spree_orders_promotions"  ("order_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP INDEX  "index_products_promotion_rules_on_promotion_rule_id"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP INDEX  "index_promotion_rules_users_on_user_id"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP INDEX  "index_spree_properties_prototypes_on_prototype_id"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP INDEX  "index_spree_stock_items_on_stock_location_id"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP INDEX  "index_spree_taxons_prototypes_on_prototype_id"[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106052"]]
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveUserIndexFromSpreeStateChanges (20170726106053)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP INDEX  "index_spree_state_changes_on_user_id"[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106053"]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to FixAdjustmentOrderId (20170726106054)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[33mUPDATE spree_adjustments SET order_id = adjustable_id WHERE adjustable_type = 'Spree::Order' ;[0m
  [1m[35m (1.1ms)[0m  [1m[33mUPDATE spree_adjustments SET order_id = (SELECT order_id FROM spree_line_items WHERE spree_line_items.id = spree_adjustments.adjustable_id) WHERE adjustable_type = 'Spree::LineItem'[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "spree_adjustments" ALTER COLUMN "order_id" TYPE integer[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_adjustments" ALTER "order_id" SET NOT NULL[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106054"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddPositionToSpreePaymentMethods (20170726106055)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (27.6ms)[0m  [1m[35mALTER TABLE "spree_payment_methods" ADD "position" integer DEFAULT 0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106055"]]
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDeletedAtToFriendlyIdSlugs (20170726106056)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "friendly_id_slugs" ADD "deleted_at" timestamp[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE  INDEX  "index_friendly_id_slugs_on_deleted_at" ON "friendly_id_slugs"  ("deleted_at")[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106056"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to IncreaseScaleOnPreTaxAmounts (20170726106057)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[33m      UPDATE spree_shipments
      SET pre_tax_amount = (cost + promo_total) - included_tax_total
      WHERE pre_tax_amount IS NULL;
[0m
  [1m[35m (31.8ms)[0m  [1m[35mALTER TABLE "spree_line_items" ALTER COLUMN "pre_tax_amount" TYPE decimal(12,4)[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "spree_line_items" ALTER COLUMN "pre_tax_amount" SET DEFAULT 0.0[0m
  [1m[35m (0.8ms)[0m  [1m[33mUPDATE "spree_line_items" SET "pre_tax_amount"=0.0 WHERE "pre_tax_amount" IS NULL[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_line_items" ALTER "pre_tax_amount" SET NOT NULL[0m
  [1m[35m (14.0ms)[0m  [1m[35mALTER TABLE "spree_shipments" ALTER COLUMN "pre_tax_amount" TYPE decimal(12,4)[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_shipments" ALTER COLUMN "pre_tax_amount" SET DEFAULT 0.0[0m
  [1m[35m (0.6ms)[0m  [1m[33mUPDATE "spree_shipments" SET "pre_tax_amount"=0.0 WHERE "pre_tax_amount" IS NULL[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_shipments" ALTER "pre_tax_amount" SET NOT NULL[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106057"]]
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddTaxableAdjustmentTotalToLineItem (20170726106058)
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (29.0ms)[0m  [1m[35mALTER TABLE "spree_line_items" ADD "taxable_adjustment_total" decimal(10,2) DEFAULT 0.0 NOT NULL[0m
  [1m[35m (17.0ms)[0m  [1m[35mALTER TABLE "spree_line_items" ADD "non_taxable_adjustment_total" decimal(10,2) DEFAULT 0.0 NOT NULL[0m
  [1m[35m (16.8ms)[0m  [1m[35mALTER TABLE "spree_shipments" ADD "taxable_adjustment_total" decimal(10,2) DEFAULT 0.0 NOT NULL[0m
  [1m[35m (17.2ms)[0m  [1m[35mALTER TABLE "spree_shipments" ADD "non_taxable_adjustment_total" decimal(10,2) DEFAULT 0.0 NOT NULL[0m
  [1m[35m (32.5ms)[0m  [1m[35mALTER TABLE "spree_orders" ADD "taxable_adjustment_total" decimal(10,2) DEFAULT 0.0 NOT NULL[0m
  [1m[35m (32.1ms)[0m  [1m[35mALTER TABLE "spree_orders" ADD "non_taxable_adjustment_total" decimal(10,2) DEFAULT 0.0 NOT NULL[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106058"]]
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to MigratePaymentMethodsDisplay (20170726106059)
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PaymentMethod Load (1.0ms)[0m  [1m[34mSELECT "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "spree_payment_methods" ALTER COLUMN "display_on" TYPE character varying[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_payment_methods" ALTER COLUMN "display_on" SET DEFAULT 'both'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106059"]]
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to EnableActsAsParanoidOnCalculators (20170726106060)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_calculators" ADD "deleted_at" timestamp[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE  INDEX  "index_spree_calculators_on_deleted_at" ON "spree_calculators"  ("deleted_at")[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106060"]]
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to SpreePaymentMethodStoreCredits (20170726106061)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PaymentMethod::StoreCredit Load (0.7ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."type" IN ('Spree::PaymentMethod::StoreCredit') AND "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."name" = $1 AND "spree_payment_methods"."description" = $2 AND "spree_payment_methods"."active" = $3 AND "spree_payment_methods"."display_on" = $4 LIMIT $5[0m  [["name", "Store Credit"], ["description", "Store Credit"], ["active", "t"], ["display_on", "back_end"], ["LIMIT", 1]]
  [1m[36mSpree::PaymentMethod Load (0.7ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE (1 = 1) AND ("spree_payment_methods"."position" IS NOT NULL) ORDER BY "spree_payment_methods"."position" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_payment_methods" ("type", "name", "description", "created_at", "updated_at", "display_on", "position") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["type", "Spree::PaymentMethod::StoreCredit"], ["name", "Store Credit"], ["description", "Store Credit"], ["created_at", "2017-07-26 10:59:05.275895"], ["updated_at", "2017-07-26 10:59:05.275895"], ["display_on", "back_end"], ["position", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106061"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenameHasAndBelongsToAssociationsToModelNames (20170726106062)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_option_types_prototypes" RENAME TO "spree_option_type_prototypes"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER INDEX "index_spree_option_types_prototypes_on_option_type_id" RENAME TO "index_spree_option_type_prototypes_on_option_type_id"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "spree_option_values_variants" RENAME TO "spree_option_value_variants"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER INDEX "index_spree_option_values_variants_on_option_value_id" RENAME TO "index_spree_option_value_variants_on_option_value_id"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "spree_orders_promotions" RENAME TO "spree_order_promotions"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER INDEX "index_spree_orders_promotions_on_order_id" RENAME TO "index_spree_order_promotions_on_order_id"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER INDEX "index_spree_orders_promotions_on_promotion_id_and_order_id" RENAME TO "index_spree_order_promotions_on_promotion_id_and_order_id"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_products_promotion_rules" RENAME TO "spree_product_promotion_rules"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_taxons_promotion_rules" RENAME TO "spree_promotion_rule_taxons"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "public"."spree_taxons_promotion_rules_id_seq" RENAME TO "spree_promotion_rule_taxons_id_seq"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER INDEX "spree_taxons_promotion_rules_pkey" RENAME TO "spree_promotion_rule_taxons_pkey"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER INDEX "index_spree_taxons_promotion_rules_on_promotion_rule_id" RENAME TO "index_spree_promotion_rule_taxons_on_promotion_rule_id"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER INDEX "index_spree_taxons_promotion_rules_on_taxon_id" RENAME TO "index_spree_promotion_rule_taxons_on_taxon_id"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "spree_promotion_rules_users" RENAME TO "spree_promotion_rule_users"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_properties_prototypes" RENAME TO "spree_property_prototypes"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_taxons_prototypes" RENAME TO "spree_prototype_taxons"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "public"."spree_taxons_prototypes_id_seq" RENAME TO "spree_prototype_taxons_id_seq"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER INDEX "spree_taxons_prototypes_pkey" RENAME TO "spree_prototype_taxons_pkey"[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER INDEX "index_spree_taxons_prototypes_on_prototype_id_and_taxon_id" RENAME TO "index_spree_prototype_taxons_on_prototype_id_and_taxon_id"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER INDEX "index_spree_taxons_prototypes_on_taxon_id" RENAME TO "index_spree_prototype_taxons_on_taxon_id"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_roles_users" RENAME TO "spree_role_users"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER INDEX "index_spree_roles_users_on_role_id" RENAME TO "index_spree_role_users_on_role_id"[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER INDEX "index_spree_roles_users_on_user_id" RENAME TO "index_spree_role_users_on_user_id"[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_shipping_methods_zones" RENAME TO "spree_shipping_method_zones"[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106062"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to SpreeStoreCreditTypes (20170726106063)
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::StoreCreditType Load (0.6ms)[0m  [1m[34mSELECT  "spree_store_credit_types".* FROM "spree_store_credit_types" WHERE "spree_store_credit_types"."name" = $1 AND "spree_store_credit_types"."priority" = $2 LIMIT $3[0m  [["name", "Expiring"], ["priority", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_store_credit_types" ("name", "priority", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Expiring"], ["priority", 1], ["created_at", "2017-07-26 10:59:05.409147"], ["updated_at", "2017-07-26 10:59:05.409147"]]
  [1m[36mSpree::StoreCreditType Load (0.4ms)[0m  [1m[34mSELECT  "spree_store_credit_types".* FROM "spree_store_credit_types" WHERE "spree_store_credit_types"."name" = $1 AND "spree_store_credit_types"."priority" = $2 LIMIT $3[0m  [["name", "Non-expiring"], ["priority", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_store_credit_types" ("name", "priority", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Non-expiring"], ["priority", 2], ["created_at", "2017-07-26 10:59:05.412726"], ["updated_at", "2017-07-26 10:59:05.412726"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106063"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDiscontinuedToProductsAndVariants (20170726106064)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_products" ADD "discontinue_on" timestamp[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_variants" ADD "discontinue_on" timestamp[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE  INDEX  "index_spree_products_on_discontinue_on" ON "spree_products"  ("discontinue_on")[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_variants_on_discontinue_on" ON "spree_variants"  ("discontinue_on")[0m
  [1m[36mSpree::Product Load (1.9ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE ("spree_products"."deleted_at" IS NOT NULL)[0m
  [1m[36mSpree::Variant Load (1.3ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE ("spree_variants"."deleted_at" IS NOT NULL)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106064"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveShippingMethodIdFromSpreeOrders (20170726106065)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_orders" DROP "shipping_method_id"[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106065"]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIdColumnToEarlierHabtmTables (20170726106066)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (24.4ms)[0m  [1m[35mALTER TABLE "spree_option_type_prototypes" ADD "id" bigserial primary key[0m
  [1m[35m (8.7ms)[0m  [1m[35mALTER TABLE "spree_option_value_variants" ADD "id" bigserial primary key[0m
  [1m[35m (9.1ms)[0m  [1m[35mALTER TABLE "spree_order_promotions" ADD "id" bigserial primary key[0m
  [1m[35m (9.3ms)[0m  [1m[35mALTER TABLE "spree_product_promotion_rules" ADD "id" bigserial primary key[0m
  [1m[35m (9.4ms)[0m  [1m[35mALTER TABLE "spree_promotion_rule_users" ADD "id" bigserial primary key[0m
  [1m[35m (6.7ms)[0m  [1m[35mALTER TABLE "spree_property_prototypes" ADD "id" bigserial primary key[0m
  [1m[35m (8.9ms)[0m  [1m[35mALTER TABLE "spree_role_users" ADD "id" bigserial primary key[0m
  [1m[35m (6.3ms)[0m  [1m[35mALTER TABLE "spree_shipping_method_zones" ADD "id" bigserial primary key[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106066"]]
  [1m[35m (3.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIndexes (20170726106067)
  [1m[35m (28.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_assets_on_position" ON "spree_assets"  ("position")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_option_types_on_name" ON "spree_option_types"  ("name")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_option_values_on_name" ON "spree_option_values"  ("name")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_prices_on_variant_id" ON "spree_prices"  ("variant_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_properties_on_name" ON "spree_properties"  ("name")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_roles_on_name" ON "spree_roles"  ("name")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_shipping_categories_on_name" ON "spree_shipping_categories"  ("name")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_taxons_on_lft" ON "spree_taxons"  ("lft")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_taxons_on_rgt" ON "spree_taxons"  ("rgt")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_taxons_on_name" ON "spree_taxons"  ("name")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106067"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to RemoveCounterCacheFromSpreeVariantsToSpreeStockItems (20170726106068)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106068"]]
  [1m[35m (12.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to ActsAsTaggableOnSpreeMigration (20170726106069)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (23.1ms)[0m  [1m[35mCREATE TABLE "spree_tags" ("id" serial NOT NULL PRIMARY KEY, "name" character varying, "taggings_count" integer DEFAULT 0)[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "spree_taggings" ("id" serial NOT NULL PRIMARY KEY, "tag_id" integer, "taggable_type" character varying, "taggable_id" integer, "tagger_type" character varying, "tagger_id" integer, "context" character varying(128), "created_at" timestamp)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_spree_tags_on_name" ON "spree_tags"  ("name")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE UNIQUE INDEX  "spree_taggings_idx" ON "spree_taggings"  ("tag_id", "taggable_id", "taggable_type", "context", "tagger_id", "tagger_type")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106069"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeCollationForSpreeTagNames (20170726106070)
  [1m[35m (18.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106070"]]
  [1m[35m (4.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddMissingIndexesToSpreeTaggings (20170726106071)
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE  INDEX  "index_spree_taggings_on_tag_id" ON "spree_taggings"  ("tag_id")[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE  INDEX  "index_spree_taggings_on_taggable_id" ON "spree_taggings"  ("taggable_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX  "index_spree_taggings_on_taggable_type" ON "spree_taggings"  ("taggable_type")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX  "index_spree_taggings_on_tagger_id" ON "spree_taggings"  ("tagger_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX  "index_spree_taggings_on_context" ON "spree_taggings"  ("context")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_taggings_on_tagger_id_and_tagger_type" ON "spree_taggings"  ("tagger_id", "tagger_type")[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE  INDEX  "spree_taggings_idy" ON "spree_taggings"  ("taggable_id", "taggable_type", "tagger_id", "context")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106071"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddZipcodeRequiredToSpreeCountries (20170726106072)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (18.0ms)[0m  [1m[35mALTER TABLE "spree_countries" ADD "zipcode_required" boolean DEFAULT 't'[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_countries" SET "zipcode_required" = 'f' WHERE "spree_countries"."iso" IN ('AO', 'AG', 'AW', 'BS', 'BZ', 'BJ', 'BM', 'BO', 'BW', 'BF', 'BI', 'CM', 'CF', 'KM', 'CG', 'CD', 'CK', 'CUW', 'CI', 'DJ', 'DM', 'GQ', 'ER', 'FJ', 'TF', 'GAB', 'GM', 'GH', 'GD', 'GN', 'GY', 'HK', 'IE', 'KI', 'KP', 'LY', 'MO', 'MW', 'ML', 'MR', 'NR', 'AN', 'NU', 'KP', 'PA', 'QA', 'RW', 'KN', 'LC', 'ST', 'SC', 'SL', 'SB', 'SO', 'SR', 'SY', 'TZ', 'TL', 'TK', 'TG', 'TO', 'TV', 'UG', 'AE', 'VU', 'YE', 'ZW')[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106072"]]
  [1m[35m (7.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddCreatedAtToVariant (20170726106073)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "spree_variants" ADD "created_at" timestamp[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_variants" SET created_at = updated_at WHERE ("spree_variants"."updated_at" IS NOT NULL)[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_variants" SET "created_at" = '2017-07-26 10:59:05.935405', "updated_at" = '2017-07-26 10:59:05.935450' WHERE "spree_variants"."updated_at" IS NULL[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106073"]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddNullFalseToSpreeVariantsTimestamps (20170726106074)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "spree_variants" ALTER "created_at" SET NOT NULL[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_variants" ALTER "updated_at" SET NOT NULL[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106074"]]
  [1m[35m (7.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddQuantityToInventoryUnits (20170726106075)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (32.0ms)[0m  [1m[35mALTER TABLE "spree_inventory_units" ADD "quantity" integer DEFAULT 1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106075"]]
  [1m[35m (3.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddOriginalReturnItemIdToSpreeInventoryUnits (20170726106076)
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "spree_inventory_units" ADD "original_return_item_id" integer[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_inventory_units_on_original_return_item_id" ON "spree_inventory_units"  ("original_return_item_id")[0m
  [1m[36mSpree::ReturnItem Load (0.8ms)[0m  [1m[34mSELECT  "spree_return_items".* FROM "spree_return_items" WHERE ("spree_return_items"."exchange_inventory_unit_id" IS NOT NULL) ORDER BY "spree_return_items"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_return_items" DROP "exchange_inventory_unit_id"[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106076"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUniqueIndexOnNumberToSpreeOrders (20170726106077)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.4ms)[0m  [1m[34mSELECT "spree_orders"."number" FROM "spree_orders" GROUP BY "spree_orders"."number" HAVING (sum(1) > 1)[0m
  [1m[36mSpree::Order Load (1.3ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE 1=0 ORDER BY "spree_orders"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.5ms)[0m  [1m[35mDROP INDEX  "index_spree_orders_on_number"[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_spree_orders_on_number" ON "spree_orders"  ("number")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106077"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUniqueIndexOnNumberToSpreeStockTransfer (20170726106078)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "spree_stock_transfers"."number" FROM "spree_stock_transfers" GROUP BY "spree_stock_transfers"."number" HAVING (sum(1) > 1)[0m
  [1m[36mSpree::StockTransfer Load (0.5ms)[0m  [1m[34mSELECT  "spree_stock_transfers".* FROM "spree_stock_transfers" WHERE 1=0 ORDER BY "spree_stock_transfers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.5ms)[0m  [1m[35mDROP INDEX  "index_spree_stock_transfers_on_number"[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_spree_stock_transfers_on_number" ON "spree_stock_transfers"  ("number")[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106078"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUniqueIndexOnNumberToSpreeShipment (20170726106079)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "spree_shipments"."number" FROM "spree_shipments" GROUP BY "spree_shipments"."number" HAVING (sum(1) > 1)[0m
  [1m[36mSpree::Shipment Load (0.6ms)[0m  [1m[34mSELECT  "spree_shipments".* FROM "spree_shipments" WHERE 1=0 ORDER BY "spree_shipments"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.4ms)[0m  [1m[35mDROP INDEX  "index_shipments_on_number"[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_spree_shipments_on_number" ON "spree_shipments"  ("number")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106079"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUniqueIndexOnNumberToSpreePayments (20170726106080)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "spree_payments"."number" FROM "spree_payments" GROUP BY "spree_payments"."number" HAVING (sum(1) > 1)[0m
Scoped order is ignored, it's forced to be batch order.
  [1m[36mSpree::Payment Load (0.6ms)[0m  [1m[34mSELECT  "spree_payments".* FROM "spree_payments" WHERE 1=0 ORDER BY "spree_payments"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.4ms)[0m  [1m[35mDROP INDEX  "index_spree_payments_on_number"[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_spree_payments_on_number" ON "spree_payments"  ("number")[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106080"]]
  [1m[35m (6.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUniqueIndexOnNumberToSpreeReturnAuthorizations (20170726106081)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "spree_return_authorizations"."number" FROM "spree_return_authorizations" GROUP BY "spree_return_authorizations"."number" HAVING (sum(1) > 1)[0m
  [1m[36mSpree::ReturnAuthorization Load (0.6ms)[0m  [1m[34mSELECT  "spree_return_authorizations".* FROM "spree_return_authorizations" WHERE 1=0 ORDER BY "spree_return_authorizations"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (7.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_spree_return_authorizations_on_number" ON "spree_return_authorizations"  ("number")[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106081"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUniqueIndexOnNumberToSpreeCustomerReturns (20170726106082)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "spree_customer_returns"."number" FROM "spree_customer_returns" GROUP BY "spree_customer_returns"."number" HAVING (sum(1) > 1)[0m
  [1m[36mSpree::CustomerReturn Load (0.5ms)[0m  [1m[34mSELECT  "spree_customer_returns".* FROM "spree_customer_returns" WHERE 1=0 ORDER BY "spree_customer_returns"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (6.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_spree_customer_returns_on_number" ON "spree_customer_returns"  ("number")[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106082"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddUniqueIndexOnNumberToSpreeReimbursements (20170726106083)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "spree_reimbursements"."number" FROM "spree_reimbursements" GROUP BY "spree_reimbursements"."number" HAVING (sum(1) > 1)[0m
  [1m[36mSpree::Reimbursement Load (0.5ms)[0m  [1m[34mSELECT  "spree_reimbursements".* FROM "spree_reimbursements" WHERE 1=0 ORDER BY "spree_reimbursements"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (6.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_spree_reimbursements_on_number" ON "spree_reimbursements"  ("number")[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106083"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddMissingUniqueIndexesForUniqueAttributes (20170726106084)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "spree_countries"."name" FROM "spree_countries" GROUP BY "spree_countries"."name" HAVING (sum(1) > 1)[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE (1=0 OR "spree_countries"."name" IS NULL) ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (10.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_spree_countries_on_lower_name" ON "spree_countries"  (lower(name))[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "spree_countries"."iso_name" FROM "spree_countries" GROUP BY "spree_countries"."iso_name" HAVING (sum(1) > 1)[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE (1=0 OR "spree_countries"."iso_name" IS NULL) ORDER BY "spree_countries"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (2.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_spree_countries_on_lower_iso_name" ON "spree_countries"  (lower(iso_name))[0m
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "spree_refund_reasons"."name" FROM "spree_refund_reasons" GROUP BY "spree_refund_reasons"."name" HAVING (sum(1) > 1)[0m
Scoped order is ignored, it's forced to be batch order.
  [1m[36mSpree::RefundReason Load (0.6ms)[0m  [1m[34mSELECT  "spree_refund_reasons".* FROM "spree_refund_reasons" WHERE (1=0 OR "spree_refund_reasons"."name" IS NULL) ORDER BY "spree_refund_reasons"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (2.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_spree_refund_reasons_on_lower_name" ON "spree_refund_reasons"  (lower(name))[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "spree_reimbursement_types"."name" FROM "spree_reimbursement_types" GROUP BY "spree_reimbursement_types"."name" HAVING (sum(1) > 1)[0m
Scoped order is ignored, it's forced to be batch order.
  [1m[36mSpree::ReimbursementType Load (0.7ms)[0m  [1m[34mSELECT  "spree_reimbursement_types".* FROM "spree_reimbursement_types" WHERE (1=0 OR "spree_reimbursement_types"."name" IS NULL) ORDER BY "spree_reimbursement_types"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (2.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_spree_reimbursement_types_on_lower_name" ON "spree_reimbursement_types"  (lower(name))[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "spree_return_authorization_reasons"."name" FROM "spree_return_authorization_reasons" GROUP BY "spree_return_authorization_reasons"."name" HAVING (sum(1) > 1)[0m
Scoped order is ignored, it's forced to be batch order.
  [1m[36mSpree::ReturnAuthorizationReason Load (0.7ms)[0m  [1m[34mSELECT  "spree_return_authorization_reasons".* FROM "spree_return_authorization_reasons" WHERE (1=0 OR "spree_return_authorization_reasons"."name" IS NULL) ORDER BY "spree_return_authorization_reasons"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (2.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_spree_return_authorization_reasons_on_lower_name" ON "spree_return_authorization_reasons"  (lower(name))[0m
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "spree_roles"."name" FROM "spree_roles" GROUP BY "spree_roles"."name" HAVING (sum(1) > 1)[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE (1=0 OR "spree_roles"."name" IS NULL) ORDER BY "spree_roles"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.5ms)[0m  [1m[35mDROP INDEX  "index_spree_roles_on_name"[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_spree_roles_on_lower_name" ON "spree_roles"  (lower(name))[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "spree_stores"."code" FROM "spree_stores" GROUP BY "spree_stores"."code" HAVING (sum(1) > 1)[0m
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (1=0 OR "spree_stores"."code" IS NULL) ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[35m (0.5ms)[0m  [1m[35mDROP INDEX  "index_spree_stores_on_code"[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_spree_stores_on_lower_code" ON "spree_stores"  (lower(code))[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106084"]]
  [1m[35m (6.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIndexOnStockLocationToSpreeCustomerReturns (20170726106085)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE  INDEX  "index_spree_customer_returns_on_stock_location_id" ON "spree_customer_returns"  ("stock_location_id")[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106085"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIndexOnPrototypeToSpreeOptionTypePrototype (20170726106086)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) AS count_all, "spree_option_type_prototypes"."prototype_id" AS spree_option_type_prototypes_prototype_id, "spree_option_type_prototypes"."option_type_id" AS spree_option_type_prototypes_option_type_id FROM "spree_option_type_prototypes" GROUP BY "spree_option_type_prototypes"."prototype_id", "spree_option_type_prototypes"."option_type_id" HAVING (sum(1) > 1)[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP INDEX  "index_option_types_prototypes_on_prototype_and_option_type"[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "spree_option_type_prototypes_prototype_id_option_type_id" ON "spree_option_type_prototypes"  ("prototype_id", "option_type_id")[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE  INDEX  "index_spree_option_type_prototypes_on_prototype_id" ON "spree_option_type_prototypes"  ("prototype_id")[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106086"]]
  [1m[35m (4.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIndexesToSpreeOptionValueVariant (20170726106087)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) AS count_all, "spree_option_value_variants"."variant_id" AS spree_option_value_variants_variant_id, "spree_option_value_variants"."option_value_id" AS spree_option_value_variants_option_value_id FROM "spree_option_value_variants" GROUP BY "spree_option_value_variants"."variant_id", "spree_option_value_variants"."option_value_id" HAVING (sum(1) > 1)[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP INDEX  "index_option_values_variants_on_variant_id_and_option_value_id"[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_option_values_variants_on_variant_id_and_option_value_id" ON "spree_option_value_variants"  ("variant_id", "option_value_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_option_value_variants_on_variant_id" ON "spree_option_value_variants"  ("variant_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106087"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIndexOnPromotionIdToOrderPromotions (20170726106088)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.7ms)[0m  [1m[35mCREATE  INDEX  "index_spree_order_promotions_on_promotion_id" ON "spree_order_promotions"  ("promotion_id")[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106088"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIndexesForPropertyPrototype (20170726106089)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) AS count_all, "spree_property_prototypes"."prototype_id" AS spree_property_prototypes_prototype_id, "spree_property_prototypes"."property_id" AS spree_property_prototypes_property_id FROM "spree_property_prototypes" GROUP BY "spree_property_prototypes"."prototype_id", "spree_property_prototypes"."property_id" HAVING (sum(1) > 1)[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP INDEX  "index_properties_prototypes_on_prototype_and_property"[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_property_prototypes_on_prototype_id_and_property_id" ON "spree_property_prototypes"  ("prototype_id", "property_id")[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE  INDEX  "index_spree_property_prototypes_on_prototype_id" ON "spree_property_prototypes"  ("prototype_id")[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE  INDEX  "index_spree_property_prototypes_on_property_id" ON "spree_property_prototypes"  ("property_id")[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106089"]]
  [1m[35m (7.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIndexForPrototypeIdToPrototypeTaxons (20170726106090)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE  INDEX  "index_spree_prototype_taxons_on_prototype_id" ON "spree_prototype_taxons"  ("prototype_id")[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106090"]]
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIndexesToRefunds (20170726106091)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE  INDEX  "index_spree_refunds_on_payment_id" ON "spree_refunds"  ("payment_id")[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE  INDEX  "index_spree_refunds_on_reimbursement_id" ON "spree_refunds"  ("reimbursement_id")[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106091"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIndexesToReimbursementCredits (20170726106092)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_reimbursement_credits_on_reimbursement_id" ON "spree_reimbursement_credits"  ("reimbursement_id")[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE  INDEX  "index_reimbursement_credits_on_creditable_id_and_type" ON "spree_reimbursement_credits"  ("creditable_id", "creditable_type")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106092"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIndexesToReturnAuthorizations (20170726106093)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_return_authorizations_on_order_id" ON "spree_return_authorizations"  ("order_id")[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE  INDEX  "index_spree_return_authorizations_on_stock_location_id" ON "spree_return_authorizations"  ("stock_location_id")[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106093"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIndexesToReturnItems (20170726106094)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE  INDEX  "index_spree_return_items_on_return_authorization_id" ON "spree_return_items"  ("return_authorization_id")[0m
  [1m[35m (7.7ms)[0m  [1m[35mCREATE  INDEX  "index_spree_return_items_on_inventory_unit_id" ON "spree_return_items"  ("inventory_unit_id")[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE  INDEX  "index_spree_return_items_on_reimbursement_id" ON "spree_return_items"  ("reimbursement_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE  INDEX  "index_spree_return_items_on_exchange_variant_id" ON "spree_return_items"  ("exchange_variant_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_return_items_on_preferred_reimbursement_type_id" ON "spree_return_items"  ("preferred_reimbursement_type_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_return_items_on_override_reimbursement_type_id" ON "spree_return_items"  ("override_reimbursement_type_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106094"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIndexToRoleUsers (20170726106095)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) AS count_all, "spree_role_users"."role_id" AS spree_role_users_role_id, "spree_role_users"."user_id" AS spree_role_users_user_id FROM "spree_role_users" GROUP BY "spree_role_users"."role_id", "spree_role_users"."user_id" HAVING (sum(1) > 1)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106095"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIndexToShippingMethodCategories (20170726106096)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE  INDEX  "index_spree_shipping_method_categories_on_shipping_category_id" ON "spree_shipping_method_categories"  ("shipping_category_id")[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106096"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIndexToShippingMethodZones (20170726106097)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) AS count_all, "spree_shipping_method_zones"."shipping_method_id" AS spree_shipping_method_zones_shipping_method_id, "spree_shipping_method_zones"."zone_id" AS spree_shipping_method_zones_zone_id FROM "spree_shipping_method_zones" GROUP BY "spree_shipping_method_zones"."shipping_method_id", "spree_shipping_method_zones"."zone_id" HAVING (sum(1) > 1)[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE  INDEX  "index_spree_shipping_method_zones_on_zone_id" ON "spree_shipping_method_zones"  ("zone_id")[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE  INDEX  "index_spree_shipping_method_zones_on_shipping_method_id" ON "spree_shipping_method_zones"  ("shipping_method_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106097"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIndexToSpreeShippingRates (20170726106098)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_shipping_rates_on_shipment_id" ON "spree_shipping_rates"  ("shipment_id")[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE  INDEX  "index_spree_shipping_rates_on_shipping_method_id" ON "spree_shipping_rates"  ("shipping_method_id")[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106098"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIndexToSpreeStockItems (20170726106099)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE  INDEX  "index_spree_stock_items_on_stock_location_id" ON "spree_stock_items"  ("stock_location_id")[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106099"]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIndexToSpreeStockMovement (20170726106100)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.9ms)[0m  [1m[35mCREATE  INDEX  "index_stock_movements_on_originator_id_and_originator_type" ON "spree_stock_movements"  ("originator_id", "originator_type")[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106100"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to ChangeIndexesOnFriendlyIdSlugs (20170726106101)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP INDEX  "index_friendly_id_slugs_on_slug_and_sluggable_type"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP INDEX  "index_friendly_id_slugs_on_slug_and_sluggable_type_and_scope"[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE  INDEX  "index_friendly_id_slugs_on_slug_and_sluggable_type" ON "friendly_id_slugs"  ("slug", "sluggable_type")[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_friendly_id_slugs_on_slug_and_sluggable_type_and_scope" ON "friendly_id_slugs"  ("slug", "sluggable_type", "scope")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106101"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddApiKeyToSpreeUsers (20170726106102)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "spree_users" ADD "api_key" character varying(40)[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106102"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to ResizeApiKeyField (20170726106103)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "spree_users" ALTER COLUMN "api_key" TYPE character varying(48)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106103"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenameApiKeyToSpreeApiKey (20170726106104)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_users" RENAME COLUMN "api_key" TO "spree_api_key"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106104"]]
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddIndexToUserSpreeApiKey (20170726106105)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_users_on_spree_api_key" ON "spree_users"  ("spree_api_key")[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106105"]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateUsers (20170726106106)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106106"]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to RenameColumnsForDevise (20170726106107)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106107"]]
  [1m[35m (6.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to ConvertUserRememberField (20170726106108)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "spree_users" DROP "remember_created_at"[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_users" ADD "remember_created_at" timestamp[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106108"]]
  [1m[35m (6.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddResetPasswordSentAtToSpreeUsers (20170726106109)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106109"]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to MakeUsersEmailIndexUnique (20170726106110)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "email_idx_unique" ON "spree_users"  ("email")[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106110"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDeletedAtToUsers (20170726106111)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_users" ADD "deleted_at" timestamp[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE  INDEX  "index_spree_users_on_deleted_at" ON "spree_users"  ("deleted_at")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106111"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddConfirmableToUsers (20170726106112)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "spree_users" ADD "confirmation_token" character varying[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_users" ADD "confirmed_at" timestamp[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "spree_users" ADD "confirmation_sent_at" timestamp[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106112"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddMissingIndicesOnUser (20170726106113)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE  INDEX  "index_spree_users_on_bill_address_id" ON "spree_users"  ("bill_address_id")[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE  INDEX  "index_spree_users_on_ship_address_id" ON "spree_users"  ("ship_address_id")[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106113"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to UpdateBraintreePaymentMethodType (20170726106114)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_payment_methods" SET "type" = 'Spree::Gateway::BraintreeGateway' WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."type" = $1[0m  [["type", "Spree::Gateway::Braintree"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106114"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to UpdateStripePaymentMethodType (20170726106115)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_payment_methods" SET "type" = 'Spree::Gateway::StripeGateway' WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."type" = $1[0m  [["type", "Spree::Gateway::Stripe"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106115"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to UpdateBalancedPaymentMethodType (20170726106116)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_payment_methods" SET "type" = 'Spree::Gateway::BalancedGateway' WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."type" = $1[0m  [["type", "Spree::Gateway::Balanced"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106116"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to UpdatePaypalPaymentMethodType (20170726106117)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_payment_methods" SET "type" = 'Spree::Gateway::PayPalGateway' WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."type" = $1[0m  [["type", "Spree::Gateway::PayPal"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106117"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to MigrateStripePreferences (20170726106118)
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (13.9ms)[0m  [1m[34mSELECT "spree_preferences".* FROM "spree_preferences" WHERE ("key" LIKE 'spree/gateway/stripe_gateway/login%')[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20170726106118"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.7ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2017-07-26 10:59:07.391916"], ["updated_at", "2017-07-26 10:59:07.391916"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(641904850572142290)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mSpree::Preference Load (1.0ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/auth_configuration/confirmable"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/auth_configuration/confirmable"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (121.2ms)[0m  [1m[32m  INSERT INTO spree_countries ("name", "iso3", "iso", "iso_name", "numcode", "states_required")
  VALUES ('Andorra', 'AND', 'AD', 'ANDORRA', '020', 't'), ('United Arab Emirates', 'ARE', 'AE', 'UNITED ARAB EMIRATES', '784', 't'), ('Afghanistan', 'AFG', 'AF', 'AFGHANISTAN', '004', 't'), ('Antigua and Barbuda', 'ATG', 'AG', 'ANTIGUA AND BARBUDA', '028', 't'), ('Anguilla', 'AIA', 'AI', 'ANGUILLA', '660', 'f'), ('Albania', 'ALB', 'AL', 'ALBANIA', '008', 't'), ('Armenia', 'ARM', 'AM', 'ARMENIA', '051', 't'), ('Angola', 'AGO', 'AO', 'ANGOLA', '024', 't'), ('Antarctica', 'ATA', 'AQ', 'ANTARCTICA', '010', 'f'), ('Argentina', 'ARG', 'AR', 'ARGENTINA', '032', 't'), ('American Samoa', 'ASM', 'AS', 'AMERICAN SAMOA', '016', 'f'), ('Austria', 'AUT', 'AT', 'AUSTRIA', '040', 't'), ('Australia', 'AUS', 'AU', 'AUSTRALIA', '036', 't'), ('Aruba', 'ABW', 'AW', 'ARUBA', '533', 'f'), ('Åland Islands', 'ALA', 'AX', 'ÅLAND ISLANDS', '248', 'f'), ('Azerbaijan', 'AZE', 'AZ', 'AZERBAIJAN', '031', 't'), ('Bosnia and Herzegovina', 'BIH', 'BA', 'BOSNIA AND HERZEGOVINA', '070', 't'), ('Barbados', 'BRB', 'BB', 'BARBADOS', '052', 't'), ('Bangladesh', 'BGD', 'BD', 'BANGLADESH', '050', 't'), ('Belgium', 'BEL', 'BE', 'BELGIUM', '056', 't'), ('Burkina Faso', 'BFA', 'BF', 'BURKINA FASO', '854', 't'), ('Bulgaria', 'BGR', 'BG', 'BULGARIA', '100', 't'), ('Bahrain', 'BHR', 'BH', 'BAHRAIN', '048', 't'), ('Burundi', 'BDI', 'BI', 'BURUNDI', '108', 't'), ('Benin', 'BEN', 'BJ', 'BENIN', '204', 't'), ('Saint Barthélemy', 'BLM', 'BL', 'SAINT BARTHÉLEMY', '652', 'f'), ('Bermuda', 'BMU', 'BM', 'BERMUDA', '060', 'f'), ('Brunei Darussalam', 'BRN', 'BN', 'BRUNEI DARUSSALAM', '096', 't'), ('Bolivia, Plurinational State of', 'BOL', 'BO', 'BOLIVIA, PLURINATIONAL STATE OF', '068', 't'), ('Bonaire, Sint Eustatius and Saba', 'BES', 'BQ', 'BONAIRE, SINT EUSTATIUS AND SABA', '535', 't'), ('Brazil', 'BRA', 'BR', 'BRAZIL', '076', 't'), ('Bahamas', 'BHS', 'BS', 'BAHAMAS', '044', 't'), ('Bhutan', 'BTN', 'BT', 'BHUTAN', '064', 't'), ('Bouvet Island', 'BVT', 'BV', 'BOUVET ISLAND', '074', 'f'), ('Botswana', 'BWA', 'BW', 'BOTSWANA', '072', 't'), ('Belarus', 'BLR', 'BY', 'BELARUS', '112', 't'), ('Belize', 'BLZ', 'BZ', 'BELIZE', '084', 't'), ('Canada', 'CAN', 'CA', 'CANADA', '124', 't'), ('Cocos (Keeling) Islands', 'CCK', 'CC', 'COCOS (KEELING) ISLANDS', '166', 'f'), ('Congo, The Democratic Republic of the', 'COD', 'CD', 'CONGO, THE DEMOCRATIC REPUBLIC OF THE', '180', 't'), ('Central African Republic', 'CAF', 'CF', 'CENTRAL AFRICAN REPUBLIC', '140', 't'), ('Congo', 'COG', 'CG', 'CONGO', '178', 't'), ('Switzerland', 'CHE', 'CH', 'SWITZERLAND', '756', 't'), ('Côte d''Ivoire', 'CIV', 'CI', 'CÔTE D''IVOIRE', '384', 't'), ('Cook Islands', 'COK', 'CK', 'COOK ISLANDS', '184', 'f'), ('Chile', 'CHL', 'CL', 'CHILE', '152', 't'), ('Cameroon', 'CMR', 'CM', 'CAMEROON', '120', 't'), ('China', 'CHN', 'CN', 'CHINA', '156', 't'), ('Colombia', 'COL', 'CO', 'COLOMBIA', '170', 't'), ('Costa Rica', 'CRI', 'CR', 'COSTA RICA', '188', 't'), ('Cuba', 'CUB', 'CU', 'CUBA', '192', 't'), ('Cape Verde', 'CPV', 'CV', 'CAPE VERDE', '132', 't'), ('Curaçao', 'CUW', 'CW', 'CURAÇAO', '531', 'f'), ('Christmas Island', 'CXR', 'CX', 'CHRISTMAS ISLAND', '162', 'f'), ('Cyprus', 'CYP', 'CY', 'CYPRUS', '196', 't'), ('Czech Republic', 'CZE', 'CZ', 'CZECH REPUBLIC', '203', 't'), ('Germany', 'DEU', 'DE', 'GERMANY', '276', 't'), ('Djibouti', 'DJI', 'DJ', 'DJIBOUTI', '262', 't'), ('Denmark', 'DNK', 'DK', 'DENMARK', '208', 't'), ('Dominica', 'DMA', 'DM', 'DOMINICA', '212', 't'), ('Dominican Republic', 'DOM', 'DO', 'DOMINICAN REPUBLIC', '214', 't'), ('Algeria', 'DZA', 'DZ', 'ALGERIA', '012', 't'), ('Ecuador', 'ECU', 'EC', 'ECUADOR', '218', 't'), ('Estonia', 'EST', 'EE', 'ESTONIA', '233', 't'), ('Egypt', 'EGY', 'EG', 'EGYPT', '818', 't'), ('Western Sahara', 'ESH', 'EH', 'WESTERN SAHARA', '732', 'f'), ('Eritrea', 'ERI', 'ER', 'ERITREA', '232', 't'), ('Spain', 'ESP', 'ES', 'SPAIN', '724', 't'), ('Ethiopia', 'ETH', 'ET', 'ETHIOPIA', '231', 't'), ('Finland', 'FIN', 'FI', 'FINLAND', '246', 't'), ('Fiji', 'FJI', 'FJ', 'FIJI', '242', 't'), ('Falkland Islands (Malvinas)', 'FLK', 'FK', 'FALKLAND ISLANDS (MALVINAS)', '238', 'f'), ('Micronesia, Federated States of', 'FSM', 'FM', 'MICRONESIA, FEDERATED STATES OF', '583', 't'), ('Faroe Islands', 'FRO', 'FO', 'FAROE ISLANDS', '234', 'f'), ('France', 'FRA', 'FR', 'FRANCE', '250', 't'), ('Gabon', 'GAB', 'GA', 'GABON', '266', 't'), ('United Kingdom', 'GBR', 'GB', 'UNITED KINGDOM', '826', 't'), ('Grenada', 'GRD', 'GD', 'GRENADA', '308', 't'), ('Georgia', 'GEO', 'GE', 'GEORGIA', '268', 't'), ('French Guiana', 'GUF', 'GF', 'FRENCH GUIANA', '254', 'f'), ('Guernsey', 'GGY', 'GG', 'GUERNSEY', '831', 'f'), ('Ghana', 'GHA', 'GH', 'GHANA', '288', 't'), ('Gibraltar', 'GIB', 'GI', 'GIBRALTAR', '292', 'f'), ('Greenland', 'GRL', 'GL', 'GREENLAND', '304', 't'), ('Gambia', 'GMB', 'GM', 'GAMBIA', '270', 't'), ('Guinea', 'GIN', 'GN', 'GUINEA', '324', 't'), ('Guadeloupe', 'GLP', 'GP', 'GUADELOUPE', '312', 'f'), ('Equatorial Guinea', 'GNQ', 'GQ', 'EQUATORIAL GUINEA', '226', 't'), ('Greece', 'GRC', 'GR', 'GREECE', '300', 't'), ('South Georgia and the South Sandwich Islands', 'SGS', 'GS', 'SOUTH GEORGIA AND THE SOUTH SANDWICH ISLANDS', '239', 'f'), ('Guatemala', 'GTM', 'GT', 'GUATEMALA', '320', 't'), ('Guam', 'GUM', 'GU', 'GUAM', '316', 'f'), ('Guinea-Bissau', 'GNB', 'GW', 'GUINEA-BISSAU', '624', 't'), ('Guyana', 'GUY', 'GY', 'GUYANA', '328', 't'), ('Hong Kong', 'HKG', 'HK', 'HONG KONG', '344', 'f'), ('Heard Island and McDonald Islands', 'HMD', 'HM', 'HEARD ISLAND AND MCDONALD ISLANDS', '334', 'f'), ('Honduras', 'HND', 'HN', 'HONDURAS', '340', 't'), ('Croatia', 'HRV', 'HR', 'CROATIA', '191', 't'), ('Haiti', 'HTI', 'HT', 'HAITI', '332', 't'), ('Hungary', 'HUN', 'HU', 'HUNGARY', '348', 't'), ('Indonesia', 'IDN', 'ID', 'INDONESIA', '360', 't'), ('Ireland', 'IRL', 'IE', 'IRELAND', '372', 't'), ('Israel', 'ISR', 'IL', 'ISRAEL', '376', 't'), ('Isle of Man', 'IMN', 'IM', 'ISLE OF MAN', '833', 'f'), ('India', 'IND', 'IN', 'INDIA', '356', 't'), ('British Indian Ocean Territory', 'IOT', 'IO', 'BRITISH INDIAN OCEAN TERRITORY', '086', 'f'), ('Iraq', 'IRQ', 'IQ', 'IRAQ', '368', 't'), ('Iran, Islamic Republic of', 'IRN', 'IR', 'IRAN, ISLAMIC REPUBLIC OF', '364', 't'), ('Iceland', 'ISL', 'IS', 'ICELAND', '352', 't'), ('Italy', 'ITA', 'IT', 'ITALY', '380', 't'), ('Jersey', 'JEY', 'JE', 'JERSEY', '832', 'f'), ('Jamaica', 'JAM', 'JM', 'JAMAICA', '388', 't'), ('Jordan', 'JOR', 'JO', 'JORDAN', '400', 't'), ('Japan', 'JPN', 'JP', 'JAPAN', '392', 't'), ('Kenya', 'KEN', 'KE', 'KENYA', '404', 't'), ('Kyrgyzstan', 'KGZ', 'KG', 'KYRGYZSTAN', '417', 't'), ('Cambodia', 'KHM', 'KH', 'CAMBODIA', '116', 't'), ('Kiribati', 'KIR', 'KI', 'KIRIBATI', '296', 't'), ('Comoros', 'COM', 'KM', 'COMOROS', '174', 't'), ('Saint Kitts and Nevis', 'KNA', 'KN', 'SAINT KITTS AND NEVIS', '659', 't'), ('Korea, Democratic People''s Republic of', 'PRK', 'KP', 'KOREA, DEMOCRATIC PEOPLE''S REPUBLIC OF', '408', 't'), ('Korea, Republic of', 'KOR', 'KR', 'KOREA, REPUBLIC OF', '410', 't'), ('Kuwait', 'KWT', 'KW', 'KUWAIT', '414', 't'), ('Cayman Islands', 'CYM', 'KY', 'CAYMAN ISLANDS', '136', 'f'), ('Kazakhstan', 'KAZ', 'KZ', 'KAZAKHSTAN', '398', 't'), ('Lao People''s Democratic Republic', 'LAO', 'LA', 'LAO PEOPLE''S DEMOCRATIC REPUBLIC', '418', 't'), ('Lebanon', 'LBN', 'LB', 'LEBANON', '422', 't'), ('Saint Lucia', 'LCA', 'LC', 'SAINT LUCIA', '662', 'f'), ('Liechtenstein', 'LIE', 'LI', 'LIECHTENSTEIN', '438', 't'), ('Sri Lanka', 'LKA', 'LK', 'SRI LANKA', '144', 't'), ('Liberia', 'LBR', 'LR', 'LIBERIA', '430', 't'), ('Lesotho', 'LSO', 'LS', 'LESOTHO', '426', 't'), ('Lithuania', 'LTU', 'LT', 'LITHUANIA', '440', 't'), ('Luxembourg', 'LUX', 'LU', 'LUXEMBOURG', '442', 't'), ('Latvia', 'LVA', 'LV', 'LATVIA', '428', 't'), ('Libya', 'LBY', 'LY', 'LIBYA', '434', 't'), ('Morocco', 'MAR', 'MA', 'MOROCCO', '504', 't'), ('Monaco', 'MCO', 'MC', 'MONACO', '492', 't'), ('Moldova, Republic of', 'MDA', 'MD', 'MOLDOVA, REPUBLIC OF', '498', 't'), ('Montenegro', 'MNE', 'ME', 'MONTENEGRO', '499', 't'), ('Saint Martin (French part)', 'MAF', 'MF', 'SAINT MARTIN (FRENCH PART)', '663', 'f'), ('Madagascar', 'MDG', 'MG', 'MADAGASCAR', '450', 't'), ('Marshall Islands', 'MHL', 'MH', 'MARSHALL ISLANDS', '584', 't'), ('Macedonia, Republic of', 'MKD', 'MK', 'MACEDONIA, REPUBLIC OF', '807', 't'), ('Mali', 'MLI', 'ML', 'MALI', '466', 't'), ('Myanmar', 'MMR', 'MM', 'MYANMAR', '104', 't'), ('Mongolia', 'MNG', 'MN', 'MONGOLIA', '496', 't'), ('Macao', 'MAC', 'MO', 'MACAO', '446', 'f'), ('Northern Mariana Islands', 'MNP', 'MP', 'NORTHERN MARIANA ISLANDS', '580', 'f'), ('Martinique', 'MTQ', 'MQ', 'MARTINIQUE', '474', 'f'), ('Mauritania', 'MRT', 'MR', 'MAURITANIA', '478', 't'), ('Montserrat', 'MSR', 'MS', 'MONTSERRAT', '500', 'f'), ('Malta', 'MLT', 'MT', 'MALTA', '470', 't'), ('Mauritius', 'MUS', 'MU', 'MAURITIUS', '480', 't'), ('Maldives', 'MDV', 'MV', 'MALDIVES', '462', 't'), ('Malawi', 'MWI', 'MW', 'MALAWI', '454', 't'), ('Mexico', 'MEX', 'MX', 'MEXICO', '484', 't'), ('Malaysia', 'MYS', 'MY', 'MALAYSIA', '458', 't'), ('Mozambique', 'MOZ', 'MZ', 'MOZAMBIQUE', '508', 't'), ('Namibia', 'NAM', 'NA', 'NAMIBIA', '516', 't'), ('New Caledonia', 'NCL', 'NC', 'NEW CALEDONIA', '540', 'f'), ('Niger', 'NER', 'NE', 'NIGER', '562', 't'), ('Norfolk Island', 'NFK', 'NF', 'NORFOLK ISLAND', '574', 'f'), ('Nigeria', 'NGA', 'NG', 'NIGERIA', '566', 't'), ('Nicaragua', 'NIC', 'NI', 'NICARAGUA', '558', 't'), ('Netherlands', 'NLD', 'NL', 'NETHERLANDS', '528', 't'), ('Norway', 'NOR', 'NO', 'NORWAY', '578', 't'), ('Nepal', 'NPL', 'NP', 'NEPAL', '524', 't'), ('Nauru', 'NRU', 'NR', 'NAURU', '520', 't'), ('Niue', 'NIU', 'NU', 'NIUE', '570', 'f'), ('New Zealand', 'NZL', 'NZ', 'NEW ZEALAND', '554', 't'), ('Oman', 'OMN', 'OM', 'OMAN', '512', 't'), ('Panama', 'PAN', 'PA', 'PANAMA', '591', 't'), ('Peru', 'PER', 'PE', 'PERU', '604', 't'), ('French Polynesia', 'PYF', 'PF', 'FRENCH POLYNESIA', '258', 'f'), ('Papua New Guinea', 'PNG', 'PG', 'PAPUA NEW GUINEA', '598', 't'), ('Philippines', 'PHL', 'PH', 'PHILIPPINES', '608', 't'), ('Pakistan', 'PAK', 'PK', 'PAKISTAN', '586', 't'), ('Poland', 'POL', 'PL', 'POLAND', '616', 't'), ('Saint Pierre and Miquelon', 'SPM', 'PM', 'SAINT PIERRE AND MIQUELON', '666', 'f'), ('Pitcairn', 'PCN', 'PN', 'PITCAIRN', '612', 'f'), ('Palestine, State of', 'PSE', 'PS', 'PALESTINE, STATE OF', '275', 't'), ('Portugal', 'PRT', 'PT', 'PORTUGAL', '620', 't'), ('Palau', 'PLW', 'PW', 'PALAU', '585', 't'), ('Paraguay', 'PRY', 'PY', 'PARAGUAY', '600', 't'), ('Qatar', 'QAT', 'QA', 'QATAR', '634', 't'), ('Réunion', 'REU', 'RE', 'RÉUNION', '638', 'f'), ('Romania', 'ROU', 'RO', 'ROMANIA', '642', 't'), ('Serbia', 'SRB', 'RS', 'SERBIA', '688', 't'), ('Russian Federation', 'RUS', 'RU', 'RUSSIAN FEDERATION', '643', 't'), ('Rwanda', 'RWA', 'RW', 'RWANDA', '646', 't'), ('Saudi Arabia', 'SAU', 'SA', 'SAUDI ARABIA', '682', 't'), ('Solomon Islands', 'SLB', 'SB', 'SOLOMON ISLANDS', '090', 't'), ('Seychelles', 'SYC', 'SC', 'SEYCHELLES', '690', 't'), ('Sudan', 'SDN', 'SD', 'SUDAN', '729', 't'), ('Sweden', 'SWE', 'SE', 'SWEDEN', '752', 't'), ('Singapore', 'SGP', 'SG', 'SINGAPORE', '534', 't'), ('Saint Helena, Ascension and Tristan da Cunha', 'SHN', 'SH', 'SAINT HELENA, ASCENSION AND TRISTAN DA CUNHA', '654', 't'), ('Slovenia', 'SVN', 'SI', 'SLOVENIA', '705', 't'), ('Svalbard and Jan Mayen', 'SJM', 'SJ', 'SVALBARD AND JAN MAYEN', '744', 'f'), ('Slovakia', 'SVK', 'SK', 'SLOVAKIA', '703', 't'), ('Sierra Leone', 'SLE', 'SL', 'SIERRA LEONE', '694', 't'), ('San Marino', 'SMR', 'SM', 'SAN MARINO', '674', 't'), ('Senegal', 'SEN', 'SN', 'SENEGAL', '686', 't'), ('Somalia', 'SOM', 'SO', 'SOMALIA', '706', 't'), ('Suriname', 'SUR', 'SR', 'SURINAME', '740', 't'), ('South Sudan', 'SSD', 'SS', 'SOUTH SUDAN', '728', 't'), ('Sao Tome and Principe', 'STP', 'ST', 'SAO TOME AND PRINCIPE', '678', 't'), ('El Salvador', 'SLV', 'SV', 'EL SALVADOR', '222', 't'), ('Sint Maarten (Dutch part)', 'SXM', 'SX', 'SINT MAARTEN (DUTCH PART)', '534', 'f'), ('Syrian Arab Republic', 'SYR', 'SY', 'SYRIAN ARAB REPUBLIC', '760', 't'), ('Swaziland', 'SWZ', 'SZ', 'SWAZILAND', '748', 't'), ('Turks and Caicos Islands', 'TCA', 'TC', 'TURKS AND CAICOS ISLANDS', '796', 'f'), ('Chad', 'TCD', 'TD', 'CHAD', '148', 't'), ('French Southern Territories', 'ATF', 'TF', 'FRENCH SOUTHERN TERRITORIES', '260', 'f'), ('Togo', 'TGO', 'TG', 'TOGO', '768', 't'), ('Thailand', 'THA', 'TH', 'THAILAND', '764', 't'), ('Tajikistan', 'TJK', 'TJ', 'TAJIKISTAN', '762', 't'), ('Tokelau', 'TKL', 'TK', 'TOKELAU', '772', 'f'), ('Timor-Leste', 'TLS', 'TL', 'TIMOR-LESTE', '626', 't'), ('Turkmenistan', 'TKM', 'TM', 'TURKMENISTAN', '795', 't'), ('Tunisia', 'TUN', 'TN', 'TUNISIA', '788', 't'), ('Tonga', 'TON', 'TO', 'TONGA', '776', 't'), ('Turkey', 'TUR', 'TR', 'TURKEY', '792', 't'), ('Trinidad and Tobago', 'TTO', 'TT', 'TRINIDAD AND TOBAGO', '780', 't'), ('Tuvalu', 'TUV', 'TV', 'TUVALU', '798', 't'), ('Taiwan', 'TWN', 'TW', 'TAIWAN', '158', 't'), ('Tanzania, United Republic of', 'TZA', 'TZ', 'TANZANIA, UNITED REPUBLIC OF', '834', 't'), ('Ukraine', 'UKR', 'UA', 'UKRAINE', '804', 't'), ('Uganda', 'UGA', 'UG', 'UGANDA', '800', 't'), ('United States Minor Outlying Islands', 'UMI', 'UM', 'UNITED STATES MINOR OUTLYING ISLANDS', '581', 't'), ('United States', 'USA', 'US', 'UNITED STATES', '840', 't'), ('Uruguay', 'URY', 'UY', 'URUGUAY', '858', 't'), ('Uzbekistan', 'UZB', 'UZ', 'UZBEKISTAN', '860', 't'), ('Holy See (Vatican City State)', 'VAT', 'VA', 'HOLY SEE (VATICAN CITY STATE)', '336', 'f'), ('Saint Vincent and the Grenadines', 'VCT', 'VC', 'SAINT VINCENT AND THE GRENADINES', '670', 't'), ('Venezuela, Bolivarian Republic of', 'VEN', 'VE', 'VENEZUELA, BOLIVARIAN REPUBLIC OF', '862', 't'), ('Virgin Islands, British', 'VGB', 'VG', 'VIRGIN ISLANDS, BRITISH', '092', 'f'), ('Virgin Islands, U.S.', 'VIR', 'VI', 'VIRGIN ISLANDS, U.S.', '850', 'f'), ('Vietnam', 'VNM', 'VN', 'VIETNAM', '704', 't'), ('Vanuatu', 'VUT', 'VU', 'VANUATU', '548', 't'), ('Wallis and Futuna', 'WLF', 'WF', 'WALLIS AND FUTUNA', '876', 'f'), ('Samoa', 'WSM', 'WS', 'SAMOA', '882', 't'), ('Yemen', 'YEM', 'YE', 'YEMEN', '887', 't'), ('Mayotte', 'MYT', 'YT', 'MAYOTTE', '175', 'f'), ('South Africa', 'ZAF', 'ZA', 'SOUTH AFRICA', '710', 't'), ('Zambia', 'ZMB', 'ZM', 'ZAMBIA', '894', 't'), ('Zimbabwe', 'ZWE', 'ZW', 'ZIMBABWE', '716', 't');
[0m
  [1m[36mSpree::Country Load (2.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "US"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (1.1ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_preferences" ("value", "key", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "--- 232\n...\n"], ["key", "spree/app_configuration/default_country_id"], ["created_at", "2017-07-26 10:59:17.740231"], ["updated_at", "2017-07-26 10:59:17.740231"]]
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (10.7ms)[0m  [1m[33mUPDATE "spree_countries" SET "zipcode_required" = 'f' WHERE "spree_countries"."iso" IN ('AO', 'AG', 'AW', 'BS', 'BZ', 'BJ', 'BM', 'BO', 'BW', 'BF', 'BI', 'CM', 'CF', 'KM', 'CG', 'CD', 'CK', 'CUW', 'CI', 'DJ', 'DM', 'GQ', 'ER', 'FJ', 'TF', 'GAB', 'GM', 'GH', 'GD', 'GN', 'GY', 'HK', 'IE', 'KI', 'KP', 'LY', 'MO', 'MW', 'ML', 'MR', 'NR', 'AN', 'NU', 'KP', 'PA', 'QA', 'RW', 'KN', 'LC', 'ST', 'SC', 'SL', 'SB', 'SO', 'SR', 'SY', 'TZ', 'TL', 'TK', 'TG', 'TO', 'TV', 'UG', 'AE', 'VU', 'YE', 'ZW')[0m
  [1m[36mSpree::RefundReason Load (1.0ms)[0m  [1m[34mSELECT  "spree_refund_reasons".* FROM "spree_refund_reasons" WHERE "spree_refund_reasons"."name" = $1 AND "spree_refund_reasons"."mutable" = $2 ORDER BY LOWER(spree_refund_reasons.name) LIMIT $3[0m  [["name", "Return processing"], ["mutable", "f"], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (6.3ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 ORDER BY "spree_roles"."id" ASC LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "admin"]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 ORDER BY "spree_roles"."id" ASC LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Role Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_roles" WHERE LOWER("spree_roles"."name") = LOWER($1) LIMIT $2[0m  [["name", "user"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_roles" ("name") VALUES ($1) RETURNING "id"[0m  [["name", "user"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.9ms)[0m  [1m[34mSELECT "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."states_required" = $1[0m  [["states_required", "t"]]
  [1m[35m (12.6ms)[0m  [1m[32m    INSERT INTO spree_states ("name", "abbr", "country_id")
    VALUES ('Canillo', '02', 1), ('Encamp', '03', 1), ('La Massana', '04', 1), ('Ordino', '05', 1), ('Sant Julià de Lòria', '06', 1), ('Andorra la Vella', '07', 1), ('Escaldes-Engordany', '08', 1), ('Balkh', 'BAL', 3), ('Bāmyān', 'BAM', 3), ('Bādghīs', 'BDG', 3), ('Badakhshān', 'BDS', 3), ('Baghlān', 'BGL', 3), ('Dāykundī', 'DAY', 3), ('Farāh', 'FRA', 3), ('Fāryāb', 'FYB', 3), ('Ghaznī', 'GHA', 3), ('Ghōr', 'GHO', 3), ('Helmand', 'HEL', 3), ('Herāt', 'HER', 3), ('Jowzjān', 'JOW', 3), ('Kābul', 'KAB', 3), ('Kandahār', 'KAN', 3), ('Kāpīsā', 'KAP', 3), ('Kunduz', 'KDZ', 3), ('Khōst', 'KHO', 3), ('Kunar', 'KNR', 3), ('Laghmān', 'LAG', 3), ('Lōgar', 'LOG', 3), ('Nangarhār', 'NAN', 3), ('Nīmrōz', 'NIM', 3), ('Nūristān', 'NUR', 3), ('Panjshayr', 'PAN', 3), ('Parwān', 'PAR', 3), ('Paktiyā', 'PIA', 3), ('Paktīkā', 'PKA', 3), ('Samangān', 'SAM', 3), ('Sar-e Pul', 'SAR', 3), ('Takhār', 'TAK', 3), ('Uruzgān', 'URU', 3), ('Wardak', 'WAR', 3), ('Zābul', 'ZAB', 3), ('Berat', '01', 6), ('Durrës', '02', 6), ('Elbasan', '03', 6), ('Fier', '04', 6), ('Gjirokastër', '05', 6), ('Korçë', '06', 6), ('Kukës', '07', 6), ('Lezhë', '08', 6), ('Dibër', '09', 6), ('Shkodër', '10', 6), ('Tiranë', '11', 6), ('Vlorë', '12', 6), ('Aragacotn', 'AG', 7), ('Ararat', 'AR', 7), ('Armavir', 'AV', 7), ('Erevan', 'ER', 7), ('Gegarkunik''', 'GR', 7), ('Kotayk''', 'KT', 7), ('Lory', 'LO', 7), ('Sirak', 'SH', 7), ('Syunik''', 'SU', 7), ('Tavus', 'TV', 7), ('Vayoc Jor', 'VD', 7), ('Salta', 'A', 10), ('Buenos Aires', 'B', 10), ('Ciudad Autónoma de Buenos Aires', 'C', 10), ('San Luis', 'D', 10), ('Entre Rios', 'E', 10), ('Santiago del Estero', 'G', 10), ('Chaco', 'H', 10), ('San Juan', 'J', 10), ('Catamarca', 'K', 10), ('La Pampa', 'L', 10), ('Mendoza', 'M', 10), ('Misiones', 'N', 10), ('Formosa', 'P', 10), ('Neuquen', 'Q', 10), ('Rio Negro', 'R', 10), ('Santa Fe', 'S', 10), ('Tucuman', 'T', 10), ('Chubut', 'U', 10), ('Tierra del Fuego', 'V', 10), ('Corrientes', 'W', 10), ('Cordoba', 'X', 10), ('Jujuy', 'Y', 10), ('Santa Cruz', 'Z', 10), ('La Rioja', 'F', 10), ('Burgenland', '1', 12), ('Kärnten', '2', 12), ('Niederösterreich', '3', 12), ('Oberösterreich', '4', 12), ('Salzburg', '5', 12), ('Steiermark', '6', 12), ('Tirol', '7', 12), ('Vorarlberg', '8', 12), ('Wien', '9', 12), ('Australian Capital Territory', 'ACT', 13), ('New South Wales', 'NSW', 13), ('Northern Territory', 'NT', 13), ('Queensland', 'QLD', 13), ('South Australia', 'SA', 13), ('Tasmania', 'TAS', 13), ('Victoria', 'VIC', 13), ('Western Australia', 'WA', 13), ('Abşeron', 'ABS', 16), ('Ağstafa', 'AGA', 16), ('Ağcabədi', 'AGC', 16), ('Ağdam', 'AGM', 16), ('Ağdaş', 'AGS', 16), ('Ağsu', 'AGU', 16), ('Astara', 'AST', 16), ('Bakı', 'BA', 16), ('Balakən', 'BAL', 16), ('Bərdə', 'BAR', 16), ('Beyləqan', 'BEY', 16), ('Biləsuvar', 'BIL', 16), ('Cəbrayıl', 'CAB', 16), ('Cəlilabab', 'CAL', 16), ('Daşkəsən', 'DAS', 16), ('Füzuli', 'FUZ', 16), ('Gəncə', 'GA', 16), ('Gədəbəy', 'GAD', 16), ('Goranboy', 'GOR', 16), ('Göyçay', 'GOY', 16), ('Göygöl', 'GYG', 16), ('Hacıqabul', 'HAC', 16), ('İmişli', 'IMI', 16), ('İsmayıllı', 'ISM', 16), ('Kəlbəcər', 'KAL', 16), ('Kürdəmir', 'KUR', 16), ('Lənkəran', 'LA', 16), ('Laçın', 'LAC', 16), ('Lənkəran', 'LAN', 16), ('Lerik', 'LER', 16), ('Masallı', 'MAS', 16), ('Mingəçevir', 'MI', 16), ('Naftalan', 'NA', 16), ('Neftçala', 'NEF', 16), ('Naxçıvan', 'NX', 16), ('Oğuz', 'OGU', 16), ('Qəbələ', 'QAB', 16), ('Qax', 'QAX', 16), ('Qazax', 'QAZ', 16), ('Quba', 'QBA', 16), ('Qubadlı', 'QBI', 16), ('Qobustan', 'QOB', 16), ('Qusar', 'QUS', 16), ('Şəki', 'SA', 16), ('Sabirabad', 'SAB', 16), ('Şəki', 'SAK', 16), ('Salyan', 'SAL', 16), ('Saatlı', 'SAT', 16), ('Şabran', 'SBN', 16), ('Siyəzən', 'SIY', 16), ('Şəmkir', 'SKR', 16), ('Sumqayıt', 'SM', 16), ('Şamaxı', 'SMI', 16), ('Samux', 'SMX', 16), ('Şirvan', 'SR', 16), ('Şuşa', 'SUS', 16), ('Tərtər', 'TAR', 16), ('Tovuz', 'TOV', 16), ('Ucar', 'UCA', 16), ('Xankəndi', 'XA', 16), ('Xaçmaz', 'XAC', 16), ('Xocalı', 'XCI', 16), ('Xızı', 'XIZ', 16), ('Xocavənd', 'XVD', 16), ('Yardımlı', 'YAR', 16), ('Yevlax', 'YE', 16), ('Yevlax', 'YEV', 16), ('Zəngilan', 'ZAN', 16), ('Zaqatala', 'ZAQ', 16), ('Zərdab', 'ZAR', 16), ('Federacija Bosne i Hercegovine', 'BIH', 17), ('Brčko distrikt', 'BRC', 17), ('Republika Srpska', 'SRP', 17), ('Christ Church', '01', 18), ('Saint Andrew', '02', 18), ('Saint George', '03', 18), ('Saint James', '04', 18), ('Saint John', '05', 18), ('Saint Joseph', '06', 18), ('Saint Lucy', '07', 18), ('Saint Michael', '08', 18), ('Saint Peter', '09', 18), ('Saint Philip', '10', 18), ('Saint Thomas', '11', 18), ('Barisal', 'A', 19), ('Chittagong', 'B', 19), ('Dhaka', 'C', 19), ('Khulna', 'D', 19), ('Rajshahi', 'E', 19), ('Rangpur', 'F', 19), ('Sylhet', 'G', 19), ('Bruxelles-Capitale, Région de;Brussels Hoofdstedelijk Gewest', 'BRU', 20), ('Vlaams Gewest', 'VLG', 20), ('wallonne, Région', 'WAL', 20), ('Blagoevgrad', '01', 22), ('Burgas', '02', 22), ('Varna', '03', 22), ('Veliko Tarnovo', '04', 22), ('Vidin', '05', 22), ('Vratsa', '06', 22), ('Gabrovo', '07', 22), ('Dobrich', '08', 22), ('Kardzhali', '09', 22), ('Kyustendil', '10', 22), ('Lovech', '11', 22), ('Montana', '12', 22), ('Pazardzhik', '13', 22), ('Pernik', '14', 22), ('Pleven', '15', 22), ('Plovdiv', '16', 22), ('Razgrad', '17', 22), ('Ruse', '18', 22), ('Silistra', '19', 22), ('Sliven', '20', 22), ('Smolyan', '21', 22), ('Sofia-Grad', '22', 22), ('Sofia', '23', 22), ('Stara Zagora', '24', 22), ('Targovishte', '25', 22), ('Haskovo', '26', 22), ('Shumen', '27', 22), ('Yambol', '28', 22), ('Al Manāmah (Al ‘Āşimah)', '13', 23), ('Al Janūbīyah', '14', 23), ('Al Muḩarraq', '15', 23), ('Al Wusţá', '16', 23), ('Ash Shamālīyah', '17', 23), ('Belait', 'BE', 28), ('Brunei-Muara', 'BM', 28), ('Temburong', 'TE', 28), ('Tutong', 'TU', 28), ('Bonaire', 'BO', 30), ('Saba', 'SA', 30), ('Sint Eustatius', 'SE', 30), ('Acre', 'AC', 31), ('Alagoas', 'AL', 31), ('Amazonas', 'AM', 31), ('Amapá', 'AP', 31), ('Bahia', 'BA', 31), ('Ceará', 'CE', 31), ('Distrito Federal', 'DF', 31), ('Espírito Santo', 'ES', 31), ('Fernando de Noronha', 'FN', 31), ('Goiás', 'GO', 31), ('Maranhão', 'MA', 31), ('Minas Gerais', 'MG', 31), ('Mato Grosso do Sul', 'MS', 31), ('Mato Grosso', 'MT', 31), ('Pará', 'PA', 31), ('Paraíba', 'PB', 31), ('Pernambuco', 'PE', 31), ('Piauí', 'PI', 31), ('Paraná', 'PR', 31), ('Rio de Janeiro', 'RJ', 31), ('Rio Grande do Norte', 'RN', 31), ('Rondônia', 'RO', 31), ('Roraima', 'RR', 31), ('Rio Grande do Sul', 'RS', 31), ('Santa Catarina', 'SC', 31), ('Sergipe', 'SE', 31), ('São Paulo', 'SP', 31), ('Tocantins', 'TO', 31), ('Paro', '11', 33), ('Chhukha', '12', 33), ('Ha', '13', 33), ('Samtee', '14', 33), ('Thimphu', '15', 33), ('Tsirang', '21', 33), ('Dagana', '22', 33), ('Punakha', '23', 33), ('Wangdue Phodrang', '24', 33), ('Sarpang', '31', 33), ('Trongsa', '32', 33), ('Bumthang', '33', 33), ('Zhemgang', '34', 33), ('Trashigang', '41', 33), ('Monggar', '42', 33), ('Pemagatshel', '43', 33), ('Lhuentse', '44', 33), ('Samdrup Jongkha', '45', 33), ('Gasa', 'GA', 33), ('Trashi Yangtse', 'TY', 33), ('Brèsckaja voblasc''', 'BR', 36), ('Horad Minsk', 'HM', 36), ('Homel''skaja voblasc''', 'HO', 36), ('Hrodzenskaja voblasc''', 'HR', 36), ('Mahilëuskaja voblasc''', 'MA', 36), ('Minskaja voblasc''', 'MI', 36), ('Vicebskaja voblasc''', 'VI', 36), ('Alberta', 'AB', 38), ('British Columbia', 'BC', 38), ('Manitoba', 'MB', 38), ('New Brunswick', 'NB', 38), ('Newfoundland and Labrador', 'NL', 38), ('Nova Scotia', 'NS', 38), ('Northwest Territories', 'NT', 38), ('Nunavut', 'NU', 38), ('Ontario', 'ON', 38), ('Prince Edward Island', 'PE', 38), ('Quebec', 'QC', 38), ('Saskatchewan', 'SK', 38), ('Yukon Territory', 'YT', 38), ('Aargau', 'AG', 43), ('Appenzell Innerrhoden', 'AI', 43), ('Appenzell Ausserrhoden', 'AR', 43), ('Bern', 'BE', 43), ('Basel-Landschaft', 'BL', 43), ('Basel-Stadt', 'BS', 43), ('Fribourg', 'FR', 43), ('Genève', 'GE', 43), ('Glarus', 'GL', 43), ('Graubünden', 'GR', 43), ('Jura', 'JU', 43), ('Luzern', 'LU', 43), ('Neuchâtel', 'NE', 43), ('Nidwalden', 'NW', 43), ('Obwalden', 'OW', 43), ('Sankt Gallen', 'SG', 43), ('Schaffhausen', 'SH', 43), ('Solothurn', 'SO', 43), ('Schwyz', 'SZ', 43), ('Thurgau', 'TG', 43), ('Ticino', 'TI', 43), ('Uri', 'UR', 43), ('Vaud', 'VD', 43), ('Valais', 'VS', 43), ('Zug', 'ZG', 43), ('Zürich', 'ZH', 43), ('Aisén del General Carlos Ibáñez del Campo', 'AI', 46), ('Antofagasta', 'AN', 46), ('Arica y Parinacota', 'AP', 46), ('Araucanía', 'AR', 46), ('Atacama', 'AT', 46), ('Bío-Bío', 'BI', 46), ('Coquimbo', 'CO', 46), ('Libertador General Bernardo O''Higgins', 'LI', 46), ('Los Lagos', 'LL', 46), ('Los Ríos', 'LR', 46), ('Magallanes y Antártica Chilena', 'MA', 46), ('Maule', 'ML', 46), ('Región Metropolitana de Santiago', 'RM', 46), ('Tarapacá', 'TA', 46), ('Valparaíso', 'VS', 46), ('Beijing', '11', 48), ('Tianjin', '12', 48), ('Hebei', '13', 48), ('Shanxi', '14', 48), ('Nei Mongol', '15', 48), ('Liaoning', '21', 48), ('Jilin', '22', 48), ('Heilongjiang', '23', 48), ('Shanghai', '31', 48), ('Jiangsu', '32', 48), ('Zhejiang', '33', 48), ('Anhui', '34', 48), ('Fujian', '35', 48), ('Jiangxi', '36', 48), ('Shandong', '37', 48), ('Henan', '41', 48), ('Hubei', '42', 48), ('Hunan', '43', 48), ('Guangdong', '44', 48), ('Guangxi', '45', 48), ('Hainan', '46', 48), ('Chongqing', '50', 48), ('Sichuan', '51', 48), ('Guizhou', '52', 48), ('Yunnan', '53', 48), ('Xizang', '54', 48), ('Shaanxi', '61', 48), ('Gansu', '62', 48), ('Qinghai', '63', 48), ('Ningxia', '64', 48), ('Xinjiang', '65', 48), ('Taiwan', '71', 48), ('Xianggang (Hong-Kong)', '91', 48), ('Aomen (Macau)', '92', 48), ('Amazonas', 'AMA', 49), ('Antioquia', 'ANT', 49), ('Arauca', 'ARA', 49), ('Atlántico', 'ATL', 49), ('Bolívar', 'BOL', 49), ('Boyacá', 'BOY', 49), ('Caldas', 'CAL', 49), ('Caquetá', 'CAQ', 49), ('Casanare', 'CAS', 49), ('Cauca', 'CAU', 49), ('Cesar', 'CES', 49), ('Chocó', 'CHO', 49), ('Córdoba', 'COR', 49), ('Cundinamarca', 'CUN', 49), ('Distrito Capital de Bogotá', 'DC', 49), ('Guainía', 'GUA', 49), ('Guaviare', 'GUV', 49), ('Huila', 'HUI', 49), ('La Guajira', 'LAG', 49), ('Magdalena', 'MAG', 49), ('Meta', 'MET', 49), ('Nariño', 'NAR', 49), ('Norte de Santander', 'NSA', 49), ('Putumayo', 'PUT', 49), ('Quindío', 'QUI', 49), ('Risaralda', 'RIS', 49), ('Santander', 'SAN', 49), ('San Andrés, Providencia y Santa Catalina', 'SAP', 49), ('Sucre', 'SUC', 49), ('Tolima', 'TOL', 49), ('Valle del Cauca', 'VAC', 49), ('Vaupés', 'VAU', 49), ('Vichada', 'VID', 49), ('Alajuela', 'A', 50), ('Cartago', 'C', 50), ('Guanacaste', 'G', 50), ('Heredia', 'H', 50), ('Limón', 'L', 50), ('Puntarenas', 'P', 50), ('San José', 'SJ', 50), ('Pinar del Rio', '01', 51), ('La Habana', '02', 51), ('Ciudad de La Habana', '03', 51), ('Matanzas', '04', 51), ('Villa Clara', '05', 51), ('Cienfuegos', '06', 51), ('Sancti Spíritus', '07', 51), ('Ciego de Ávila', '08', 51), ('Camagüey', '09', 51), ('Las Tunas', '10', 51), ('Holguín', '11', 51), ('Granma', '12', 51), ('Santiago de Cuba', '13', 51), ('Guantánamo', '14', 51), ('Isla de la Juventud', '99', 51), ('Ilhas de Barlavento', 'B', 52), ('Ilhas de Sotavento', 'S', 52), ('Lefkosía', '01', 55), ('Lemesós', '02', 55), ('Lárnaka', '03', 55), ('Ammóchostos', '04', 55), ('Páfos', '05', 55), ('Kerýneia', '06', 55), ('Jihočeský kraj', 'JC', 56), ('Jihomoravský kraj', 'JM', 56), ('Karlovarský kraj', 'KA', 56), ('Královéhradecký kraj', 'KR', 56), ('Liberecký kraj', 'LI', 56), ('Moravskoslezský kraj', 'MO', 56), ('Olomoucký kraj', 'OL', 56), ('Pardubický kraj', 'PA', 56), ('Plzeňský kraj', 'PL', 56), ('Praha, hlavní město', 'PR', 56), ('Středočeský kraj', 'ST', 56), ('Ústecký kraj', 'US', 56), ('Vysočina', 'VY', 56), ('Zlínský kraj', 'ZL', 56), ('Brandenburg', 'BB', 57), ('Berlin', 'BE', 57), ('Baden-Württemberg', 'BW', 57), ('Bayern', 'BY', 57), ('Bremen', 'HB', 57), ('Hessen', 'HE', 57), ('Hamburg', 'HH', 57), ('Mecklenburg-Vorpommern', 'MV', 57), ('Niedersachsen', 'NI', 57), ('Nordrhein-Westfalen', 'NW', 57), ('Rheinland-Pfalz', 'RP', 57), ('Schleswig-Holstein', 'SH', 57), ('Saarland', 'SL', 57), ('Sachsen', 'SN', 57), ('Sachsen-Anhalt', 'ST', 57), ('Thüringen', 'TH', 57), ('Nordjylland', '81', 59), ('Midtjylland', '82', 59), ('Syddanmark', '83', 59), ('Hovedstaden', '84', 59), ('Sjælland', '85', 59), ('Distrito Nacional (Santo Domingo)', '01', 61), ('Azua', '02', 61), ('Bahoruco', '03', 61), ('Barahona', '04', 61), ('Dajabón', '05', 61), ('Duarte', '06', 61), ('La Estrelleta [Elías Piña]', '07', 61), ('El Seybo [El Seibo]', '08', 61), ('Espaillat', '09', 61), ('Independencia', '10', 61), ('La Altagracia', '11', 61), ('La Romana', '12', 61), ('La Vega', '13', 61), ('María Trinidad Sánchez', '14', 61), ('Monte Cristi', '15', 61), ('Pedernales', '16', 61), ('Peravia', '17', 61), ('Puerto Plata', '18', 61), ('Salcedo', '19', 61), ('Samaná', '20', 61);
[0m
  [1m[35m (10.3ms)[0m  [1m[32m    INSERT INTO spree_states ("name", "abbr", "country_id")
    VALUES ('San Cristóbal', '21', 61), ('San Juan', '22', 61), ('San Pedro de Macorís', '23', 61), ('Sánchez Ramírez', '24', 61), ('Santiago', '25', 61), ('Santiago Rodríguez', '26', 61), ('Valverde', '27', 61), ('Monseñor Nouel', '28', 61), ('Monte Plata', '29', 61), ('Hato Mayor', '30', 61), ('Adrar', '01', 62), ('Chlef', '02', 62), ('Laghouat', '03', 62), ('Oum el Bouaghi', '04', 62), ('Batna', '05', 62), ('Béjaïa', '06', 62), ('Biskra', '07', 62), ('Béchar', '08', 62), ('Blida', '09', 62), ('Bouira', '10', 62), ('Tamanghasset', '11', 62), ('Tébessa', '12', 62), ('Tlemcen', '13', 62), ('Tiaret', '14', 62), ('Tizi Ouzou', '15', 62), ('Alger', '16', 62), ('Djelfa', '17', 62), ('Jijel', '18', 62), ('Sétif', '19', 62), ('Saïda', '20', 62), ('Skikda', '21', 62), ('Sidi Bel Abbès', '22', 62), ('Annaba', '23', 62), ('Guelma', '24', 62), ('Constantine', '25', 62), ('Médéa', '26', 62), ('Mostaganem', '27', 62), ('Msila', '28', 62), ('Mascara', '29', 62), ('Ouargla', '30', 62), ('Oran', '31', 62), ('El Bayadh', '32', 62), ('Illizi', '33', 62), ('Bordj Bou Arréridj', '34', 62), ('Boumerdès', '35', 62), ('El Tarf', '36', 62), ('Tindouf', '37', 62), ('Tissemsilt', '38', 62), ('El Oued', '39', 62), ('Khenchela', '40', 62), ('Souk Ahras', '41', 62), ('Tipaza', '42', 62), ('Mila', '43', 62), ('Aïn Defla', '44', 62), ('Naama', '45', 62), ('Aïn Témouchent', '46', 62), ('Ghardaïa', '47', 62), ('Relizane', '48', 62), ('Azuay', 'A', 63), ('Bolívar', 'B', 63), ('Carchi', 'C', 63), ('Orellana', 'D', 63), ('Esmeraldas', 'E', 63), ('Cañar', 'F', 63), ('Guayas', 'G', 63), ('Chimborazo', 'H', 63), ('Imbabura', 'I', 63), ('Loja', 'L', 63), ('Manabí', 'M', 63), ('Napo', 'N', 63), ('El Oro', 'O', 63), ('Pichincha', 'P', 63), ('Los Ríos', 'R', 63), ('Morona-Santiago', 'S', 63), ('Santo Domingo de los Tsáchilas', 'SD', 63), ('Santa Elena', 'SE', 63), ('Tungurahua', 'T', 63), ('Sucumbíos', 'U', 63), ('Galápagos', 'W', 63), ('Cotopaxi', 'X', 63), ('Pastaza', 'Y', 63), ('Zamora-Chinchipe', 'Z', 63), ('Harjumaa', '37', 64), ('Hiiumaa', '39', 64), ('Ida-Virumaa', '44', 64), ('Jõgevamaa', '49', 64), ('Järvamaa', '51', 64), ('Läänemaa', '57', 64), ('Lääne-Virumaa', '59', 64), ('Põlvamaa', '65', 64), ('Pärnumaa', '67', 64), ('Raplamaa', '70', 64), ('Saaremaa', '74', 64), ('Tartumaa', '78', 64), ('Valgamaa', '82', 64), ('Viljandimaa', '84', 64), ('Võrumaa', '86', 64), ('Al Iskandarīyah', 'ALX', 65), ('Aswān', 'ASN', 65), ('Asyūt', 'AST', 65), ('Al Bahr al Ahmar', 'BA', 65), ('Al Buhayrah', 'BH', 65), ('Banī Suwayf', 'BNS', 65), ('Al Qāhirah', 'C', 65), ('Ad Daqahlīyah', 'DK', 65), ('Dumyāt', 'DT', 65), ('Al Fayyūm', 'FYM', 65), ('Al Gharbīyah', 'GH', 65), ('Al Jīzah', 'GZ', 65), ('Ḩulwān', 'HU', 65), ('Al Ismā`īlīyah', 'IS', 65), ('Janūb Sīnā''', 'JS', 65), ('Al Qalyūbīyah', 'KB', 65), ('Kafr ash Shaykh', 'KFS', 65), ('Qinā', 'KN', 65), ('Al Minyā', 'MN', 65), ('Al Minūfīyah', 'MNF', 65), ('Matrūh', 'MT', 65), ('Būr Sa`īd', 'PTS', 65), ('Sūhāj', 'SHG', 65), ('Ash Sharqīyah', 'SHR', 65), ('Shamal Sīnā''', 'SIN', 65), ('As Sādis min Uktūbar', 'SU', 65), ('As Suways', 'SUZ', 65), ('Al Wādī al Jadīd', 'WAD', 65), ('Andalucía', 'AN', 68), ('Aragón', 'AR', 68), ('Asturias, Principado de', 'AS', 68), ('Cantabria', 'CB', 68), ('Ceuta', 'CE', 68), ('Castilla y León', 'CL', 68), ('Castilla-La Mancha', 'CM', 68), ('Canarias', 'CN', 68), ('Catalunya', 'CT', 68), ('Extremadura', 'EX', 68), ('Galicia', 'GA', 68), ('Illes Balears', 'IB', 68), ('Murcia, Región de', 'MC', 68), ('Madrid, Comunidad de', 'MD', 68), ('Melilla', 'ML', 68), ('Navarra, Comunidad Foral de / Nafarroako Foru Komunitatea', 'NC', 68), ('País Vasco / Euskal Herria', 'PV', 68), ('La Rioja', 'RI', 68), ('Valenciana, Comunidad / Valenciana, Comunitat ', 'VC', 68), ('Ādīs Ābeba', 'AA', 69), ('Āfar', 'AF', 69), ('Āmara', 'AM', 69), ('Bīnshangul Gumuz', 'BE', 69), ('Dirē Dawa', 'DD', 69), ('Gambēla Hizboch', 'GA', 69), ('Hārerī Hizb', 'HA', 69), ('Oromīya', 'OR', 69), ('YeDebub Bihēroch Bihēreseboch na Hizboch', 'SN', 69), ('Sumalē', 'SO', 69), ('Tigray', 'TI', 69), ('Ahvenanmaan maakunta', '01', 70), ('Etelä-Karjala', '02', 70), ('Etelä-Pohjanmaa', '03', 70), ('Etelä-Savo', '04', 70), ('Kainuu', '05', 70), ('Kanta-Häme', '06', 70), ('Keski-Pohjanmaa', '07', 70), ('Keski-Suomi', '08', 70), ('Kymenlaakso', '09', 70), ('Lappi', '10', 70), ('Pirkanmaa', '11', 70), ('Pohjanmaa', '12', 70), ('Pohjois-Karjala', '13', 70), ('Pohjois-Pohjanmaa', '14', 70), ('Pohjois-Savo', '15', 70), ('Päijät-Häme', '16', 70), ('Satakunta', '17', 70), ('Uusimaa', '18', 70), ('Varsinais-Suomi', '19', 70), ('Kosrae', 'KSA', 73), ('Pohnpei', 'PNI', 73), ('Chuuk', 'TRK', 73), ('Yap', 'YAP', 73), ('Alsace', 'A', 75), ('Aquitaine', 'B', 75), ('Saint-Barthélemy', 'BL', 75), ('Auvergne', 'C', 75), ('Clipperton', 'CP', 75), ('Bourgogne', 'D', 75), ('Bretagne', 'E', 75), ('Centre', 'F', 75), ('Champagne-Ardenne', 'G', 75), ('Guyane', 'GF', 75), ('Guadeloupe', 'GP', 75), ('Corse', 'H', 75), ('Franche-Comté', 'I', 75), ('Île-de-France', 'J', 75), ('Languedoc-Roussillon', 'K', 75), ('Limousin', 'L', 75), ('Lorraine', 'M', 75), ('Saint-Martin', 'MF', 75), ('Martinique', 'MQ', 75), ('Midi-Pyrénées', 'N', 75), ('Nouvelle-Calédonie', 'NC', 75), ('Nord-Pas-de-Calais', 'O', 75), ('Basse-Normandie', 'P', 75), ('Polynésie française', 'PF', 75), ('Saint-Pierre-et-Miquelon', 'PM', 75), ('Haute-Normandie', 'Q', 75), ('Pays de la Loire', 'R', 75), ('La Réunion', 'RE', 75), ('Picardie', 'S', 75), ('Poitou-Charentes', 'T', 75), ('Terres australes françaises', 'TF', 75), ('Provence-Alpes-Côte d''Azur', 'U', 75), ('Rhône-Alpes', 'V', 75), ('Wallis-et-Futuna', 'WF', 75), ('Mayotte', 'YT', 75), ('Estuaire', '1', 76), ('Haut-Ogooué', '2', 76), ('Moyen-Ogooué', '3', 76), ('Ngounié', '4', 76), ('Nyanga', '5', 76), ('Ogooué-Ivindo', '6', 76), ('Ogooué-Lolo', '7', 76), ('Ogooué-Maritime', '8', 76), ('Woleu-Ntem', '9', 76), ('Aberdeenshire', 'ABD', 77), ('Aberdeen City', 'ABE', 77), ('Argyll and Bute', 'AGB', 77), ('Isle of Anglesey;Sir Ynys Môn', 'AGY', 77), ('Angus', 'ANS', 77), ('Antrim', 'ANT', 77), ('Ards', 'ARD', 77), ('Armagh', 'ARM', 77), ('Bath and North East Somerset', 'BAS', 77), ('Blackburn with Darwen', 'BBD', 77), ('Bedford', 'BDF', 77), ('Barking and Dagenham', 'BDG', 77), ('Brent', 'BEN', 77), ('Bexley', 'BEX', 77), ('Belfast', 'BFS', 77), ('Bridgend;Pen-y-bont ar Ogwr', 'BGE', 77), ('Blaenau Gwent', 'BGW', 77), ('Birmingham', 'BIR', 77), ('Buckinghamshire', 'BKM', 77), ('Ballymena', 'BLA', 77), ('Ballymoney', 'BLY', 77), ('Bournemouth', 'BMH', 77), ('Banbridge', 'BNB', 77), ('Barnet', 'BNE', 77), ('Brighton and Hove', 'BNH', 77), ('Barnsley', 'BNS', 77), ('Bolton', 'BOL', 77), ('Blackpool', 'BPL', 77), ('Bracknell Forest', 'BRC', 77), ('Bradford', 'BRD', 77), ('Bromley', 'BRY', 77), ('Bristol, City of', 'BST', 77), ('Bury', 'BUR', 77), ('Cambridgeshire', 'CAM', 77), ('Caerphilly;Caerffili', 'CAY', 77), ('Central Bedfordshire', 'CBF', 77), ('Ceredigion;Sir Ceredigion', 'CGN', 77), ('Craigavon', 'CGV', 77), ('Cheshire East', 'CHE', 77), ('Cheshire West and Chester', 'CHW', 77), ('Carrickfergus', 'CKF', 77), ('Cookstown', 'CKT', 77), ('Calderdale', 'CLD', 77), ('Clackmannanshire', 'CLK', 77), ('Coleraine', 'CLR', 77), ('Cumbria', 'CMA', 77), ('Camden', 'CMD', 77), ('Carmarthenshire;Sir Gaerfyrddin', 'CMN', 77), ('Cornwall', 'CON', 77), ('Coventry', 'COV', 77), ('Cardiff;Caerdydd', 'CRF', 77), ('Croydon', 'CRY', 77), ('Castlereagh', 'CSR', 77), ('Conwy', 'CWY', 77), ('Darlington', 'DAL', 77), ('Derbyshire', 'DBY', 77), ('Denbighshire;Sir Ddinbych', 'DEN', 77), ('Derby', 'DER', 77), ('Devon', 'DEV', 77), ('Dungannon and South Tyrone', 'DGN', 77), ('Dumfries and Galloway', 'DGY', 77), ('Doncaster', 'DNC', 77), ('Dundee City', 'DND', 77), ('Dorset', 'DOR', 77), ('Down', 'DOW', 77), ('Derry', 'DRY', 77), ('Dudley', 'DUD', 77), ('Durham, County', 'DUR', 77), ('Ealing', 'EAL', 77), ('England and Wales', 'EAW', 77), ('East Ayrshire', 'EAY', 77), ('Edinburgh, City of', 'EDH', 77), ('East Dunbartonshire', 'EDU', 77), ('East Lothian', 'ELN', 77), ('Eilean Siar', 'ELS', 77), ('Enfield', 'ENF', 77), ('England', 'ENG', 77), ('East Renfrewshire', 'ERW', 77), ('East Riding of Yorkshire', 'ERY', 77), ('Essex', 'ESS', 77), ('East Sussex', 'ESX', 77), ('Falkirk', 'FAL', 77), ('Fermanagh', 'FER', 77), ('Fife', 'FIF', 77), ('Flintshire;Sir y Fflint', 'FLN', 77), ('Gateshead', 'GAT', 77), ('Great Britain', 'GBN', 77), ('Glasgow City', 'GLG', 77), ('Gloucestershire', 'GLS', 77), ('Greenwich', 'GRE', 77), ('Gwynedd', 'GWN', 77), ('Halton', 'HAL', 77), ('Hampshire', 'HAM', 77), ('Havering', 'HAV', 77), ('Hackney', 'HCK', 77), ('Herefordshire', 'HEF', 77), ('Hillingdon', 'HIL', 77), ('Highland', 'HLD', 77), ('Hammersmith and Fulham', 'HMF', 77), ('Hounslow', 'HNS', 77), ('Hartlepool', 'HPL', 77), ('Hertfordshire', 'HRT', 77), ('Harrow', 'HRW', 77), ('Haringey', 'HRY', 77), ('Isle of Wight', 'IOW', 77), ('Islington', 'ISL', 77), ('Inverclyde', 'IVC', 77), ('Kensington and Chelsea', 'KEC', 77), ('Kent', 'KEN', 77), ('Kingston upon Hull', 'KHL', 77), ('Kirklees', 'KIR', 77), ('Kingston upon Thames', 'KTT', 77), ('Knowsley', 'KWL', 77), ('Lancashire', 'LAN', 77), ('Lambeth', 'LBH', 77), ('Leicester', 'LCE', 77), ('Leeds', 'LDS', 77), ('Leicestershire', 'LEC', 77), ('Lewisham', 'LEW', 77), ('Lincolnshire', 'LIN', 77), ('Liverpool', 'LIV', 77), ('Limavady', 'LMV', 77), ('London, City of', 'LND', 77), ('Larne', 'LRN', 77), ('Lisburn', 'LSB', 77), ('Luton', 'LUT', 77), ('Manchester', 'MAN', 77), ('Middlesbrough', 'MDB', 77), ('Medway', 'MDW', 77), ('Magherafelt', 'MFT', 77), ('Milton Keynes', 'MIK', 77), ('Midlothian', 'MLN', 77), ('Monmouthshire;Sir Fynwy', 'MON', 77), ('Merton', 'MRT', 77), ('Moray', 'MRY', 77), ('Merthyr Tydfil;Merthyr Tudful', 'MTY', 77), ('Moyle', 'MYL', 77), ('North Ayrshire', 'NAY', 77), ('Northumberland', 'NBL', 77), ('North Down', 'NDN', 77), ('North East Lincolnshire', 'NEL', 77), ('Newcastle upon Tyne', 'NET', 77), ('Norfolk', 'NFK', 77), ('Nottingham', 'NGM', 77), ('Northern Ireland', 'NIR', 77), ('North Lanarkshire', 'NLK', 77), ('North Lincolnshire', 'NLN', 77), ('North Somerset', 'NSM', 77), ('Newtownabbey', 'NTA', 77), ('Northamptonshire', 'NTH', 77), ('Neath Port Talbot;Castell-nedd Port Talbot', 'NTL', 77), ('Nottinghamshire', 'NTT', 77), ('North Tyneside', 'NTY', 77), ('Newham', 'NWM', 77), ('Newport;Casnewydd', 'NWP', 77), ('North Yorkshire', 'NYK', 77), ('Newry and Mourne', 'NYM', 77), ('Oldham', 'OLD', 77), ('Omagh', 'OMH', 77), ('Orkney Islands', 'ORK', 77), ('Oxfordshire', 'OXF', 77), ('Pembrokeshire;Sir Benfro', 'PEM', 77), ('Perth and Kinross', 'PKN', 77), ('Plymouth', 'PLY', 77), ('Poole', 'POL', 77), ('Portsmouth', 'POR', 77), ('Powys', 'POW', 77), ('Peterborough', 'PTE', 77), ('Redcar and Cleveland', 'RCC', 77), ('Rochdale', 'RCH', 77), ('Rhondda, Cynon, Taff;Rhondda, Cynon,Taf', 'RCT', 77), ('Redbridge', 'RDB', 77), ('Reading', 'RDG', 77), ('Renfrewshire', 'RFW', 77), ('Richmond upon Thames', 'RIC', 77), ('Rotherham', 'ROT', 77), ('Rutland', 'RUT', 77), ('Sandwell', 'SAW', 77), ('South Ayrshire', 'SAY', 77), ('Scottish Borders, The', 'SCB', 77), ('Scotland', 'SCT', 77), ('Suffolk', 'SFK', 77), ('Sefton', 'SFT', 77), ('South Gloucestershire', 'SGC', 77), ('Sheffield', 'SHF', 77), ('St. Helens', 'SHN', 77), ('Shropshire', 'SHR', 77), ('Stockport', 'SKP', 77), ('Salford', 'SLF', 77), ('Slough', 'SLG', 77), ('South Lanarkshire', 'SLK', 77), ('Sunderland', 'SND', 77), ('Solihull', 'SOL', 77), ('Somerset', 'SOM', 77), ('Southend-on-Sea', 'SOS', 77), ('Surrey', 'SRY', 77), ('Strabane', 'STB', 77), ('Stoke-on-Trent', 'STE', 77), ('Stirling', 'STG', 77), ('Southampton', 'STH', 77), ('Sutton', 'STN', 77), ('Staffordshire', 'STS', 77), ('Stockton-on-Tees', 'STT', 77), ('South Tyneside', 'STY', 77), ('Swansea;Abertawe', 'SWA', 77), ('Swindon', 'SWD', 77), ('Southwark', 'SWK', 77), ('Tameside', 'TAM', 77), ('Telford and Wrekin', 'TFW', 77), ('Thurrock', 'THR', 77), ('Torbay', 'TOB', 77), ('Torfaen;Tor-faen', 'TOF', 77), ('Trafford', 'TRF', 77), ('Tower Hamlets', 'TWH', 77), ('United Kingdom', 'UKM', 77), ('Vale of Glamorgan, The;Bro Morgannwg', 'VGL', 77), ('Warwickshire', 'WAR', 77), ('West Berkshire', 'WBK', 77), ('West Dunbartonshire', 'WDU', 77), ('Waltham Forest', 'WFT', 77), ('Wigan', 'WGN', 77), ('Wakefield', 'WKF', 77), ('Walsall', 'WLL', 77), ('West Lothian', 'WLN', 77), ('Wales', 'WLS', 77), ('Wolverhampton', 'WLV', 77), ('Wandsworth', 'WND', 77), ('Windsor and Maidenhead', 'WNM', 77), ('Wokingham', 'WOK', 77), ('Worcestershire', 'WOR', 77), ('Wirral', 'WRL', 77), ('Warrington', 'WRT', 77), ('Wrexham;Wrecsam', 'WRX', 77), ('Westminster', 'WSM', 77), ('West Sussex', 'WSX', 77), ('York', 'YOR', 77), ('Shetland Islands', 'ZET', 77), ('Wiltshire', 'WIL', 77), ('Abkhazia', 'AB', 79), ('Ajaria', 'AJ', 79), ('Guria', 'GU', 79), ('Imeret’i', 'IM', 79), ('Kakhet’i', 'KA', 79), ('K’vemo K’art’li', 'KK', 79), ('Mts’khet’a-Mt’ianet’i', 'MM', 79), ('Racha-Lech’khumi-K’vemo Svanet’i', 'RL', 79), ('Samts’khe-Javakhet’i', 'SJ', 79), ('Shida K’art’li', 'SK', 79), ('Samegrelo-Zemo Svanet’i', 'SZ', 79), ('T’bilisi', 'TB', 79), ('Kommune Kujalleq', 'KU', 84), ('Qaasuitsup Kommunia', 'QA', 84), ('Qeqqata Kommunia', 'QE', 84), ('Kommuneqarfik Sermersooq', 'SM', 84), ('Agio Oros', '69', 89), ('Anatoliki Makedonia kai Thraki', 'A', 89), ('Kentriki Makedonia', 'B', 89), ('Dytiki Makedonia', 'C', 89), ('Ipeiros', 'D', 89), ('Thessalia', 'E', 89), ('Ionia Nisia', 'F', 89), ('Dytiki Ellada', 'G', 89), ('Sterea Ellada', 'H', 89), ('Attiki', 'I', 89), ('Peloponnisos', 'J', 89), ('Voreio Aigaio', 'K', 89), ('Notio Aigaio', 'L', 89), ('Kriti', 'M', 89), ('Alta Verapaz', 'AV', 91), ('Baja Verapaz', 'BV', 91), ('Chimaltenango', 'CM', 91), ('Chiquimula', 'CQ', 91), ('Escuintla', 'ES', 91), ('Guatemala', 'GU', 91), ('Huehuetenango', 'HU', 91), ('Izabal', 'IZ', 91), ('Jalapa', 'JA', 91), ('Jutiapa', 'JU', 91);
[0m
  [1m[35m (9.2ms)[0m  [1m[32m    INSERT INTO spree_states ("name", "abbr", "country_id")
    VALUES ('Petén', 'PE', 91), ('El Progreso', 'PR', 91), ('Quiché', 'QC', 91), ('Quetzaltenango', 'QZ', 91), ('Retalhuleu', 'RE', 91), ('Sacatepéquez', 'SA', 91), ('San Marcos', 'SM', 91), ('Sololá', 'SO', 91), ('Santa Rosa', 'SR', 91), ('Suchitepéquez', 'SU', 91), ('Totonicapán', 'TO', 91), ('Zacapa', 'ZA', 91), ('Bissau', 'BS', 93), ('Leste', 'L', 93), ('Norte', 'N', 93), ('Sul', 'S', 93), ('Atlántida', 'AT', 97), ('Choluteca', 'CH', 97), ('Colón', 'CL', 97), ('Comayagua', 'CM', 97), ('Copán', 'CP', 97), ('Cortés', 'CR', 97), ('El Paraíso', 'EP', 97), ('Francisco Morazán', 'FM', 97), ('Gracias a Dios', 'GD', 97), ('Islas de la Bahía', 'IB', 97), ('Intibucá', 'IN', 97), ('Lempira', 'LE', 97), ('La Paz', 'LP', 97), ('Ocotepeque', 'OC', 97), ('Olancho', 'OL', 97), ('Santa Bárbara', 'SB', 97), ('Valle', 'VA', 97), ('Yoro', 'YO', 97), ('Zagrebačka županija', '01', 98), ('Krapinsko-zagorska županija', '02', 98), ('Sisačko-moslavačka županija', '03', 98), ('Karlovačka županija', '04', 98), ('Varaždinska županija', '05', 98), ('Koprivničko-križevačka županija', '06', 98), ('Bjelovarsko-bilogorska županija', '07', 98), ('Primorsko-goranska županija', '08', 98), ('Ličko-senjska županija', '09', 98), ('Virovitičko-podravska županija', '10', 98), ('Požeško-slavonska županija', '11', 98), ('Brodsko-posavska županija', '12', 98), ('Zadarska županija', '13', 98), ('Osječko-baranjska županija', '14', 98), ('Šibensko-kninska županija', '15', 98), ('Vukovarsko-srijemska županija', '16', 98), ('Splitsko-dalmatinska županija', '17', 98), ('Istarska županija', '18', 98), ('Dubrovačko-neretvanska županija', '19', 98), ('Međimurska županija', '20', 98), ('Grad Zagreb', '21', 98), ('Artibonite', 'AR', 99), ('Centre', 'CE', 99), ('Grande-Anse', 'GA', 99), ('Nord', 'ND', 99), ('Nord-Est', 'NE', 99), ('Nord-Ouest', 'NO', 99), ('Ouest', 'OU', 99), ('Sud', 'SD', 99), ('Sud-Est', 'SE', 99), ('Baranya', 'BA', 100), ('Békéscsaba', 'BC', 100), ('Békés', 'BE', 100), ('Bács-Kiskun', 'BK', 100), ('Budapest', 'BU', 100), ('Borsod-Abaúj-Zemplén', 'BZ', 100), ('Csongrád', 'CS', 100), ('Debrecen', 'DE', 100), ('Dunaújváros', 'DU', 100), ('Eger', 'EG', 100), ('Érd', 'ER', 100), ('Fejér', 'FE', 100), ('Győr-Moson-Sopron', 'GS', 100), ('Győr', 'GY', 100), ('Hajdú-Bihar', 'HB', 100), ('Heves', 'HE', 100), ('Hódmezővásárhely', 'HV', 100), ('Jász-Nagykun-Szolnok', 'JN', 100), ('Komárom-Esztergom', 'KE', 100), ('Kecskemét', 'KM', 100), ('Kaposvár', 'KV', 100), ('Miskolc', 'MI', 100), ('Nagykanizsa', 'NK', 100), ('Nógrád', 'NO', 100), ('Nyíregyháza', 'NY', 100), ('Pest', 'PE', 100), ('Pécs', 'PS', 100), ('Szeged', 'SD', 100), ('Székesfehérvár', 'SF', 100), ('Szombathely', 'SH', 100), ('Szolnok', 'SK', 100), ('Sopron', 'SN', 100), ('Somogy', 'SO', 100), ('Szekszárd', 'SS', 100), ('Salgótarján', 'ST', 100), ('Szabolcs-Szatmár-Bereg', 'SZ', 100), ('Tatabánya', 'TB', 100), ('Tolna', 'TO', 100), ('Vas', 'VA', 100), ('Veszprém (county)', 'VE', 100), ('Veszprém', 'VM', 100), ('Zala', 'ZA', 100), ('Zalaegerszeg', 'ZE', 100), ('Papua', 'IJ', 101), ('Jawa', 'JW', 101), ('Kalimantan', 'KA', 101), ('Maluku', 'ML', 101), ('Nusa Tenggara', 'NU', 101), ('Sulawesi', 'SL', 101), ('Sumatera', 'SM', 101), ('HaDarom', 'D', 103), ('Hefa', 'HA', 103), ('Yerushalayim Al Quds', 'JM', 103), ('HaMerkaz', 'M', 103), ('Tel-Aviv', 'TA', 103), ('HaZafon', 'Z', 103), ('Andaman and Nicobar Islands', 'AN', 105), ('Andhra Pradesh', 'AP', 105), ('Arunachal Pradesh', 'AR', 105), ('Assam', 'AS', 105), ('Bihar', 'BR', 105), ('Chandigarh', 'CH', 105), ('Chhattisgarh', 'CT', 105), ('Damen and Diu', 'DD', 105), ('Delhi', 'DL', 105), ('Dadra and Nagar Haveli', 'DN', 105), ('Goa', 'GA', 105), ('Gujarat', 'GJ', 105), ('Himachal Pradesh', 'HP', 105), ('Haryana', 'HR', 105), ('Jharkhand', 'JH', 105), ('Jammu and Kashmir', 'JK', 105), ('Karnataka', 'KA', 105), ('Kerala', 'KL', 105), ('Lakshadweep', 'LD', 105), ('Maharashtra', 'MH', 105), ('Meghalaya', 'ML', 105), ('Manipur', 'MN', 105), ('Madhya Pradesh', 'MP', 105), ('Mizoram', 'MZ', 105), ('Nagaland', 'NL', 105), ('Orissa', 'OR', 105), ('Punjab', 'PB', 105), ('Puducherry', 'PY', 105), ('Rajasthan', 'RJ', 105), ('Sikkim', 'SK', 105), ('Tamil Nadu', 'TN', 105), ('Tripura', 'TR', 105), ('Uttar Pradesh', 'UP', 105), ('Uttarakhand', 'UT', 105), ('West Bengal', 'WB', 105), ('Al Anbar', 'AN', 107), ('Arbil', 'AR', 107), ('Al Basrah', 'BA', 107), ('Babil', 'BB', 107), ('Baghdad', 'BG', 107), ('Dahuk', 'DA', 107), ('Diyala', 'DI', 107), ('Dhi Qar', 'DQ', 107), ('Karbala''', 'KA', 107), ('Maysan', 'MA', 107), ('Al Muthanna', 'MU', 107), ('An Najef', 'NA', 107), ('Ninawa', 'NI', 107), ('Al Qadisiyah', 'QA', 107), ('Salah ad Din', 'SD', 107), ('As Sulaymaniyah', 'SW', 107), ('At Ta''mim', 'TS', 107), ('Wasit', 'WA', 107), ('Āzarbāyjān-e Sharqī', '01', 108), ('Āzarbāyjān-e Gharbī', '02', 108), ('Ardabīl', '03', 108), ('Eşfahān', '04', 108), ('Īlām', '05', 108), ('Būshehr', '06', 108), ('Tehrān', '07', 108), ('Chahār Mahāll va Bakhtīārī', '08', 108), ('Khūzestān', '10', 108), ('Zanjān', '11', 108), ('Semnān', '12', 108), ('Sīstān va Balūchestān', '13', 108), ('Fārs', '14', 108), ('Kermān', '15', 108), ('Kordestān', '16', 108), ('Kermānshāh', '17', 108), ('Kohgīlūyeh va Būyer Ahmad', '18', 108), ('Gīlān', '19', 108), ('Lorestān', '20', 108), ('Māzandarān', '21', 108), ('Markazī', '22', 108), ('Hormozgān', '23', 108), ('Hamadān', '24', 108), ('Yazd', '25', 108), ('Qom', '26', 108), ('Golestān', '27', 108), ('Qazvīn', '28', 108), ('Khorāsān-e Janūbī', '29', 108), ('Khorāsān-e Razavī', '30', 108), ('Khorāsān-e Shemālī', '31', 108), ('Reykjavík', '0', 109), ('Höfuðborgarsvæðið', '1', 109), ('Suðurnes', '2', 109), ('Vesturland', '3', 109), ('Vestfirðir', '4', 109), ('Norðurland vestra', '5', 109), ('Norðurland eystra', '6', 109), ('Austurland', '7', 109), ('Suðurland', '8', 109), ('Piemonte', '21', 110), ('Valle d''Aosta', '23', 110), ('Lombardia', '25', 110), ('Trentino-Alto Adige', '32', 110), ('Veneto', '34', 110), ('Friuli-Venezia Giulia', '36', 110), ('Liguria', '42', 110), ('Emilia-Romagna', '45', 110), ('Toscana', '52', 110), ('Umbria', '55', 110), ('Marche', '57', 110), ('Lazio', '62', 110), ('Abruzzo', '65', 110), ('Molise', '67', 110), ('Campania', '72', 110), ('Puglia', '75', 110), ('Basilicata', '77', 110), ('Calabria', '78', 110), ('Sicilia', '82', 110), ('Sardegna', '88', 110), ('Kingston', '01', 112), ('Saint Andrew', '02', 112), ('Saint Thomas', '03', 112), ('Portland', '04', 112), ('Saint Mary', '05', 112), ('Saint Ann', '06', 112), ('Trelawny', '07', 112), ('Saint James', '08', 112), ('Hanover', '09', 112), ('Westmoreland', '10', 112), ('Saint Elizabeth', '11', 112), ('Manchester', '12', 112), ('Clarendon', '13', 112), ('Saint Catherine', '14', 112), ('‘Ajlūn', 'AJ', 113), ('‘Ammān (Al ‘Aşimah)', 'AM', 113), ('Al ‘Aqabah', 'AQ', 113), ('Aţ Ţafīlah', 'AT', 113), ('Az Zarqā''', 'AZ', 113), ('Al Balqā''', 'BA', 113), ('Irbid', 'IR', 113), ('Jarash', 'JA', 113), ('Al Karak', 'KA', 113), ('Al Mafraq', 'MA', 113), ('Mādabā', 'MD', 113), ('Ma‘ān', 'MN', 113), ('Hokkaido', '01', 114), ('Aomori', '02', 114), ('Iwate', '03', 114), ('Miyagi', '04', 114), ('Akita', '05', 114), ('Yamagata', '06', 114), ('Fukushima', '07', 114), ('Ibaraki', '08', 114), ('Tochigi', '09', 114), ('Gunma', '10', 114), ('Saitama', '11', 114), ('Chiba', '12', 114), ('Tokyo', '13', 114), ('Kanagawa', '14', 114), ('Niigata', '15', 114), ('Toyama', '16', 114), ('Ishikawa', '17', 114), ('Fukui', '18', 114), ('Yamanashi', '19', 114), ('Nagano', '20', 114), ('Gifu', '21', 114), ('Shizuoka', '22', 114), ('Aichi', '23', 114), ('Mie', '24', 114), ('Shiga', '25', 114), ('Kyoto', '26', 114), ('Osaka', '27', 114), ('Hyogo', '28', 114), ('Nara', '29', 114), ('Wakayama', '30', 114), ('Tottori', '31', 114), ('Shimane', '32', 114), ('Okayama', '33', 114), ('Hiroshima', '34', 114), ('Yamaguchi', '35', 114), ('Tokushima', '36', 114), ('Kagawa', '37', 114), ('Ehime', '38', 114), ('Kochi', '39', 114), ('Fukuoka', '40', 114), ('Saga', '41', 114), ('Nagasaki', '42', 114), ('Kumamoto', '43', 114), ('Oita', '44', 114), ('Miyazaki', '45', 114), ('Kagoshima', '46', 114), ('Okinawa', '47', 114), ('Nairobi Municipality', '110', 115), ('Central', '200', 115), ('Coast', '300', 115), ('Eastern', '400', 115), ('North-Eastern Kaskazini Mashariki', '500', 115), ('Rift Valley', '700', 115), ('Western Magharibi', '800', 115), ('Batken', 'B', 116), ('Chü', 'C', 116), ('Bishkek', 'GB', 116), ('Jalal-Abad', 'J', 116), ('Naryn', 'N', 116), ('Osh', 'O', 116), ('Talas', 'T', 116), ('Ysyk-Köl', 'Y', 116), ('Banteay Mean Chey', '1', 117), ('Krachoh', '10', 117), ('Mondol Kiri', '11', 117), ('Phnom Penh', '12', 117), ('Preah Vihear', '13', 117), ('Prey Veaeng', '14', 117), ('Pousaat', '15', 117), ('Rotanak Kiri', '16', 117), ('Siem Reab', '17', 117), ('Krong Preah Sihanouk', '18', 117), ('Stueng Traeng', '19', 117), ('Battambang', '2', 117), ('Svaay Rieng', '20', 117), ('Taakaev', '21', 117), ('Otdar Mean Chey', '22', 117), ('Krong Kaeb', '23', 117), ('Krong Pailin', '24', 117), ('Kampong Cham', '3', 117), ('Kampong Chhnang', '4', 117), ('Kampong Speu', '5', 117), ('Kampong Thom', '6', 117), ('Kampot', '7', 117), ('Kandal', '8', 117), ('Kach Kong', '9', 117), ('Seoul Teugbyeolsi', '11', 122), ('Busan Gwang''yeogsi', '26', 122), ('Daegu Gwang''yeogsi', '27', 122), ('Incheon Gwang''yeogsi', '28', 122), ('Gwangju Gwang''yeogsi', '29', 122), ('Daejeon Gwang''yeogsi', '30', 122), ('Ulsan Gwang''yeogsi', '31', 122), ('Gyeonggido', '41', 122), ('Gang''weondo', '42', 122), ('Chungcheongbukdo', '43', 122), ('Chungcheongnamdo', '44', 122), ('Jeonrabukdo', '45', 122), ('Jeonranamdo', '46', 122), ('Gyeongsangbukdo', '47', 122), ('Gyeongsangnamdo', '48', 122), ('Jejudo', '49', 122), ('Al Ahmadi', 'AH', 123), ('Al Farwānīyah', 'FA', 123), ('Hawallī', 'HA', 123), ('Al Jahrrā’', 'JA', 123), ('Al Kuwayt (Al ‘Āşimah)', 'KU', 123), ('Mubārak al Kabīr', 'MU', 123), ('Aqmola oblysy', 'AKM', 125), ('Aqtöbe oblysy', 'AKT', 125), ('Almaty', 'ALA', 125), ('Almaty oblysy', 'ALM', 125), ('Astana', 'AST', 125), ('Atyraū oblysy', 'ATY', 125), ('Qaraghandy oblysy', 'KAR', 125), ('Qostanay oblysy', 'KUS', 125), ('Qyzylorda oblysy', 'KZY', 125), ('Mangghystaū oblysy', 'MAN', 125), ('Pavlodar oblysy', 'PAV', 125), ('Soltüstik Quzaqstan oblysy', 'SEV', 125), ('Shyghys Qazaqstan oblysy', 'VOS', 125), ('Ongtüstik Qazaqstan oblysy', 'YUZ', 125), ('Batys Quzaqstan oblysy', 'ZAP', 125), ('Zhambyl oblysy', 'ZHA', 125), ('Attapu', 'AT', 126), ('Bokèo', 'BK', 126), ('Bolikhamxai', 'BL', 126), ('Champasak', 'CH', 126), ('Houaphan', 'HO', 126), ('Khammouan', 'KH', 126), ('Louang Namtha', 'LM', 126), ('Louangphabang', 'LP', 126), ('Oudômxai', 'OU', 126), ('Phôngsali', 'PH', 126), ('Salavan', 'SL', 126), ('Savannakhét', 'SV', 126), ('Vientiane', 'VI', 126), ('Vientiane', 'VT', 126), ('Xaignabouli', 'XA', 126), ('Xékong', 'XE', 126), ('Xiangkhoang', 'XI', 126), ('Xiasômboun', 'XN', 126), ('Aakkâr', 'AK', 127), ('Liban-Nord', 'AS', 127), ('Beyrouth', 'BA', 127), ('Baalbek-Hermel', 'BH', 127), ('Béqaa', 'BI', 127), ('Liban-Sud', 'JA', 127), ('Mont-Liban', 'JL', 127), ('Nabatîyé', 'NA', 127), ('Balzers', '01', 129), ('Eschen', '02', 129), ('Gamprin', '03', 129), ('Mauren', '04', 129), ('Planken', '05', 129), ('Ruggell', '06', 129), ('Schaan', '07', 129), ('Schellenberg', '08', 129), ('Triesen', '09', 129), ('Triesenberg', '10', 129), ('Vaduz', '11', 129), ('Basnāhira paḷāta', '1', 130), ('Madhyama paḷāta', '2', 130), ('Dakuṇu paḷāta', '3', 130), ('Uturu paḷāta', '4', 130), ('Næ̆gĕnahira paḷāta', '5', 130), ('Vayamba paḷāta', '6', 130), ('Uturumæ̆da paḷāta', '7', 130), ('Ūva paḷāta', '8', 130), ('Sabaragamuva paḷāta', '9', 130), ('Bong', 'BG', 131), ('Bomi', 'BM', 131), ('Grand Cape Mount', 'CM', 131), ('Grand Bassa', 'GB', 131), ('Grand Gedeh', 'GG', 131), ('Grand Kru', 'GK', 131), ('Lofa', 'LO', 131), ('Margibi', 'MG', 131), ('Montserrado', 'MO', 131), ('Maryland', 'MY', 131), ('Nimba', 'NI', 131), ('Rivercess', 'RI', 131), ('Sinoe', 'SI', 131), ('Maseru', 'A', 132), ('Butha-Buthe', 'B', 132), ('Leribe', 'C', 132), ('Berea', 'D', 132), ('Mafeteng', 'E', 132), ('Mohale''s Hoek', 'F', 132), ('Quthing', 'G', 132), ('Qacha''s Nek', 'H', 132), ('Mokhotlong', 'J', 132), ('Thaba-Tseka', 'K', 132), ('Alytaus Apskritis', 'AL', 133), ('Klaipėdos Apskritis', 'KL', 133), ('Kauno Apskritis', 'KU', 133), ('Marijampolės Apskritis', 'MR', 133), ('Panevėžio Apskritis', 'PN', 133), ('Šiaulių Apskritis', 'SA', 133), ('Tauragés Apskritis', 'TA', 133), ('Telšių Apskritis', 'TE', 133), ('Utenos Apskritis', 'UT', 133), ('Vilniaus Apskritis', 'VL', 133), ('Diekirch', 'D', 134), ('Grevenmacher', 'G', 134), ('Luxembourg', 'L', 134), ('Aglonas novads', '001', 135), ('Aizkraukles novads', '002', 135), ('Aizputes novads', '003', 135), ('Aknīstes novads', '004', 135), ('Alojas novads', '005', 135), ('Alsungas novads', '006', 135), ('Alūksnes novads', '007', 135), ('Amatas novads', '008', 135), ('Apes novads', '009', 135), ('Auces novads', '010', 135), ('Ādažu novads', '011', 135), ('Babītes novads', '012', 135), ('Baldones novads', '013', 135), ('Baltinavas novads', '014', 135), ('Balvu novads', '015', 135), ('Bauskas novads', '016', 135), ('Beverīnas novads', '017', 135), ('Brocēnu novads', '018', 135), ('Burtnieku novads', '019', 135), ('Carnikavas novads', '020', 135), ('Cesvaines novads', '021', 135), ('Cēsu novads', '022', 135), ('Ciblas novads', '023', 135), ('Dagdas novads', '024', 135), ('Daugavpils novads', '025', 135), ('Dobeles novads', '026', 135), ('Dundagas novads', '027', 135), ('Durbes novads', '028', 135), ('Engures novads', '029', 135), ('Ērgļu novads', '030', 135), ('Garkalnes novads', '031', 135), ('Grobiņas novads', '032', 135), ('Gulbenes novads', '033', 135), ('Iecavas novads', '034', 135), ('Ikšķiles novads', '035', 135), ('Ilūkstes novads', '036', 135);
[0m
  [1m[35m (10.1ms)[0m  [1m[32m    INSERT INTO spree_states ("name", "abbr", "country_id")
    VALUES ('Inčukalna novads', '037', 135), ('Jaunjelgavas novads', '038', 135), ('Jaunpiebalgas novads', '039', 135), ('Jaunpils novads', '040', 135), ('Jelgavas novads', '041', 135), ('Jēkabpils novads', '042', 135), ('Kandavas novads', '043', 135), ('Kārsavas novads', '044', 135), ('Kocēnu novads', '045', 135), ('Kokneses novads', '046', 135), ('Krāslavas novads', '047', 135), ('Krimuldas novads', '048', 135), ('Krustpils novads', '049', 135), ('Kuldīgas novads', '050', 135), ('Ķeguma novads', '051', 135), ('Ķekavas novads', '052', 135), ('Lielvārdes novads', '053', 135), ('Limbažu novads', '054', 135), ('Līgatnes novads', '055', 135), ('Līvānu novads', '056', 135), ('Lubānas novads', '057', 135), ('Ludzas novads', '058', 135), ('Madonas novads', '059', 135), ('Mazsalacas novads', '060', 135), ('Mālpils novads', '061', 135), ('Mārupes novads', '062', 135), ('Mērsraga novads', '063', 135), ('Naukšēnu novads', '064', 135), ('Neretas novads', '065', 135), ('Nīcas novads', '066', 135), ('Ogres novads', '067', 135), ('Olaines novads', '068', 135), ('Ozolnieku novads', '069', 135), ('Pārgaujas novads', '070', 135), ('Pāvilostas novads', '071', 135), ('Pļaviņu novads', '072', 135), ('Preiļu novads', '073', 135), ('Priekules novads', '074', 135), ('Priekuļu novads', '075', 135), ('Raunas novads', '076', 135), ('Rēzeknes novads', '077', 135), ('Riebiņu novads', '078', 135), ('Rojas novads', '079', 135), ('Ropažu novads', '080', 135), ('Rucavas novads', '081', 135), ('Rugāju novads', '082', 135), ('Rundāles novads', '083', 135), ('Rūjienas novads', '084', 135), ('Salas novads', '085', 135), ('Salacgrīvas novads', '086', 135), ('Salaspils novads', '087', 135), ('Saldus novads', '088', 135), ('Saulkrastu novads', '089', 135), ('Sējas novads', '090', 135), ('Siguldas novads', '091', 135), ('Skrīveru novads', '092', 135), ('Skrundas novads', '093', 135), ('Smiltenes novads', '094', 135), ('Stopiņu novads', '095', 135), ('Strenču novads', '096', 135), ('Talsu novads', '097', 135), ('Tērvetes novads', '098', 135), ('Tukuma novads', '099', 135), ('Vaiņodes novads', '100', 135), ('Valkas novads', '101', 135), ('Varakļānu novads', '102', 135), ('Vārkavas novads', '103', 135), ('Vecpiebalgas novads', '104', 135), ('Vecumnieku novads', '105', 135), ('Ventspils novads', '106', 135), ('Viesītes novads', '107', 135), ('Viļakas novads', '108', 135), ('Viļānu novads', '109', 135), ('Zilupes novads', '110', 135), ('Daugavpils', 'DGV', 135), ('Jelgava', 'JEL', 135), ('Jēkabpils', 'JKB', 135), ('Jūrmala', 'JUR', 135), ('Liepāja', 'LPX', 135), ('Rēzekne', 'REZ', 135), ('Rīga', 'RIX', 135), ('Ventspils', 'VEN', 135), ('Valmiera', 'VMR', 135), ('Tanger-Tétouan', '01', 137), ('Gharb-Chrarda-Beni Hssen', '02', 137), ('Taza-Al Hoceima-Taounate', '03', 137), ('L''Oriental', '04', 137), ('Fès-Boulemane', '05', 137), ('Meknès-Tafilalet', '06', 137), ('Rabat-Salé-Zemmour-Zaer', '07', 137), ('Grand Casablanca', '08', 137), ('Chaouia-Ouardigha', '09', 137), ('Doukhala-Abda', '10', 137), ('Marrakech-Tensift-Al Haouz', '11', 137), ('Tadla-Azilal', '12', 137), ('Sous-Massa-Draa', '13', 137), ('Guelmim-Es Smara', '14', 137), ('Laâyoune-Boujdour-Sakia el Hamra', '15', 137), ('Oued ed Dahab-Lagouira', '16', 137), ('La Colle', 'CL', 138), ('La Condamine', 'CO', 138), ('Fontvieille', 'FO', 138), ('La Gare', 'GA', 138), ('Jardin Exotique', 'JE', 138), ('Larvotto', 'LA', 138), ('Malbousquet', 'MA', 138), ('Monte-Carlo', 'MC', 138), ('Moneghetti', 'MG', 138), ('Monaco-Ville', 'MO', 138), ('Moulins', 'MU', 138), ('Port-Hercule', 'PH', 138), ('Sainte-Dévote', 'SD', 138), ('La Source', 'SO', 138), ('Spélugues', 'SP', 138), ('Saint-Roman', 'SR', 138), ('Vallon de la Rousse', 'VR', 138), ('Anenii Noi', 'AN', 139), ('Bălți', 'BA', 139), ('Tighina', 'BD', 139), ('Briceni', 'BR', 139), ('Basarabeasca', 'BS', 139), ('Cahul', 'CA', 139), ('Călărași', 'CL', 139), ('Cimișlia', 'CM', 139), ('Criuleni', 'CR', 139), ('Căușeni', 'CS', 139), ('Cantemir', 'CT', 139), ('Chișinău', 'CU', 139), ('Dondușeni', 'DO', 139), ('Drochia', 'DR', 139), ('Dubăsari', 'DU', 139), ('Edineț', 'ED', 139), ('Fălești', 'FA', 139), ('Florești', 'FL', 139), ('Găgăuzia, Unitatea teritorială autonomă', 'GA', 139), ('Glodeni', 'GL', 139), ('Hîncești', 'HI', 139), ('Ialoveni', 'IA', 139), ('Leova', 'LE', 139), ('Nisporeni', 'NI', 139), ('Ocnița', 'OC', 139), ('Orhei', 'OR', 139), ('Rezina', 'RE', 139), ('Rîșcani', 'RI', 139), ('Șoldănești', 'SD', 139), ('Sîngerei', 'SI', 139), ('Stînga Nistrului, unitatea teritorială din', 'SN', 139), ('Soroca', 'SO', 139), ('Strășeni', 'ST', 139), ('Ștefan Vodă', 'SV', 139), ('Taraclia', 'TA', 139), ('Telenești', 'TE', 139), ('Ungheni', 'UN', 139), ('Andrijevica', '01', 140), ('Bar', '02', 140), ('Berane', '03', 140), ('Bijelo Polje', '04', 140), ('Budva', '05', 140), ('Cetinje', '06', 140), ('Danilovgrad', '07', 140), ('Herceg-Novi', '08', 140), ('Kolašin', '09', 140), ('Kotor', '10', 140), ('Mojkovac', '11', 140), ('Nikšić', '12', 140), ('Plav', '13', 140), ('Pljevlja', '14', 140), ('Plužine', '15', 140), ('Podgorica', '16', 140), ('Rožaje', '17', 140), ('Šavnik', '18', 140), ('Tivat', '19', 140), ('Ulcinj', '20', 140), ('Žabljak', '21', 140), ('Toamasina', 'A', 142), ('Antsiranana', 'D', 142), ('Fianarantsoa', 'F', 142), ('Mahajanga', 'M', 142), ('Antananarivo', 'T', 142), ('Toliara', 'U', 142), ('Ralik chain', 'L', 143), ('Ratak chain', 'T', 143), ('Aerodrom', '01', 144), ('Aračinovo', '02', 144), ('Berovo', '03', 144), ('Bitola', '04', 144), ('Bogdanci', '05', 144), ('Bogovinje', '06', 144), ('Bosilovo', '07', 144), ('Brvenica', '08', 144), ('Butel', '09', 144), ('Valandovo', '10', 144), ('Vasilevo', '11', 144), ('Vevčani', '12', 144), ('Veles', '13', 144), ('Vinica', '14', 144), ('Vraneštica', '15', 144), ('Vrapčište', '16', 144), ('Gazi Baba', '17', 144), ('Gevgelija', '18', 144), ('Gostivar', '19', 144), ('Gradsko', '20', 144), ('Debar', '21', 144), ('Debarca', '22', 144), ('Delčevo', '23', 144), ('Demir Kapija', '24', 144), ('Demir Hisar', '25', 144), ('Dojran', '26', 144), ('Dolneni', '27', 144), ('Drugovo', '28', 144), ('Gjorče Petrov', '29', 144), ('Želino', '30', 144), ('Zajas', '31', 144), ('Zelenikovo', '32', 144), ('Zrnovci', '33', 144), ('Ilinden', '34', 144), ('Jegunovce', '35', 144), ('Kavadarci', '36', 144), ('Karbinci', '37', 144), ('Karpoš', '38', 144), ('Kisela Voda', '39', 144), ('Kičevo', '40', 144), ('Konče', '41', 144), ('Kočani', '42', 144), ('Kratovo', '43', 144), ('Kriva Palanka', '44', 144), ('Krivogaštani', '45', 144), ('Kruševo', '46', 144), ('Kumanovo', '47', 144), ('Lipkovo', '48', 144), ('Lozovo', '49', 144), ('Mavrovo-i-Rostuša', '50', 144), ('Makedonska Kamenica', '51', 144), ('Makedonski Brod', '52', 144), ('Mogila', '53', 144), ('Negotino', '54', 144), ('Novaci', '55', 144), ('Novo Selo', '56', 144), ('Oslomej', '57', 144), ('Ohrid', '58', 144), ('Petrovec', '59', 144), ('Pehčevo', '60', 144), ('Plasnica', '61', 144), ('Prilep', '62', 144), ('Probištip', '63', 144), ('Radoviš', '64', 144), ('Rankovce', '65', 144), ('Resen', '66', 144), ('Rosoman', '67', 144), ('Saraj', '68', 144), ('Sveti Nikole', '69', 144), ('Sopište', '70', 144), ('Staro Nagoričane', '71', 144), ('Struga', '72', 144), ('Strumica', '73', 144), ('Studeničani', '74', 144), ('Tearce', '75', 144), ('Tetovo', '76', 144), ('Centar', '77', 144), ('Centar Župa', '78', 144), ('Čair', '79', 144), ('Čaška', '80', 144), ('Češinovo-Obleševo', '81', 144), ('Čučer Sandevo', '82', 144), ('Štip', '83', 144), ('Šuto Orizari', '84', 144), ('Sagaing', '01', 146), ('Bago', '02', 146), ('Magway', '03', 146), ('Mandalay', '04', 146), ('Tanintharyi', '05', 146), ('Yangon', '06', 146), ('Ayeyarwady', '07', 146), ('Kachin', '11', 146), ('Kayah', '12', 146), ('Kayin', '13', 146), ('Chin', '14', 146), ('Mon', '15', 146), ('Rakhine', '16', 146), ('Shan', '17', 146), ('Orhon', '035', 147), ('Darhan uul', '037', 147), ('Hentiy', '039', 147), ('Hövsgöl', '041', 147), ('Hovd', '043', 147), ('Uvs', '046', 147), ('Töv', '047', 147), ('Selenge', '049', 147), ('Sühbaatar', '051', 147), ('Ömnögovi', '053', 147), ('Övörhangay', '055', 147), ('Dzavhan', '057', 147), ('Dundgovi', '059', 147), ('Dornod', '061', 147), ('Dornogovi', '063', 147), ('Govi-Sumber', '064', 147), ('Govi-Altay', '065', 147), ('Bulgan', '067', 147), ('Bayanhongor', '069', 147), ('Bayan-Ölgiy', '071', 147), ('Arhangay', '073', 147), ('Ulanbaatar', '1', 147), ('Attard', '01', 153), ('Balzan', '02', 153), ('Birgu', '03', 153), ('Birkirkara', '04', 153), ('Birżebbuġa', '05', 153), ('Bormla', '06', 153), ('Dingli', '07', 153), ('Fgura', '08', 153), ('Floriana', '09', 153), ('Fontana', '10', 153), ('Gudja', '11', 153), ('Gżira', '12', 153), ('Għajnsielem', '13', 153), ('Għarb', '14', 153), ('Għargħur', '15', 153), ('Għasri', '16', 153), ('Għaxaq', '17', 153), ('Ħamrun', '18', 153), ('Iklin', '19', 153), ('Isla', '20', 153), ('Kalkara', '21', 153), ('Kerċem', '22', 153), ('Kirkop', '23', 153), ('Lija', '24', 153), ('Luqa', '25', 153), ('Marsa', '26', 153), ('Marsaskala', '27', 153), ('Marsaxlokk', '28', 153), ('Mdina', '29', 153), ('Mellieħa', '30', 153), ('Mġarr', '31', 153), ('Mosta', '32', 153), ('Mqabba', '33', 153), ('Msida', '34', 153), ('Mtarfa', '35', 153), ('Munxar', '36', 153), ('Nadur', '37', 153), ('Naxxar', '38', 153), ('Paola', '39', 153), ('Pembroke', '40', 153), ('Pietà', '41', 153), ('Qala', '42', 153), ('Qormi', '43', 153), ('Qrendi', '44', 153), ('Rabat Għawdex', '45', 153), ('Rabat Malta', '46', 153), ('Safi', '47', 153), ('San Ġiljan', '48', 153), ('San Ġwann', '49', 153), ('San Lawrenz', '50', 153), ('San Pawl il-Baħar', '51', 153), ('Sannat', '52', 153), ('Santa Luċija', '53', 153), ('Santa Venera', '54', 153), ('Siġġiewi', '55', 153), ('Sliema', '56', 153), ('Swieqi', '57', 153), ('Ta’ Xbiex', '58', 153), ('Tarxien', '59', 153), ('Valletta', '60', 153), ('Xagħra', '61', 153), ('Xewkija', '62', 153), ('Xgħajra', '63', 153), ('Żabbar', '64', 153), ('Żebbuġ Għawdex', '65', 153), ('Żebbuġ Malta', '66', 153), ('Żejtun', '67', 153), ('Żurrieq', '68', 153), ('Agalega Islands', 'AG', 154), ('Black River', 'BL', 154), ('Beau Bassin-Rose Hill', 'BR', 154), ('Cargados Carajos Shoals', 'CC', 154), ('Curepipe', 'CU', 154), ('Flacq', 'FL', 154), ('Grand Port', 'GP', 154), ('Moka', 'MO', 154), ('Pamplemousses', 'PA', 154), ('Port Louis', 'PL', 154), ('Port Louis', 'PU', 154), ('Plaines Wilhems', 'PW', 154), ('Quatre Bornes', 'QB', 154), ('Rodrigues Island', 'RO', 154), ('Rivière du Rempart', 'RP', 154), ('Savanne', 'SA', 154), ('Vacoas-Phoenix', 'VP', 154), ('Central', 'CE', 155), ('Male', 'MLE', 155), ('North Central', 'NC', 155), ('North', 'NO', 155), ('South Central', 'SC', 155), ('South', 'SU', 155), ('Upper North', 'UN', 155), ('Upper South', 'US', 155), ('Aguascalientes', 'AGU', 157), ('Baja California', 'BCN', 157), ('Baja California Sur', 'BCS', 157), ('Campeche', 'CAM', 157), ('Chihuahua', 'CHH', 157), ('Chiapas', 'CHP', 157), ('Coahuila', 'COA', 157), ('Colima', 'COL', 157), ('Distrito Federal', 'DIF', 157), ('Durango', 'DUR', 157), ('Guerrero', 'GRO', 157), ('Guanajuato', 'GUA', 157), ('Hidalgo', 'HID', 157), ('Jalisco', 'JAL', 157), ('México', 'MEX', 157), ('Michoacán', 'MIC', 157), ('Morelos', 'MOR', 157), ('Nayarit', 'NAY', 157), ('Nuevo León', 'NLE', 157), ('Oaxaca', 'OAX', 157), ('Puebla', 'PUE', 157), ('Querétaro', 'QUE', 157), ('Quintana Roo', 'ROO', 157), ('Sinaloa', 'SIN', 157), ('San Luis Potosí', 'SLP', 157), ('Sonora', 'SON', 157), ('Tabasco', 'TAB', 157), ('Tamaulipas', 'TAM', 157), ('Tlaxcala', 'TLA', 157), ('Veracruz', 'VER', 157), ('Yucatán', 'YUC', 157), ('Zacatecas', 'ZAC', 157), ('Johor', '01', 158), ('Kedah', '02', 158), ('Kelantan', '03', 158), ('Melaka', '04', 158), ('Negeri Sembilan', '05', 158), ('Pahang', '06', 158), ('Pulau Pinang', '07', 158), ('Perak', '08', 158), ('Perlis', '09', 158), ('Selangor', '10', 158), ('Terengganu', '11', 158), ('Sabah', '12', 158), ('Sarawak', '13', 158), ('Wilayah Persekutuan Kuala Lumpur', '14', 158), ('Wilayah Persekutuan Labuan', '15', 158), ('Wilayah Persekutuan Putrajaya', '16', 158), ('Niassa', 'A', 159), ('Manica', 'B', 159), ('Gaza', 'G', 159), ('Inhambane', 'I', 159), ('Maputo', 'L', 159), ('Maputo (city)', 'MPM', 159), ('Numpula', 'N', 159), ('Cabo Delgado', 'P', 159), ('Zambezia', 'Q', 159), ('Sofala', 'S', 159), ('Tete', 'T', 159), ('Caprivi', 'CA', 160), ('Erongo', 'ER', 160), ('Hardap', 'HA', 160), ('Karas', 'KA', 160), ('Khomas', 'KH', 160), ('Kunene', 'KU', 160), ('Otjozondjupa', 'OD', 160), ('Omaheke', 'OH', 160), ('Okavango', 'OK', 160), ('Oshana', 'ON', 160), ('Omusati', 'OS', 160), ('Oshikoto', 'OT', 160), ('Ohangwena', 'OW', 160), ('Agadez', '1', 162), ('Diffa', '2', 162), ('Dosso', '3', 162), ('Maradi', '4', 162), ('Tahoua', '5', 162), ('Tillabéri', '6', 162), ('Zinder', '7', 162), ('Niamey', '8', 162), ('Abia', 'AB', 164), ('Adamawa', 'AD', 164), ('Akwa Ibom', 'AK', 164), ('Anambra', 'AN', 164), ('Bauchi', 'BA', 164), ('Benue', 'BE', 164), ('Borno', 'BO', 164), ('Bayelsa', 'BY', 164), ('Cross River', 'CR', 164), ('Delta', 'DE', 164), ('Ebonyi', 'EB', 164), ('Edo', 'ED', 164), ('Ekiti', 'EK', 164), ('Enugu', 'EN', 164), ('Abuja Capital Territory', 'FC', 164), ('Gombe', 'GO', 164), ('Imo', 'IM', 164), ('Jigawa', 'JI', 164), ('Kaduna', 'KD', 164), ('Kebbi', 'KE', 164), ('Kano', 'KN', 164), ('Kogi', 'KO', 164), ('Katsina', 'KT', 164), ('Kwara', 'KW', 164), ('Lagos', 'LA', 164);
[0m
  [1m[35m (8.1ms)[0m  [1m[32m    INSERT INTO spree_states ("name", "abbr", "country_id")
    VALUES ('Nassarawa', 'NA', 164), ('Niger', 'NI', 164), ('Ogun', 'OG', 164), ('Ondo', 'ON', 164), ('Osun', 'OS', 164), ('Oyo', 'OY', 164), ('Plateau', 'PL', 164), ('Rivers', 'RI', 164), ('Sokoto', 'SO', 164), ('Taraba', 'TA', 164), ('Yobe', 'YO', 164), ('Zamfara', 'ZA', 164), ('Atlántico Norte', 'AN', 165), ('Atlántico Sur', 'AS', 165), ('Boaco', 'BO', 165), ('Carazo', 'CA', 165), ('Chinandega', 'CI', 165), ('Chontales', 'CO', 165), ('Estelí', 'ES', 165), ('Granada', 'GR', 165), ('Jinotega', 'JI', 165), ('León', 'LE', 165), ('Madriz', 'MD', 165), ('Managua', 'MN', 165), ('Masaya', 'MS', 165), ('Matagalpa', 'MT', 165), ('Nueva Segovia', 'NS', 165), ('Rivas', 'RI', 165), ('Río San Juan', 'SJ', 165), ('Aruba', 'AW', 166), ('Bonaire', 'BQ1', 166), ('Saba', 'BQ2', 166), ('Sint Eustatius', 'BQ3', 166), ('Curaçao', 'CW', 166), ('Drenthe', 'DR', 166), ('Flevoland', 'FL', 166), ('Friesland', 'FR', 166), ('Gelderland', 'GE', 166), ('Groningen', 'GR', 166), ('Limburg', 'LI', 166), ('Noord-Brabant', 'NB', 166), ('Noord-Holland', 'NH', 166), ('Overijssel', 'OV', 166), ('Sint Maarten', 'SX', 166), ('Utrecht', 'UT', 166), ('Zeeland', 'ZE', 166), ('Zuid-Holland', 'ZH', 166), ('Østfold', '01', 167), ('Akershus', '02', 167), ('Oslo', '03', 167), ('Hedmark', '04', 167), ('Oppland', '05', 167), ('Buskerud', '06', 167), ('Vestfold', '07', 167), ('Telemark', '08', 167), ('Aust-Agder', '09', 167), ('Vest-Agder', '10', 167), ('Rogaland', '11', 167), ('Hordaland', '12', 167), ('Sogn og Fjordane', '14', 167), ('Møre og Romsdal', '15', 167), ('Sør-Trøndelag', '16', 167), ('Nord-Trøndelag', '17', 167), ('Nordland', '18', 167), ('Troms', '19', 167), ('Finnmark', '20', 167), ('Svalbard (Arctic Region)', '21', 167), ('Jan Mayen (Arctic Region)', '22', 167), ('Madhyamanchal', '1', 168), ('Madhya Pashchimanchal', '2', 168), ('Pashchimanchal', '3', 168), ('Purwanchal', '4', 168), ('Sudur Pashchimanchal', '5', 168), ('Chatham Islands Territory', 'CIT', 171), ('North Island', 'N', 171), ('South Island', 'S', 171), ('Al Bāţinah', 'BA', 172), ('Al Buraymī', 'BU', 172), ('Ad Dākhilīya', 'DA', 172), ('Masqaţ', 'MA', 172), ('Musandam', 'MU', 172), ('Ash Sharqīyah', 'SH', 172), ('Al Wusţá', 'WU', 172), ('Az̧ Z̧āhirah', 'ZA', 172), ('Z̧ufār', 'ZU', 172), ('Amazonas', 'AMA', 174), ('Ancash', 'ANC', 174), ('Apurímac', 'APU', 174), ('Arequipa', 'ARE', 174), ('Ayacucho', 'AYA', 174), ('Cajamarca', 'CAJ', 174), ('El Callao', 'CAL', 174), ('Cusco [Cuzco]', 'CUS', 174), ('Huánuco', 'HUC', 174), ('Huancavelica', 'HUV', 174), ('Ica', 'ICA', 174), ('Junín', 'JUN', 174), ('La Libertad', 'LAL', 174), ('Lambayeque', 'LAM', 174), ('Lima', 'LIM', 174), ('Municipalidad Metropolitana de Lima', 'LMA', 174), ('Loreto', 'LOR', 174), ('Madre de Dios', 'MDD', 174), ('Moquegua', 'MOQ', 174), ('Pasco', 'PAS', 174), ('Piura', 'PIU', 174), ('Puno', 'PUN', 174), ('San Martín', 'SAM', 174), ('Tacna', 'TAC', 174), ('Tumbes', 'TUM', 174), ('Ucayali', 'UCA', 174), ('Chimbu', 'CPK', 176), ('Central', 'CPM', 176), ('East New Britain', 'EBR', 176), ('Eastern Highlands', 'EHG', 176), ('Enga', 'EPW', 176), ('East Sepik', 'ESW', 176), ('Gulf', 'GPK', 176), ('Milne Bay', 'MBA', 176), ('Morobe', 'MPL', 176), ('Madang', 'MPM', 176), ('Manus', 'MRL', 176), ('National Capital District (Port Moresby)', 'NCD', 176), ('New Ireland', 'NIK', 176), ('Northern', 'NPP', 176), ('Bougainville', 'NSB', 176), ('Sandaun', 'SAN', 176), ('Southern Highlands', 'SHM', 176), ('West New Britain', 'WBK', 176), ('Western Highlands', 'WHM', 176), ('Western', 'WPD', 176), ('National Capital Region', '00', 177), ('Ilocos (Region I)', '01', 177), ('Cagayan Valley (Region II)', '02', 177), ('Central Luzon (Region III)', '03', 177), ('Bicol (Region V)', '05', 177), ('Western Visayas (Region VI)', '06', 177), ('Central Visayas (Region VII)', '07', 177), ('Eastern Visayas (Region VIII)', '08', 177), ('Zamboanga Peninsula (Region IX)', '09', 177), ('Northern Mindanao (Region X)', '10', 177), ('Davao (Region XI)', '11', 177), ('Soccsksargen (Region XII)', '12', 177), ('Caraga (Region XIII)', '13', 177), ('Autonomous Region in Muslim Mindanao (ARMM)', '14', 177), ('Cordillera Administrative Region (CAR)', '15', 177), ('CALABARZON (Region IV-A)', '40', 177), ('MIMAROPA (Region IV-B)', '41', 177), ('Balochistan', 'BA', 178), ('Gilgit-Baltistan', 'GB', 178), ('Islamabad', 'IS', 178), ('Azad Kashmir', 'JK', 178), ('Khyber Pakhtunkhwa', 'KP', 178), ('Punjab', 'PB', 178), ('Sindh', 'SD', 178), ('Federally Administered Tribal Areas', 'TA', 178), ('Dolnośląskie', 'DS', 179), ('Kujawsko-pomorskie', 'KP', 179), ('Lubuskie', 'LB', 179), ('Łódzkie', 'LD', 179), ('Lubelskie', 'LU', 179), ('Małopolskie', 'MA', 179), ('Mazowieckie', 'MZ', 179), ('Opolskie', 'OP', 179), ('Podlaskie', 'PD', 179), ('Podkarpackie', 'PK', 179), ('Pomorskie', 'PM', 179), ('Świętokrzyskie', 'SK', 179), ('Śląskie', 'SL', 179), ('Warmińsko-mazurskie', 'WN', 179), ('Wielkopolskie', 'WP', 179), ('Zachodniopomorskie', 'ZP', 179), ('Bethlehem', 'BTH', 182), ('Deir El Balah', 'DEB', 182), ('Gaza', 'GZA', 182), ('Hebron', 'HBN', 182), ('Jerusalem', 'JEM', 182), ('Jenin', 'JEN', 182), ('Jericho - Al Aghwar', 'JRH', 182), ('Khan Yunis', 'KYS', 182), ('Nablus', 'NBS', 182), ('North Gaza', 'NGZ', 182), ('Qalqilya', 'QQA', 182), ('Ramallah', 'RBH', 182), ('Rafah', 'RFH', 182), ('Salfit', 'SLT', 182), ('Tubas', 'TBS', 182), ('Tulkarm', 'TKM', 182), ('Aveiro', '01', 183), ('Beja', '02', 183), ('Braga', '03', 183), ('Bragança', '04', 183), ('Castelo Branco', '05', 183), ('Coimbra', '06', 183), ('Évora', '07', 183), ('Faro', '08', 183), ('Guarda', '09', 183), ('Leiria', '10', 183), ('Lisboa', '11', 183), ('Portalegre', '12', 183), ('Porto', '13', 183), ('Santarém', '14', 183), ('Setúbal', '15', 183), ('Viana do Castelo', '16', 183), ('Vila Real', '17', 183), ('Viseu', '18', 183), ('Região Autónoma dos Açores', '20', 183), ('Região Autónoma da Madeira', '30', 183), ('Aimeliik', '002', 184), ('Airai', '004', 184), ('Angaur', '010', 184), ('Hatobohei', '050', 184), ('Kayangel', '100', 184), ('Koror', '150', 184), ('Melekeok', '212', 184), ('Ngaraard', '214', 184), ('Ngarchelong', '218', 184), ('Ngardmau', '222', 184), ('Ngatpang', '224', 184), ('Ngchesar', '226', 184), ('Ngeremlengui', '227', 184), ('Ngiwal', '228', 184), ('Peleliu', '350', 184), ('Sonsorol', '370', 184), ('Concepción', '1', 185), ('Alto Paraná', '10', 185), ('Central', '11', 185), ('Ñeembucú', '12', 185), ('Amambay', '13', 185), ('Canindeyú', '14', 185), ('Presidente Hayes', '15', 185), ('Alto Paraguay', '16', 185), ('Boquerón', '19', 185), ('San Pedro', '2', 185), ('Cordillera', '3', 185), ('Guairá', '4', 185), ('Caaguazú', '5', 185), ('Caazapá', '6', 185), ('Itapúa', '7', 185), ('Misiones', '8', 185), ('Paraguarí', '9', 185), ('Asunción', 'ASU', 185), ('Alba', 'AB', 188), ('Argeș', 'AG', 188), ('Arad', 'AR', 188), ('București', 'B', 188), ('Bacău', 'BC', 188), ('Bihor', 'BH', 188), ('Bistrița-Năsăud', 'BN', 188), ('Brăila', 'BR', 188), ('Botoșani', 'BT', 188), ('Brașov', 'BV', 188), ('Buzău', 'BZ', 188), ('Cluj', 'CJ', 188), ('Călărași', 'CL', 188), ('Caraș-Severin', 'CS', 188), ('Constanța', 'CT', 188), ('Covasna', 'CV', 188), ('Dâmbovița', 'DB', 188), ('Dolj', 'DJ', 188), ('Gorj', 'GJ', 188), ('Galați', 'GL', 188), ('Giurgiu', 'GR', 188), ('Hunedoara', 'HD', 188), ('Harghita', 'HR', 188), ('Ilfov', 'IF', 188), ('Ialomița', 'IL', 188), ('Iași', 'IS', 188), ('Mehedinți', 'MH', 188), ('Maramureș', 'MM', 188), ('Mureș', 'MS', 188), ('Neamț', 'NT', 188), ('Olt', 'OT', 188), ('Prahova', 'PH', 188), ('Sibiu', 'SB', 188), ('Sălaj', 'SJ', 188), ('Satu Mare', 'SM', 188), ('Suceava', 'SV', 188), ('Tulcea', 'TL', 188), ('Timiș', 'TM', 188), ('Teleorman', 'TR', 188), ('Vâlcea', 'VL', 188), ('Vrancea', 'VN', 188), ('Vaslui', 'VS', 188), ('Beograd', '00', 189), ('Mačvanski okrug', '08', 189), ('Kolubarski okrug', '09', 189), ('Podunavski okrug', '10', 189), ('Braničevski okrug', '11', 189), ('Šumadijski okrug', '12', 189), ('Pomoravski okrug', '13', 189), ('Borski okrug', '14', 189), ('Zaječarski okrug', '15', 189), ('Zlatiborski okrug', '16', 189), ('Moravički okrug', '17', 189), ('Raški okrug', '18', 189), ('Rasinski okrug', '19', 189), ('Nišavski okrug', '20', 189), ('Toplički okrug', '21', 189), ('Pirotski okrug', '22', 189), ('Jablanički okrug', '23', 189), ('Pčinjski okrug', '24', 189), ('Kosovo-Metohija', 'KM', 189), ('Vojvodina', 'VO', 189), ('Adygeya, Respublika', 'AD', 190), ('Altay, Respublika', 'AL', 190), ('Altayskiy kray', 'ALT', 190), ('Amurskaya oblast''', 'AMU', 190), ('Arkhangel''skaya oblast''', 'ARK', 190), ('Astrakhanskaya oblast''', 'AST', 190), ('Bashkortostan, Respublika', 'BA', 190), ('Belgorodskaya oblast''', 'BEL', 190), ('Bryanskaya oblast''', 'BRY', 190), ('Buryatiya, Respublika', 'BU', 190), ('Chechenskaya Respublika', 'CE', 190), ('Chelyabinskaya oblast''', 'CHE', 190), ('Chukotskiy avtonomnyy okrug', 'CHU', 190), ('Chuvashskaya Respublika', 'CU', 190), ('Dagestan, Respublika', 'DA', 190), ('Respublika Ingushetiya', 'IN', 190), ('Irkutiskaya oblast''', 'IRK', 190), ('Ivanovskaya oblast''', 'IVA', 190), ('Kamchatskiy kray', 'KAM', 190), ('Kabardino-Balkarskaya Respublika', 'KB', 190), ('Karachayevo-Cherkesskaya Respublika', 'KC', 190), ('Krasnodarskiy kray', 'KDA', 190), ('Kemerovskaya oblast''', 'KEM', 190), ('Kaliningradskaya oblast''', 'KGD', 190), ('Kurganskaya oblast''', 'KGN', 190), ('Khabarovskiy kray', 'KHA', 190), ('Khanty-Mansiysky avtonomnyy okrug-Yugra', 'KHM', 190), ('Kirovskaya oblast''', 'KIR', 190), ('Khakasiya, Respublika', 'KK', 190), ('Kalmykiya, Respublika', 'KL', 190), ('Kaluzhskaya oblast''', 'KLU', 190), ('Komi, Respublika', 'KO', 190), ('Kostromskaya oblast''', 'KOS', 190), ('Kareliya, Respublika', 'KR', 190), ('Kurskaya oblast''', 'KRS', 190), ('Krasnoyarskiy kray', 'KYA', 190), ('Leningradskaya oblast''', 'LEN', 190), ('Lipetskaya oblast''', 'LIP', 190), ('Magadanskaya oblast''', 'MAG', 190), ('Mariy El, Respublika', 'ME', 190), ('Mordoviya, Respublika', 'MO', 190), ('Moskovskaya oblast''', 'MOS', 190), ('Moskva', 'MOW', 190), ('Murmanskaya oblast''', 'MUR', 190), ('Nenetskiy avtonomnyy okrug', 'NEN', 190), ('Novgorodskaya oblast''', 'NGR', 190), ('Nizhegorodskaya oblast''', 'NIZ', 190), ('Novosibirskaya oblast''', 'NVS', 190), ('Omskaya oblast''', 'OMS', 190), ('Orenburgskaya oblast''', 'ORE', 190), ('Orlovskaya oblast''', 'ORL', 190), ('Permskiy kray', 'PER', 190), ('Penzenskaya oblast''', 'PNZ', 190), ('Primorskiy kray', 'PRI', 190), ('Pskovskaya oblast''', 'PSK', 190), ('Rostovskaya oblast''', 'ROS', 190), ('Ryazanskaya oblast''', 'RYA', 190), ('Sakha, Respublika [Yakutiya]', 'SA', 190), ('Sakhalinskaya oblast''', 'SAK', 190), ('Samaraskaya oblast''', 'SAM', 190), ('Saratovskaya oblast''', 'SAR', 190), ('Severnaya Osetiya-Alaniya, Respublika', 'SE', 190), ('Smolenskaya oblast''', 'SMO', 190), ('Sankt-Peterburg', 'SPE', 190), ('Stavropol''skiy kray', 'STA', 190), ('Sverdlovskaya oblast''', 'SVE', 190), ('Tatarstan, Respublika', 'TA', 190), ('Tambovskaya oblast''', 'TAM', 190), ('Tomskaya oblast''', 'TOM', 190), ('Tul''skaya oblast''', 'TUL', 190), ('Tverskaya oblast''', 'TVE', 190), ('Tyva, Respublika [Tuva]', 'TY', 190), ('Tyumenskaya oblast''', 'TYU', 190), ('Udmurtskaya Respublika', 'UD', 190), ('Ul''yanovskaya oblast''', 'ULY', 190), ('Volgogradskaya oblast''', 'VGG', 190), ('Vladimirskaya oblast''', 'VLA', 190), ('Vologodskaya oblast''', 'VLG', 190), ('Voronezhskaya oblast''', 'VOR', 190), ('Yamalo-Nenetskiy avtonomnyy okrug', 'YAN', 190), ('Yaroslavskaya oblast''', 'YAR', 190), ('Yevreyskaya avtonomnaya oblast''', 'YEV', 190), ('Zabajkal''skij kraj', 'ZAB', 190), ('Ar Riyāḍ', '01', 192), ('Makkah', '02', 192), ('Al Madīnah', '03', 192), ('Ash Sharqīyah', '04', 192), ('Al Qaşīm', '05', 192), ('Ḥā''il', '06', 192), ('Tabūk', '07', 192), ('Al Ḥudūd ash Shamāliyah', '08', 192), ('Jīzan', '09', 192), ('Najrān', '10', 192), ('Al Bāhah', '11', 192), ('Al Jawf', '12', 192), ('`Asīr', '14', 192), ('Zalingei', 'DC', 195), ('Sharq Dārfūr', 'DE', 195), ('Shamāl Dārfūr', 'DN', 195), ('Janūb Dārfūr', 'DS', 195), ('Gharb Dārfūr', 'DW', 195), ('Al Qaḑārif', 'GD', 195), ('Al Jazīrah', 'GZ', 195), ('Kassalā', 'KA', 195), ('Al Kharţūm', 'KH', 195), ('Shamāl Kurdufān', 'KN', 195), ('Janūb Kurdufān', 'KS', 195), ('An Nīl al Azraq', 'NB', 195), ('Ash Shamālīyah', 'NO', 195), ('An Nīl', 'NR', 195), ('An Nīl al Abyaḑ', 'NW', 195), ('Al Baḩr al Aḩmar', 'RS', 195), ('Sinnār', 'SI', 195), ('Stockholms län', 'AB', 196), ('Västerbottens län', 'AC', 196), ('Norrbottens län', 'BD', 196), ('Uppsala län', 'C', 196), ('Södermanlands län', 'D', 196), ('Östergötlands län', 'E', 196), ('Jönköpings län', 'F', 196), ('Kronobergs län', 'G', 196), ('Kalmar län', 'H', 196), ('Gotlands län', 'I', 196), ('Blekinge län', 'K', 196), ('Skåne län', 'M', 196), ('Hallands län', 'N', 196), ('Västra Götalands län', 'O', 196), ('Värmlands län', 'S', 196), ('Örebro län', 'T', 196), ('Västmanlands län', 'U', 196), ('Dalarnas län', 'W', 196), ('Gävleborgs län', 'X', 196), ('Västernorrlands län', 'Y', 196), ('Jämtlands län', 'Z', 196), ('Central Singapore', '01', 197), ('North East', '02', 197), ('North West', '03', 197), ('South East', '04', 197), ('South West', '05', 197), ('Connacht', 'C', 102), ('Leinster', 'L', 102), ('Munster', 'M', 102), ('Ulster', 'U', 102), ('Ascension', 'AC', 198), ('Saint Helena', 'HL', 198), ('Tristan da Cunha', 'TA', 198), ('Ajdovščina', '001', 199), ('Beltinci', '002', 199), ('Bled', '003', 199), ('Bohinj', '004', 199), ('Borovnica', '005', 199), ('Bovec', '006', 199), ('Brda', '007', 199), ('Brezovica', '008', 199), ('Brežice', '009', 199), ('Tišina', '010', 199), ('Celje', '011', 199), ('Cerklje na Gorenjskem', '012', 199), ('Cerknica', '013', 199), ('Cerkno', '014', 199), ('Črenšovci', '015', 199), ('Črna na Koroškem', '016', 199), ('Črnomelj', '017', 199), ('Destrnik', '018', 199), ('Divača', '019', 199), ('Dobrepolje', '020', 199), ('Dobrova-Polhov Gradec', '021', 199), ('Dol pri Ljubljani', '022', 199), ('Domžale', '023', 199), ('Dornava', '024', 199), ('Dravograd', '025', 199), ('Duplek', '026', 199), ('Gorenja vas-Poljane', '027', 199), ('Gorišnica', '028', 199), ('Gornja Radgona', '029', 199), ('Gornji Grad', '030', 199), ('Gornji Petrovci', '031', 199), ('Grosuplje', '032', 199), ('Šalovci', '033', 199), ('Hrastnik', '034', 199), ('Hrpelje-Kozina', '035', 199), ('Idrija', '036', 199), ('Ig', '037', 199), ('Ilirska Bistrica', '038', 199), ('Ivančna Gorica', '039', 199), ('Izola/Isola', '040', 199), ('Jesenice', '041', 199), ('Juršinci', '042', 199), ('Kamnik', '043', 199), ('Kanal', '044', 199), ('Kidričevo', '045', 199), ('Kobarid', '046', 199), ('Kobilje', '047', 199), ('Kočevje', '048', 199), ('Komen', '049', 199), ('Koper/Capodistria', '050', 199);
[0m
  [1m[35m (10.4ms)[0m  [1m[32m    INSERT INTO spree_states ("name", "abbr", "country_id")
    VALUES ('Kozje', '051', 199), ('Kranj', '052', 199), ('Kranjska Gora', '053', 199), ('Krško', '054', 199), ('Kungota', '055', 199), ('Kuzma', '056', 199), ('Laško', '057', 199), ('Lenart', '058', 199), ('Lendava/Lendva', '059', 199), ('Litija', '060', 199), ('Ljubljana', '061', 199), ('Ljubno', '062', 199), ('Ljutomer', '063', 199), ('Logatec', '064', 199), ('Loška dolina', '065', 199), ('Loški Potok', '066', 199), ('Luče', '067', 199), ('Lukovica', '068', 199), ('Majšperk', '069', 199), ('Maribor', '070', 199), ('Medvode', '071', 199), ('Mengeš', '072', 199), ('Metlika', '073', 199), ('Mežica', '074', 199), ('Miren-Kostanjevica', '075', 199), ('Mislinja', '076', 199), ('Moravče', '077', 199), ('Moravske Toplice', '078', 199), ('Mozirje', '079', 199), ('Murska Sobota', '080', 199), ('Muta', '081', 199), ('Naklo', '082', 199), ('Nazarje', '083', 199), ('Nova Gorica', '084', 199), ('Novo mesto', '085', 199), ('Odranci', '086', 199), ('Ormož', '087', 199), ('Osilnica', '088', 199), ('Pesnica', '089', 199), ('Piran/Pirano', '090', 199), ('Pivka', '091', 199), ('Podčetrtek', '092', 199), ('Podvelka', '093', 199), ('Postojna', '094', 199), ('Preddvor', '095', 199), ('Ptuj', '096', 199), ('Puconci', '097', 199), ('Rače-Fram', '098', 199), ('Radeče', '099', 199), ('Radenci', '100', 199), ('Radlje ob Dravi', '101', 199), ('Radovljica', '102', 199), ('Ravne na Koroškem', '103', 199), ('Ribnica', '104', 199), ('Rogašovci', '105', 199), ('Rogaška Slatina', '106', 199), ('Rogatec', '107', 199), ('Ruše', '108', 199), ('Semič', '109', 199), ('Sevnica', '110', 199), ('Sežana', '111', 199), ('Slovenj Gradec', '112', 199), ('Slovenska Bistrica', '113', 199), ('Slovenske Konjice', '114', 199), ('Starče', '115', 199), ('Sveti Jurij', '116', 199), ('Šenčur', '117', 199), ('Šentilj', '118', 199), ('Šentjernej', '119', 199), ('Šentjur', '120', 199), ('Škocjan', '121', 199), ('Škofja Loka', '122', 199), ('Škofljica', '123', 199), ('Šmarje pri Jelšah', '124', 199), ('Šmartno ob Paki', '125', 199), ('Šoštanj', '126', 199), ('Štore', '127', 199), ('Tolmin', '128', 199), ('Trbovlje', '129', 199), ('Trebnje', '130', 199), ('Tržič', '131', 199), ('Turnišče', '132', 199), ('Velenje', '133', 199), ('Velike Lašče', '134', 199), ('Videm', '135', 199), ('Vipava', '136', 199), ('Vitanje', '137', 199), ('Vodice', '138', 199), ('Vojnik', '139', 199), ('Vrhnika', '140', 199), ('Vuzenica', '141', 199), ('Zagorje ob Savi', '142', 199), ('Zavrč', '143', 199), ('Zreče', '144', 199), ('Železniki', '146', 199), ('Žiri', '147', 199), ('Benedikt', '148', 199), ('Bistrica ob Sotli', '149', 199), ('Bloke', '150', 199), ('Braslovče', '151', 199), ('Cankova', '152', 199), ('Cerkvenjak', '153', 199), ('Dobje', '154', 199), ('Dobrna', '155', 199), ('Dobrovnik/Dobronak', '156', 199), ('Dolenjske Toplice', '157', 199), ('Grad', '158', 199), ('Hajdina', '159', 199), ('Hoče-Slivnica', '160', 199), ('Hodoš/Hodos', '161', 199), ('Horjul', '162', 199), ('Jezersko', '163', 199), ('Komenda', '164', 199), ('Kostel', '165', 199), ('Križevci', '166', 199), ('Lovrenc na Pohorju', '167', 199), ('Markovci', '168', 199), ('Miklavž na Dravskem polju', '169', 199), ('Mirna Peč', '170', 199), ('Oplotnica', '171', 199), ('Podlehnik', '172', 199), ('Polzela', '173', 199), ('Prebold', '174', 199), ('Prevalje', '175', 199), ('Razkrižje', '176', 199), ('Ribnica na Pohorju', '177', 199), ('Selnica ob Dravi', '178', 199), ('Sodražica', '179', 199), ('Solčava', '180', 199), ('Sveta Ana', '181', 199), ('Sveta Andraž v Slovenskih Goricah', '182', 199), ('Šempeter-Vrtojba', '183', 199), ('Tabor', '184', 199), ('Trnovska vas', '185', 199), ('Trzin', '186', 199), ('Velika Polana', '187', 199), ('Veržej', '188', 199), ('Vransko', '189', 199), ('Žalec', '190', 199), ('Žetale', '191', 199), ('Žirovnica', '192', 199), ('Žužemberk', '193', 199), ('Šmartno pri Litiji', '194', 199), ('Apače', '195', 199), ('Cirkulane', '196', 199), ('Kosanjevica na Krki', '197', 199), ('Makole', '198', 199), ('Mokronog-Trebelno', '199', 199), ('Poljčane', '200', 199), ('Renče-Vogrsko', '201', 199), ('Središče ob Dravi', '202', 199), ('Straža', '203', 199), ('Sveta Trojica v Slovenskih Goricah', '204', 199), ('Sveti Tomaž', '205', 199), ('Šmarjeske Topliče', '206', 199), ('Gorje', '207', 199), ('Log-Dragomer', '208', 199), ('Rečica ob Savinji', '209', 199), ('Sveti Jurij v Slovenskih Goricah', '210', 199), ('Šentrupert', '211', 199), ('Banskobystrický kraj', 'BC', 201), ('Bratislavský kraj', 'BL', 201), ('Košický kraj', 'KI', 201), ('Nitriansky kraj', 'NI', 201), ('Prešovský kraj', 'PV', 201), ('Trnavský kraj', 'TA', 201), ('Trenčiansky kraj', 'TC', 201), ('Žilinský kraj', 'ZI', 201), ('Acquaviva', '01', 203), ('Chiesanuova', '02', 203), ('Domagnano', '03', 203), ('Faetano', '04', 203), ('Fiorentino', '05', 203), ('Borgo Maggiore', '06', 203), ('San Marino', '07', 203), ('Montegiardino', '08', 203), ('Serravalle', '09', 203), ('Diourbel', 'DB', 204), ('Dakar', 'DK', 204), ('Fatick', 'FK', 204), ('Kaffrine', 'KA', 204), ('Kolda', 'KD', 204), ('Kédougou', 'KE', 204), ('Kaolack', 'KL', 204), ('Louga', 'LG', 204), ('Matam', 'MT', 204), ('Sédhiou', 'SE', 204), ('Saint-Louis', 'SL', 204), ('Tambacounda', 'TC', 204), ('Thiès', 'TH', 204), ('Ziguinchor', 'ZG', 204), ('Northern Bahr el-Ghazal', 'BN', 207), ('Western Bahr el-Ghazal', 'BW', 207), ('Central Equatoria', 'EC', 207), ('Eastern Equatoria', 'EE8', 207), ('Western Equatoria', 'EW', 207), ('Jonglei', 'JG', 207), ('Lakes', 'LK', 207), ('Upper Nile', 'NU', 207), ('Unity', 'UY', 207), ('Warrap', 'WR', 207), ('Ahuachapán', 'AH', 209), ('Cabañas', 'CA', 209), ('Chalatenango', 'CH', 209), ('Cuscatlán', 'CU', 209), ('La Libertad', 'LI', 209), ('Morazán', 'MO', 209), ('La Paz', 'PA', 209), ('Santa Ana', 'SA', 209), ('San Miguel', 'SM', 209), ('Sonsonate', 'SO', 209), ('San Salvador', 'SS', 209), ('San Vicente', 'SV', 209), ('La Unión', 'UN', 209), ('Usulután', 'US', 209), ('Hhohho', 'HH', 212), ('Lubombo', 'LU', 212), ('Manzini', 'MA', 212), ('Shiselweni', 'SH', 212), ('Al Baṭḩah', 'BA', 214), ('Baḩr al Ghazāl', 'BG', 214), ('Būrkū', 'BO', 214), ('Shārī Bāqirmī', 'CB', 214), ('Innīdī', 'EN', 214), ('Qīrā', 'GR', 214), ('Ḥajjar Lamīs', 'HL', 214), ('Kānim', 'KA', 214), ('Al Buḩayrah', 'LC', 214), ('Lūqūn al Gharbī', 'LO', 214), ('Lūqūn ash Sharqī', 'LR', 214), ('Māndūl', 'MA', 214), ('Shārī al Awsaṭ', 'MC', 214), ('Māyū Kībbī ash Sharqī', 'ME', 214), ('Māyū Kībbī al Gharbī', 'MO', 214), ('Madīnat Injamīnā', 'ND', 214), ('Waddāy', 'OD', 214), ('Salāmāt', 'SA', 214), ('Sīlā', 'SI', 214), ('Tānjilī', 'TA', 214), ('Tibastī', 'TI', 214), ('Wādī Fīrā', 'WF', 214), ('Krung Thep Maha Nakhon Bangkok', '10', 217), ('Samut Prakan', '11', 217), ('Nonthaburi', '12', 217), ('Pathum Thani', '13', 217), ('Phra Nakhon Si Ayutthaya', '14', 217), ('Ang Thong', '15', 217), ('Lop Buri', '16', 217), ('Sing Buri', '17', 217), ('Chai Nat', '18', 217), ('Saraburi', '19', 217), ('Chon Buri', '20', 217), ('Rayong', '21', 217), ('Chanthaburi', '22', 217), ('Trat', '23', 217), ('Chachoengsao', '24', 217), ('Prachin Buri', '25', 217), ('Nakhon Nayok', '26', 217), ('Sa Kaeo', '27', 217), ('Nakhon Ratchasima', '30', 217), ('Buri Ram', '31', 217), ('Surin', '32', 217), ('Si Sa Ket', '33', 217), ('Ubon Ratchathani', '34', 217), ('Yasothon', '35', 217), ('Chaiyaphum', '36', 217), ('Amnat Charoen', '37', 217), ('Nong Bua Lam Phu', '39', 217), ('Khon Kaen', '40', 217), ('Udon Thani', '41', 217), ('Loei', '42', 217), ('Nong Khai', '43', 217), ('Maha Sarakham', '44', 217), ('Roi Et', '45', 217), ('Kalasin', '46', 217), ('Sakon Nakhon', '47', 217), ('Nakhon Phanom', '48', 217), ('Mukdahan', '49', 217), ('Chiang Mai', '50', 217), ('Lamphun', '51', 217), ('Lampang', '52', 217), ('Uttaradit', '53', 217), ('Phrae', '54', 217), ('Nan', '55', 217), ('Phayao', '56', 217), ('Chiang Rai', '57', 217), ('Mae Hong Son', '58', 217), ('Nakhon Sawan', '60', 217), ('Uthai Thani', '61', 217), ('Kamphaeng Phet', '62', 217), ('Tak', '63', 217), ('Sukhothai', '64', 217), ('Phitsanulok', '65', 217), ('Phichit', '66', 217), ('Phetchabun', '67', 217), ('Ratchaburi', '70', 217), ('Kanchanaburi', '71', 217), ('Suphan Buri', '72', 217), ('Nakhon Pathom', '73', 217), ('Samut Sakhon', '74', 217), ('Samut Songkhram', '75', 217), ('Phetchaburi', '76', 217), ('Prachuap Khiri Khan', '77', 217), ('Nakhon Si Thammarat', '80', 217), ('Krabi', '81', 217), ('Phangnga', '82', 217), ('Phuket', '83', 217), ('Surat Thani', '84', 217), ('Ranong', '85', 217), ('Chumphon', '86', 217), ('Songkhla', '90', 217), ('Satun', '91', 217), ('Trang', '92', 217), ('Phatthalung', '93', 217), ('Pattani', '94', 217), ('Yala', '95', 217), ('Narathiwat', '96', 217), ('Phatthaya', 'S', 217), ('Gorno-Badakhshan', 'GB', 218), ('Khatlon', 'KT', 218), ('Sughd', 'SU', 218), ('Ahal', 'A', 221), ('Balkan', 'B', 221), ('Daşoguz', 'D', 221), ('Lebap', 'L', 221), ('Mary', 'M', 221), ('Aşgabat', 'S', 221), ('Tunis', '11', 222), ('Ariana', '12', 222), ('Ben Arous', '13', 222), ('La Manouba', '14', 222), ('Nabeul', '21', 222), ('Zaghouan', '22', 222), ('Bizerte', '23', 222), ('Béja', '31', 222), ('Jendouba', '32', 222), ('Le Kef', '33', 222), ('Siliana', '34', 222), ('Kairouan', '41', 222), ('Kasserine', '42', 222), ('Sidi Bouzid', '43', 222), ('Sousse', '51', 222), ('Monastir', '52', 222), ('Mahdia', '53', 222), ('Sfax', '61', 222), ('Gafsa', '71', 222), ('Tozeur', '72', 222), ('Kebili', '73', 222), ('Gabès', '81', 222), ('Medenine', '82', 222), ('Tataouine', '83', 222), ('Adana', '01', 224), ('Adıyaman', '02', 224), ('Afyonkarahisar', '03', 224), ('Ağrı', '04', 224), ('Amasya', '05', 224), ('Ankara', '06', 224), ('Antalya', '07', 224), ('Artvin', '08', 224), ('Aydın', '09', 224), ('Balıkesir', '10', 224), ('Bilecik', '11', 224), ('Bingöl', '12', 224), ('Bitlis', '13', 224), ('Bolu', '14', 224), ('Burdur', '15', 224), ('Bursa', '16', 224), ('Çanakkale', '17', 224), ('Çankırı', '18', 224), ('Çorum', '19', 224), ('Denizli', '20', 224), ('Diyarbakır', '21', 224), ('Edirne', '22', 224), ('Elazığ', '23', 224), ('Erzincan', '24', 224), ('Erzurum', '25', 224), ('Eskişehir', '26', 224), ('Gaziantep', '27', 224), ('Giresun', '28', 224), ('Gümüşhane', '29', 224), ('Hakkâri', '30', 224), ('Hatay', '31', 224), ('Isparta', '32', 224), ('Mersin', '33', 224), ('İstanbul', '34', 224), ('İzmir', '35', 224), ('Kars', '36', 224), ('Kastamonu', '37', 224), ('Kayseri', '38', 224), ('Kırklareli', '39', 224), ('Kırşehir', '40', 224), ('Kocaeli', '41', 224), ('Konya', '42', 224), ('Kütahya', '43', 224), ('Malatya', '44', 224), ('Manisa', '45', 224), ('Kahramanmaraş', '46', 224), ('Mardin', '47', 224), ('Muğla', '48', 224), ('Muş', '49', 224), ('Nevşehir', '50', 224), ('Niğde', '51', 224), ('Ordu', '52', 224), ('Rize', '53', 224), ('Sakarya', '54', 224), ('Samsun', '55', 224), ('Siirt', '56', 224), ('Sinop', '57', 224), ('Sivas', '58', 224), ('Tekirdağ', '59', 224), ('Tokat', '60', 224), ('Trabzon', '61', 224), ('Tunceli', '62', 224), ('Şanlıurfa', '63', 224), ('Uşak', '64', 224), ('Van', '65', 224), ('Yozgat', '66', 224), ('Zonguldak', '67', 224), ('Aksaray', '68', 224), ('Bayburt', '69', 224), ('Karaman', '70', 224), ('Kırıkkale', '71', 224), ('Batman', '72', 224), ('Şırnak', '73', 224), ('Bartın', '74', 224), ('Ardahan', '75', 224), ('Iğdır', '76', 224), ('Yalova', '77', 224), ('Karabük', '78', 224), ('Kilis', '79', 224), ('Osmaniye', '80', 224), ('Düzce', '81', 224), ('Arima', 'ARI', 225), ('Chaguanas', 'CHA', 225), ('Couva-Tabaquite-Talparo', 'CTT', 225), ('Diego Martin', 'DMN', 225), ('Eastern Tobago', 'ETO', 225), ('Penal-Debe', 'PED', 225), ('Port of Spain', 'POS', 225), ('Princes Town', 'PRT', 225), ('Point Fortin', 'PTF', 225), ('Rio Claro-Mayaro', 'RCM', 225), ('San Fernando', 'SFO', 225), ('Sangre Grande', 'SGE', 225), ('Siparia', 'SIP', 225), ('San Juan-Laventille', 'SJL', 225), ('Tunapuna-Piarco', 'TUP', 225), ('Western Tobago', 'WTO', 225), ('Changhua', 'CHA', 227), ('Chiay City', 'CYI', 227), ('Chiayi', 'CYQ', 227), ('Hsinchu', 'HSQ', 227), ('Hsinchui City', 'HSZ', 227), ('Hualien', 'HUA', 227), ('Ilan', 'ILA', 227), ('Keelung City', 'KEE', 227), ('Kaohsiung City', 'KHH', 227), ('Kaohsiung', 'KHQ', 227), ('Miaoli', 'MIA', 227), ('Nantou', 'NAN', 227), ('Penghu', 'PEN', 227), ('Pingtung', 'PIF', 227), ('Taoyuan', 'TAO', 227), ('Tainan City', 'TNN', 227), ('Tainan', 'TNQ', 227), ('Taipei City', 'TPE', 227), ('Taipei', 'TPQ', 227), ('Taitung', 'TTT', 227), ('Taichung City', 'TXG', 227), ('Taichung', 'TXQ', 227), ('Yunlin', 'YUN', 227), ('Vinnyts''ka Oblast''', '05', 229), ('Volyns''ka Oblast''', '07', 229), ('Luhans''ka Oblast''', '09', 229), ('Dnipropetrovs''ka Oblast''', '12', 229), ('Donets''ka Oblast''', '14', 229), ('Zhytomyrs''ka Oblast''', '18', 229), ('Zakarpats''ka Oblast''', '21', 229), ('Zaporiz''ka Oblast''', '23', 229), ('Ivano-Frankivs''ka Oblast''', '26', 229), ('Kyïvs''ka mis''ka rada', '30', 229), ('Kyïvs''ka Oblast''', '32', 229), ('Kirovohrads''ka Oblast''', '35', 229), ('Sevastopol', '40', 229), ('Respublika Krym', '43', 229), ('L''vivs''ka Oblast''', '46', 229), ('Mykolaïvs''ka Oblast''', '48', 229), ('Odes''ka Oblast''', '51', 229), ('Poltavs''ka Oblast''', '53', 229), ('Rivnens''ka Oblast''', '56', 229), ('Sums ''ka Oblast''', '59', 229), ('Ternopil''s''ka Oblast''', '61', 229), ('Kharkivs''ka Oblast''', '63', 229), ('Khersons''ka Oblast''', '65', 229), ('Khmel''nyts''ka Oblast''', '68', 229), ('Cherkas''ka Oblast''', '71', 229), ('Chernihivs''ka Oblast''', '74', 229), ('Chernivets''ka Oblast''', '77', 229), ('Johnston Atoll', '67', 231), ('Midway Islands', '71', 231);
[0m
  [1m[35m (9.4ms)[0m  [1m[32m    INSERT INTO spree_states ("name", "abbr", "country_id")
    VALUES ('Navassa Island', '76', 231), ('Wake Island', '79', 231), ('Baker Island', '81', 231), ('Howland Island', '84', 231), ('Jarvis Island', '86', 231), ('Kingman Reef', '89', 231), ('Palmyra Atoll', '95', 231), ('Alaska', 'AK', 232), ('Alabama', 'AL', 232), ('Arkansas', 'AR', 232), ('American Samoa', 'AS', 232), ('Arizona', 'AZ', 232), ('California', 'CA', 232), ('Colorado', 'CO', 232), ('Connecticut', 'CT', 232), ('District of Columbia', 'DC', 232), ('Delaware', 'DE', 232), ('Florida', 'FL', 232), ('Georgia', 'GA', 232), ('Guam', 'GU', 232), ('Hawaii', 'HI', 232), ('Iowa', 'IA', 232), ('Idaho', 'ID', 232), ('Illinois', 'IL', 232), ('Indiana', 'IN', 232), ('Kansas', 'KS', 232), ('Kentucky', 'KY', 232), ('Louisiana', 'LA', 232), ('Massachusetts', 'MA', 232), ('Maryland', 'MD', 232), ('Maine', 'ME', 232), ('Michigan', 'MI', 232), ('Minnesota', 'MN', 232), ('Missouri', 'MO', 232), ('Northern Mariana Islands', 'MP', 232), ('Mississippi', 'MS', 232), ('Montana', 'MT', 232), ('North Carolina', 'NC', 232), ('North Dakota', 'ND', 232), ('Nebraska', 'NE', 232), ('New Hampshire', 'NH', 232), ('New Jersey', 'NJ', 232), ('New Mexico', 'NM', 232), ('Nevada', 'NV', 232), ('New York', 'NY', 232), ('Ohio', 'OH', 232), ('Oklahoma', 'OK', 232), ('Oregon', 'OR', 232), ('Pennsylvania', 'PA', 232), ('Puerto Rico', 'PR', 232), ('Rhode Island', 'RI', 232), ('South Carolina', 'SC', 232), ('South Dakota', 'SD', 232), ('Tennessee', 'TN', 232), ('Texas', 'TX', 232), ('United States Minor Outlying Islands', 'UM', 232), ('Utah', 'UT', 232), ('Virginia', 'VA', 232), ('Virgin Islands', 'VI', 232), ('Vermont', 'VT', 232), ('Washington', 'WA', 232), ('Wisconsin', 'WI', 232), ('West Virginia', 'WV', 232), ('Wyoming', 'WY', 232), ('Armed Forces Americas (except Canada)', 'AA', 232), ('Armed Forces Africa, Canada, Europe, Middle East', 'AE', 232), ('Armed Forces Pacific', 'AP', 232), ('Artigas', 'AR', 233), ('Canelones', 'CA', 233), ('Cerro Largo', 'CL', 233), ('Colonia', 'CO', 233), ('Durazno', 'DU', 233), ('Florida', 'FD', 233), ('Flores', 'FS', 233), ('Lavalleja', 'LA', 233), ('Maldonado', 'MA', 233), ('Montevideo', 'MO', 233), ('Paysandú', 'PA', 233), ('Río Negro', 'RN', 233), ('Rocha', 'RO', 233), ('Rivera', 'RV', 233), ('Salto', 'SA', 233), ('San José', 'SJ', 233), ('Soriano', 'SO', 233), ('Tacuarembó', 'TA', 233), ('Treinta y Tres', 'TT', 233), ('Andijon', 'AN', 234), ('Buxoro', 'BU', 234), ('Farg''ona', 'FA', 234), ('Jizzax', 'JI', 234), ('Namangan', 'NG', 234), ('Navoiy', 'NW', 234), ('Qashqadaryo', 'QA', 234), ('Qoraqalpog''iston Respublikasi', 'QR', 234), ('Samarqand', 'SA', 234), ('Sirdaryo', 'SI', 234), ('Surxondaryo', 'SU', 234), ('Toshkent', 'TK', 234), ('Toshkent', 'TO', 234), ('Xorazm', 'XO', 234), ('Charlotte', '01', 236), ('Saint Andrew', '02', 236), ('Saint David', '03', 236), ('Saint George', '04', 236), ('Saint Patrick', '05', 236), ('Grenadines', '06', 236), ('Distrito Federal', 'A', 237), ('Anzoátegui', 'B', 237), ('Apure', 'C', 237), ('Aragua', 'D', 237), ('Barinas', 'E', 237), ('Bolívar', 'F', 237), ('Carabobo', 'G', 237), ('Cojedes', 'H', 237), ('Falcón', 'I', 237), ('Guárico', 'J', 237), ('Lara', 'K', 237), ('Mérida', 'L', 237), ('Miranda', 'M', 237), ('Monagas', 'N', 237), ('Nueva Esparta', 'O', 237), ('Portuguesa', 'P', 237), ('Sucre', 'R', 237), ('Táchira', 'S', 237), ('Trujillo', 'T', 237), ('Yaracuy', 'U', 237), ('Zulia', 'V', 237), ('Dependencias Federales', 'W', 237), ('Vargas', 'X', 237), ('Delta Amacuro', 'Y', 237), ('Amazonas', 'Z', 237), ('Lai Châu', '01', 240), ('Lào Cai', '02', 240), ('Hà Giang', '03', 240), ('Cao Bằng', '04', 240), ('Sơn La', '05', 240), ('Yên Bái', '06', 240), ('Tuyên Quang', '07', 240), ('Lạng Sơn', '09', 240), ('Quảng Ninh', '13', 240), ('Hoà Bình', '14', 240), ('Hà Tây', '15', 240), ('Ninh Bình', '18', 240), ('Thái Bình', '20', 240), ('Thanh Hóa', '21', 240), ('Nghệ An', '22', 240), ('Hà Tỉnh', '23', 240), ('Quảng Bình', '24', 240), ('Quảng Trị', '25', 240), ('Thừa Thiên-Huế', '26', 240), ('Quảng Nam', '27', 240), ('Kon Tum', '28', 240), ('Quảng Ngãi', '29', 240), ('Gia Lai', '30', 240), ('Bình Định', '31', 240), ('Phú Yên', '32', 240), ('Đắc Lắk', '33', 240), ('Khánh Hòa', '34', 240), ('Lâm Đồng', '35', 240), ('Ninh Thuận', '36', 240), ('Tây Ninh', '37', 240), ('Đồng Nai', '39', 240), ('Bình Thuận', '40', 240), ('Long An', '41', 240), ('Bà Rịa-Vũng Tàu', '43', 240), ('An Giang', '44', 240), ('Đồng Tháp', '45', 240), ('Tiền Giang', '46', 240), ('Kiên Giang', '47', 240), ('Vĩnh Long', '49', 240), ('Bến Tre', '50', 240), ('Trà Vinh', '51', 240), ('Sóc Trăng', '52', 240), ('Bắc Kạn', '53', 240), ('Bắc Giang', '54', 240), ('Bạc Liêu', '55', 240), ('Bắc Ninh', '56', 240), ('Bình Dương', '57', 240), ('Bình Phước', '58', 240), ('Cà Mau', '59', 240), ('Hải Duong', '61', 240), ('Hà Nam', '63', 240), ('Hưng Yên', '66', 240), ('Nam Định', '67', 240), ('Phú Thọ', '68', 240), ('Thái Nguyên', '69', 240), ('Vĩnh Phúc', '70', 240), ('Điện Biên', '71', 240), ('Đắk Nông', '72', 240), ('Hậu Giang', '73', 240), ('Cần Thơ', 'CT', 240), ('Đà Nẵng', 'DN', 240), ('Hà Nội', 'HN', 240), ('Hải Phòng', 'HP', 240), ('Hồ Chí Minh [Sài Gòn]', 'SG', 240), ('A''ana', 'AA', 243), ('Aiga-i-le-Tai', 'AL', 243), ('Atua', 'AT', 243), ('Fa''asaleleaga', 'FA', 243), ('Gaga''emauga', 'GE', 243), ('Gagaifomauga', 'GI', 243), ('Palauli', 'PA', 243), ('Satupa''itea', 'SA', 243), ('Tuamasaga', 'TU', 243), ('Va''a-o-Fonoti', 'VF', 243), ('Vaisigano', 'VS', 243), ('Eastern Cape', 'EC', 246), ('Free State', 'FS', 246), ('Gauteng', 'GP', 246), ('Limpopo', 'LP', 246), ('Mpumalanga', 'MP', 246), ('Northern Cape', 'NC', 246), ('North-West (South Africa)', 'NW', 246), ('Western Cape', 'WC', 246), ('Kwazulu-Natal', 'ZN', 246), ('Western', '01', 247), ('Central', '02', 247), ('Eastern', '03', 247), ('Luapula', '04', 247), ('Northern', '05', 247), ('North-Western', '06', 247), ('Southern (Zambia)', '07', 247), ('Copperbelt', '08', 247), ('Lusaka', '09', 247), ('''Ajmān', 'AJ', 2), ('Abū Ȥaby [Abu Dhabi]', 'AZ', 2), ('Dubayy', 'DU', 2), ('Al Fujayrah', 'FU', 2), ('Ra’s al Khaymah', 'RK', 2), ('Ash Shāriqah', 'SH', 2), ('Umm al Qaywayn', 'UQ', 2), ('Saint George', '03', 4), ('Saint John', '04', 4), ('Saint Mary', '05', 4), ('Saint Paul', '06', 4), ('Saint Peter', '07', 4), ('Saint Philip', '08', 4), ('Barbuda', '10', 4), ('Redonda', '11', 4), ('Bengo', 'BGO', 8), ('Benguela', 'BGU', 8), ('Bié', 'BIE', 8), ('Cabinda', 'CAB', 8), ('Cuando-Cubango', 'CCU', 8), ('Cunene', 'CNN', 8), ('Cuanza Norte', 'CNO', 8), ('Cuanza Sul', 'CUS', 8), ('Huambo', 'HUA', 8), ('Huíla', 'HUI', 8), ('Lunda Norte', 'LNO', 8), ('Lunda Sul', 'LSU', 8), ('Luanda', 'LUA', 8), ('Malange', 'MAL', 8), ('Moxico', 'MOX', 8), ('Namibe', 'NAM', 8), ('Uíge', 'UIG', 8), ('Zaire', 'ZAI', 8), ('Boucle du Mouhoun', '01', 21), ('Cascades', '02', 21), ('Centre', '03', 21), ('Centre-Est', '04', 21), ('Centre-Nord', '05', 21), ('Centre-Ouest', '06', 21), ('Centre-Sud', '07', 21), ('Est', '08', 21), ('Hauts-Bassins', '09', 21), ('Nord', '10', 21), ('Plateau-Central', '11', 21), ('Sahel', '12', 21), ('Sud-Ouest', '13', 21), ('Bubanza', 'BB', 24), ('Bujumbura Rural', 'BL', 24), ('Bujumbura Mairie', 'BM', 24), ('Bururi', 'BR', 24), ('Cankuzo', 'CA', 24), ('Cibitoke', 'CI', 24), ('Gitega', 'GI', 24), ('Kirundo', 'KI', 24), ('Karuzi', 'KR', 24), ('Kayanza', 'KY', 24), ('Makamba', 'MA', 24), ('Muramvya', 'MU', 24), ('Mwaro', 'MW', 24), ('Ngozi', 'NG', 24), ('Rutana', 'RT', 24), ('Ruyigi', 'RY', 24), ('Atakora', 'AK', 25), ('Alibori', 'AL', 25), ('Atlantique', 'AQ', 25), ('Borgou', 'BO', 25), ('Collines', 'CO', 25), ('Donga', 'DO', 25), ('Kouffo', 'KO', 25), ('Littoral', 'LI', 25), ('Mono', 'MO', 25), ('Ouémé', 'OU', 25), ('Plateau', 'PL', 25), ('Zou', 'ZO', 25), ('El Beni', 'B', 29), ('Cochabamba', 'C', 29), ('Chuquisaca', 'H', 29), ('La Paz', 'L', 29), ('Pando', 'N', 29), ('Oruro', 'O', 29), ('Potosí', 'P', 29), ('Santa Cruz', 'S', 29), ('Tarija', 'T', 29), ('Acklins', 'AK', 32), ('Bimini', 'BI', 32), ('Black Point', 'BP', 32), ('Berry Islands', 'BY', 32), ('Central Eleuthera', 'CE', 32), ('Cat Island', 'CI', 32), ('Crooked Island and Long Cay', 'CK', 32), ('Central Abaco', 'CO', 32), ('Central Andros', 'CS', 32), ('East Grand Bahama', 'EG', 32), ('Exuma', 'EX', 32), ('City of Freeport', 'FP', 32), ('Grand Cay', 'GC', 32), ('Harbour Island', 'HI', 32), ('Hope Town', 'HT', 32), ('Inagua', 'IN', 32), ('Long Island', 'LI', 32), ('Mangrove Cay', 'MC', 32), ('Mayaguana', 'MG', 32), ('Moore''s Island', 'MI', 32), ('North Eleuthera', 'NE', 32), ('North Abaco', 'NO', 32), ('North Andros', 'NS', 32), ('Rum Cay', 'RC', 32), ('Ragged Island', 'RI', 32), ('South Andros', 'SA', 32), ('South Eleuthera', 'SE', 32), ('South Abaco', 'SO', 32), ('San Salvador', 'SS', 32), ('Spanish Wells', 'SW', 32), ('West Grand Bahama', 'WG', 32), ('Central', 'CE', 35), ('Ghanzi', 'GH', 35), ('Kgalagadi', 'KG', 35), ('Kgatleng', 'KL', 35), ('Kweneng', 'KW', 35), ('North-East', 'NE', 35), ('North-West', 'NW', 35), ('South-East', 'SE', 35), ('Southern', 'SO', 35), ('Belize', 'BZ', 37), ('Cayo', 'CY', 37), ('Corozal', 'CZL', 37), ('Orange Walk', 'OW', 37), ('Stann Creek', 'SC', 37), ('Toledo', 'TOL', 37), ('Bas-Congo', 'BC', 40), ('Bandundu', 'BN', 40), ('Équateur', 'EQ', 40), ('Katanga', 'KA', 40), ('Kasai-Oriental', 'KE', 40), ('Kinshasa', 'KN', 40), ('Kasai-Occidental', 'KW', 40), ('Maniema', 'MA', 40), ('Nord-Kivu', 'NK', 40), ('Orientale', 'OR', 40), ('Sud-Kivu', 'SK', 40), ('Ouham', 'AC', 41), ('Bamingui-Bangoran', 'BB', 41), ('Bangui', 'BGF', 41), ('Basse-Kotto', 'BK', 41), ('Haute-Kotto', 'HK', 41), ('Haut-Mbomou', 'HM', 41), ('Haute-Sangha / Mambéré-Kadéï', 'HS', 41), ('Gribingui', 'KB', 41), ('Kémo-Gribingui', 'KG', 41), ('Lobaye', 'LB', 41), ('Mbomou', 'MB', 41), ('Ombella-M''poko', 'MP', 41), ('Nana-Mambéré', 'NM', 41), ('Ouham-Pendé', 'OP', 41), ('Sangha', 'SE', 41), ('Ouaka', 'UK', 41), ('Vakaga', 'VK', 41), ('Bouenza', '11', 42), ('Pool', '12', 42), ('Sangha', '13', 42), ('Plateaux', '14', 42), ('Cuvette-Ouest', '15', 42), ('Lékoumou', '2', 42), ('Kouilou', '5', 42), ('Likouala', '7', 42), ('Cuvette', '8', 42), ('Niari', '9', 42), ('Brazzaville', 'BZV', 42), ('Lagunes (Région des)', '01', 44), ('Haut-Sassandra (Région du)', '02', 44), ('Savanes (Région des)', '03', 44), ('Vallée du Bandama (Région de la)', '04', 44), ('Moyen-Comoé (Région du)', '05', 44), ('18 Montagnes (Région des)', '06', 44), ('Lacs (Région des)', '07', 44), ('Zanzan (Région du)', '08', 44), ('Bas-Sassandra (Région du)', '09', 44), ('Denguélé (Région du)', '10', 44), ('Nzi-Comoé (Région)', '11', 44), ('Marahoué (Région de la)', '12', 44), ('Sud-Comoé (Région du)', '13', 44), ('Worodouqou (Région du)', '14', 44), ('Sud-Bandama (Région du)', '15', 44), ('Agnébi (Région de l'')', '16', 44), ('Bafing (Région du)', '17', 44), ('Fromager (Région du)', '18', 44), ('Moyen-Cavally (Région du)', '19', 44), ('Adamaoua', 'AD', 47), ('Centre', 'CE', 47), ('Far North', 'EN', 47), ('East', 'ES', 47), ('Littoral', 'LT', 47), ('North', 'NO', 47), ('North-West (Cameroon)', 'NW', 47), ('West', 'OU', 47), ('South', 'SU', 47), ('South-West', 'SW', 47), ('Arta', 'AR', 58), ('Ali Sabieh', 'AS', 58), ('Dikhil', 'DI', 58), ('Djibouti', 'DJ', 58), ('Obock', 'OB', 58), ('Tadjourah', 'TA', 58), ('Saint Peter', '01', 60), ('Saint Andrew', '02', 60), ('Saint David', '03', 60), ('Saint George', '04', 60), ('Saint John', '05', 60), ('Saint Joseph', '06', 60), ('Saint Luke', '07', 60), ('Saint Mark', '08', 60), ('Saint Patrick', '09', 60), ('Saint Paul', '10', 60), ('Ansabā', 'AN', 67), ('Janūbī al Baḩrī al Aḩmar', 'DK', 67), ('Al Janūbī', 'DU', 67), ('Qāsh-Barkah', 'GB', 67), ('Al Awsaţ', 'MA', 67), ('Shimālī al Baḩrī al Aḩmar', 'SK', 67), ('Central', 'C', 71), ('Eastern', 'E', 71), ('Northern', 'N', 71), ('Rotuma', 'R', 71), ('Western', 'W', 71), ('Saint Andrew', '01', 78), ('Saint David', '02', 78), ('Saint George', '03', 78), ('Saint John', '04', 78), ('Saint Mark', '05', 78), ('Saint Patrick', '06', 78), ('Southern Grenadine Islands', '10', 78), ('Greater Accra', 'AA', 82), ('Ashanti', 'AH', 82), ('Brong-Ahafo', 'BA', 82), ('Central', 'CP', 82), ('Eastern', 'EP', 82), ('Northern', 'NP', 82), ('Volta', 'TV', 82), ('Upper East', 'UE', 82), ('Upper West', 'UW', 82), ('Western', 'WP', 82), ('Banjul', 'B', 85), ('Lower River', 'L', 85), ('Central River', 'M', 85), ('North Bank', 'N', 85), ('Upper River', 'U', 85), ('Western', 'W', 85), ('Boké', 'B', 86), ('Conakry', 'C', 86), ('Kindia', 'D', 86), ('Faranah', 'F', 86), ('Kankan', 'K', 86), ('Labé', 'L', 86), ('Mamou', 'M', 86), ('Nzérékoré', 'N', 86), ('Región Continental', 'C', 88), ('Región Insular', 'I', 88), ('Barima-Waini', 'BA', 94), ('Cuyuni-Mazaruni', 'CU', 94), ('Demerara-Mahaica', 'DE', 94), ('East Berbice-Corentyne', 'EB', 94), ('Essequibo Islands-West Demerara', 'ES', 94), ('Mahaica-Berbice', 'MA', 94), ('Pomeroon-Supenaam', 'PM', 94), ('Potaro-Siparuni', 'PT', 94), ('Upper Demerara-Berbice', 'UD', 94), ('Upper Takutu-Upper Essequibo', 'UT', 94), ('Gilbert Islands', 'G', 118), ('Line Islands', 'L', 118), ('Phoenix Islands', 'P', 118), ('Andjouân (Anjwān)', 'A', 119), ('Andjazîdja (Anjazījah)', 'G', 119), ('Moûhîlî (Mūhīlī)', 'M', 119), ('Saint Kitts', 'K', 120), ('Nevis', 'N', 120), ('P’yŏngyang', '01', 121);
[0m
  [1m[35m (5.9ms)[0m  [1m[32m    INSERT INTO spree_states ("name", "abbr", "country_id")
    VALUES ('P’yŏngan-namdo', '02', 121), ('P’yŏngan-bukto', '03', 121), ('Chagang-do', '04', 121), ('Hwanghae-namdo', '05', 121), ('Hwanghae-bukto', '06', 121), ('Kangwŏn-do', '07', 121), ('Hamgyŏng-namdo', '08', 121), ('Hamgyŏng-bukto', '09', 121), ('Yanggang-do', '10', 121), ('Nasŏn (Najin-Sŏnbong)', '13', 121), ('Banghāzī', 'BA', 136), ('Al Buţnān', 'BU', 136), ('Darnah', 'DR', 136), ('Ghāt', 'GT', 136), ('Al Jabal al Akhḑar', 'JA', 136), ('Jaghbūb', 'JB', 136), ('Al Jabal al Gharbī', 'JG', 136), ('Al Jifārah', 'JI', 136), ('Al Jufrah', 'JU', 136), ('Al Kufrah', 'KF', 136), ('Al Marqab', 'MB', 136), ('Mişrātah', 'MI', 136), ('Al Marj', 'MJ', 136), ('Murzuq', 'MQ', 136), ('Nālūt', 'NL', 136), ('An Nuqaţ al Khams', 'NQ', 136), ('Sabhā', 'SB', 136), ('Surt', 'SR', 136), ('Ţarābulus', 'TB', 136), ('Al Wāḩāt', 'WA', 136), ('Wādī al Ḩayāt', 'WD', 136), ('Wādī ash Shāţiʾ', 'WS', 136), ('Az Zāwiyah', 'ZA', 136), ('Kayes', '1', 145), ('Koulikoro', '2', 145), ('Sikasso', '3', 145), ('Ségou', '4', 145), ('Mopti', '5', 145), ('Tombouctou', '6', 145), ('Gao', '7', 145), ('Kidal', '8', 145), ('Bamako', 'BK0', 145), ('Hodh ech Chargui', '01', 151), ('Hodh el Charbi', '02', 151), ('Assaba', '03', 151), ('Gorgol', '04', 151), ('Brakna', '05', 151), ('Trarza', '06', 151), ('Adrar', '07', 151), ('Dakhlet Nouadhibou', '08', 151), ('Tagant', '09', 151), ('Guidimaka', '10', 151), ('Tiris Zemmour', '11', 151), ('Inchiri', '12', 151), ('Nouakchott', 'NKC', 151), ('Central Region', 'C', 156), ('Northern Region', 'N', 156), ('Southern Region', 'S', 156), ('Aiwo', '01', 169), ('Anabar', '02', 169), ('Anetan', '03', 169), ('Anibare', '04', 169), ('Baiti', '05', 169), ('Boe', '06', 169), ('Buada', '07', 169), ('Denigomodu', '08', 169), ('Ewa', '09', 169), ('Ijuw', '10', 169), ('Meneng', '11', 169), ('Nibok', '12', 169), ('Uaboe', '13', 169), ('Yaren', '14', 169), ('Bocas del Toro', '1', 173), ('Coclé', '2', 173), ('Colón', '3', 173), ('Chiriquí', '4', 173), ('Darién', '5', 173), ('Herrera', '6', 173), ('Los Santos', '7', 173), ('Panamá', '8', 173), ('Veraguas', '9', 173), ('Emberá', 'EM', 173), ('Kuna Yala', 'KY', 173), ('Ngöbe-Buglé', 'NB', 173), ('Ad Dawhah', 'DA', 186), ('Al Khawr wa adh Dhakhīrah', 'KH', 186), ('Ash Shamal', 'MS', 186), ('Ar Rayyan', 'RA', 186), ('Umm Salal', 'US', 186), ('Al Wakrah', 'WA', 186), ('Az̧ Z̧a‘āyin', 'ZA', 186), ('Ville de Kigali', '01', 191), ('Est', '02', 191), ('Nord', '03', 191), ('Ouest', '04', 191), ('Sud', '05', 191), ('Awdal', 'AW', 205), ('Bakool', 'BK', 205), ('Banaadir', 'BN', 205), ('Bari', 'BR', 205), ('Bay', 'BY', 205), ('Galguduud', 'GA', 205), ('Gedo', 'GE', 205), ('Hiirsan', 'HI', 205), ('Jubbada Dhexe', 'JD', 205), ('Jubbada Hoose', 'JH', 205), ('Mudug', 'MU', 205), ('Nugaal', 'NU', 205), ('Saneag', 'SA', 205), ('Shabeellaha Dhexe', 'SD', 205), ('Shabeellaha Hoose', 'SH', 205), ('Sool', 'SO', 205), ('Togdheer', 'TO', 205), ('Woqooyi Galbeed', 'WO', 205), ('Central', 'CE', 193), ('Choiseul', 'CH', 193), ('Capital Territory (Honiara)', 'CT', 193), ('Guadalcanal', 'GU', 193), ('Isabel', 'IS', 193), ('Makira', 'MK', 193), ('Malaita', 'ML', 193), ('Rennell and Bellona', 'RB', 193), ('Temotu', 'TE', 193), ('Western', 'WE', 193), ('Anse aux Pins', '01', 194), ('Anse Boileau', '02', 194), ('Anse Etoile', '03', 194), ('Anse Louis', '04', 194), ('Anse Royale', '05', 194), ('Baie Lazare', '06', 194), ('Baie Sainte Anne', '07', 194), ('Beau Vallon', '08', 194), ('Bel Air', '09', 194), ('Bel Ombre', '10', 194), ('Cascade', '11', 194), ('Glacis', '12', 194), ('Grand Anse Mahe', '13', 194), ('Grand Anse Praslin', '14', 194), ('La Digue', '15', 194), ('English River', '16', 194), ('Mont Buxton', '17', 194), ('Mont Fleuri', '18', 194), ('Plaisance', '19', 194), ('Pointe Larue', '20', 194), ('Port Glaud', '21', 194), ('Saint Louis', '22', 194), ('Takamaka', '23', 194), ('Les Mamelles', '24', 194), ('Roche Caiman', '25', 194), ('Eastern', 'E', 202), ('Northern', 'N', 202), ('Southern (Sierra Leone)', 'S', 202), ('Western Area (Freetown)', 'W', 202), ('Brokopondo', 'BR', 206), ('Commewijne', 'CM', 206), ('Coronie', 'CR', 206), ('Marowijne', 'MA', 206), ('Nickerie', 'NI', 206), ('Paramaribo', 'PM', 206), ('Para', 'PR', 206), ('Saramacca', 'SA', 206), ('Sipaliwini', 'SI', 206), ('Wanica', 'WA', 206), ('Príncipe', 'P', 208), ('São Tomé', 'S', 208), ('Dimashq', 'DI', 211), ('Dar''a', 'DR', 211), ('Dayr az Zawr', 'DY', 211), ('Al Hasakah', 'HA', 211), ('Homs', 'HI', 211), ('Halab', 'HL', 211), ('Hamah', 'HM', 211), ('Idlib', 'ID', 211), ('Al Ladhiqiyah', 'LA', 211), ('Al Qunaytirah', 'QU', 211), ('Ar Raqqah', 'RA', 211), ('Rif Dimashq', 'RD', 211), ('As Suwayda''', 'SU', 211), ('Tartus', 'TA', 211), ('Région du Centre', 'C', 216), ('Région de la Kara', 'K', 216), ('Région Maritime', 'M', 216), ('Région des Plateaux', 'P', 216), ('Région des Savannes', 'S', 216), ('Aileu', 'AL', 220), ('Ainaro', 'AN', 220), ('Baucau', 'BA', 220), ('Bobonaro', 'BO', 220), ('Cova Lima', 'CO', 220), ('Díli', 'DI', 220), ('Ermera', 'ER', 220), ('Lautem', 'LA', 220), ('Liquiça', 'LI', 220), ('Manufahi', 'MF', 220), ('Manatuto', 'MT', 220), ('Oecussi', 'OE', 220), ('Viqueque', 'VI', 220), ('''Eua', '01', 223), ('Ha''apai', '02', 223), ('Niuas', '03', 223), ('Tongatapu', '04', 223), ('Vava''u', '05', 223), ('Funafuti', 'FUN', 226), ('Niutao', 'NIT', 226), ('Nukufetau', 'NKF', 226), ('Nukulaelae', 'NKL', 226), ('Nanumea', 'NMA', 226), ('Nanumanga', 'NMG', 226), ('Nui', 'NUI', 226), ('Vaitupu', 'VAI', 226), ('Arusha', '01', 228), ('Dar-es-Salaam', '02', 228), ('Dodoma', '03', 228), ('Iringa', '04', 228), ('Kagera', '05', 228), ('Kaskazini Pemba', '06', 228), ('Kaskazini Unguja', '07', 228), ('Kigoma', '08', 228), ('Kilimanjaro', '09', 228), ('Kusini Pemba', '10', 228), ('Kusini Unguja', '11', 228), ('Lindi', '12', 228), ('Mara', '13', 228), ('Mbeya', '14', 228), ('Mjini Magharibi', '15', 228), ('Morogoro', '16', 228), ('Mtwara', '17', 228), ('Mwanza', '18', 228), ('Pwani', '19', 228), ('Rukwa', '20', 228), ('Ruvuma', '21', 228), ('Shinyanga', '22', 228), ('Singida', '23', 228), ('Tabora', '24', 228), ('Tanga', '25', 228), ('Manyara', '26', 228), ('Central', 'C', 230), ('Eastern', 'E', 230), ('Northern', 'N', 230), ('Western', 'W', 230), ('Malampa', 'MAP', 241), ('Pénama', 'PAM', 241), ('Sanma', 'SAM', 241), ('Shéfa', 'SEE', 241), ('Taféa', 'TAE', 241), ('Torba', 'TOB', 241), ('Abyān', 'AB', 244), ('''Adan', 'AD', 244), ('''Amrān', 'AM', 244), ('Al Bayḑā''', 'BA', 244), ('Aḑ Ḑāli‘', 'DA', 244), ('Dhamār', 'DH', 244), ('Ḩaḑramawt', 'HD', 244), ('Ḩajjah', 'HJ', 244), ('Ibb', 'IB', 244), ('Al Jawf', 'JA', 244), ('Laḩij', 'LA', 244), ('Ma''rib', 'MA', 244), ('Al Mahrah', 'MR', 244), ('Al Ḩudaydah', 'MU', 244), ('Al Maḩwīt', 'MW', 244), ('Raymah', 'RA', 244), ('Şa''dah', 'SD', 244), ('Shabwah', 'SH', 244), ('Şan''ā''', 'SN', 244), ('Tā''izz', 'TA', 244), ('Bulawayo', 'BU', 248), ('Harare', 'HA', 248), ('Manicaland', 'MA', 248), ('Mashonaland Central', 'MC', 248), ('Mashonaland East', 'ME', 248), ('Midlands', 'MI', 248), ('Matabeleland North', 'MN', 248), ('Matabeleland South', 'MS', 248), ('Masvingo', 'MV', 248), ('Mashonaland West', 'MW', 248);
[0m
  [1m[36mSpree::Store Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stores" WHERE "spree_stores"."code" = $1 LIMIT $2[0m  [["code", "spree"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Zone Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_zones" WHERE LOWER("spree_zones"."name") = LOWER($1) LIMIT $2[0m  [["name", "EU_VAT"], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "spree_zones" ("name", "description", "created_at", "updated_at", "kind") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "EU_VAT"], ["description", "Countries that make up the EU VAT zone."], ["created_at", "2017-07-26 10:59:18.956212"], ["updated_at", "2017-07-26 10:59:18.956212"], ["kind", "country"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Zone Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_zones" WHERE LOWER("spree_zones"."name") = LOWER($1) LIMIT $2[0m  [["name", "North America"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_zones" ("name", "description", "created_at", "updated_at", "kind") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "North America"], ["description", "USA + Canada"], ["created_at", "2017-07-26 10:59:19.001735"], ["updated_at", "2017-07-26 10:59:19.001735"], ["kind", "country"]]
  [1m[35m (6.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "PL"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (18.9ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 179], ["zone_id", 1], ["created_at", "2017-07-26 10:59:19.030808"], ["updated_at", "2017-07-26 10:59:19.030808"]]
  [1m[35mSQL (2.9ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (1.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "FI"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 70], ["zone_id", 1], ["created_at", "2017-07-26 10:59:19.062743"], ["updated_at", "2017-07-26 10:59:19.062743"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.7ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "PT"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 183], ["zone_id", 1], ["created_at", "2017-07-26 10:59:19.070433"], ["updated_at", "2017-07-26 10:59:19.070433"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "RO"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 188], ["zone_id", 1], ["created_at", "2017-07-26 10:59:19.077156"], ["updated_at", "2017-07-26 10:59:19.077156"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "DE"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 57], ["zone_id", 1], ["created_at", "2017-07-26 10:59:19.084024"], ["updated_at", "2017-07-26 10:59:19.084024"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.7ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "FR"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 75], ["zone_id", 1], ["created_at", "2017-07-26 10:59:19.091268"], ["updated_at", "2017-07-26 10:59:19.091268"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "SK"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 201], ["zone_id", 1], ["created_at", "2017-07-26 10:59:19.097720"], ["updated_at", "2017-07-26 10:59:19.097720"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "HU"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 100], ["zone_id", 1], ["created_at", "2017-07-26 10:59:19.104056"], ["updated_at", "2017-07-26 10:59:19.104056"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "SI"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 199], ["zone_id", 1], ["created_at", "2017-07-26 10:59:19.110964"], ["updated_at", "2017-07-26 10:59:19.110964"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.8ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "IE"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 102], ["zone_id", 1], ["created_at", "2017-07-26 10:59:19.117834"], ["updated_at", "2017-07-26 10:59:19.117834"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "AT"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 12], ["zone_id", 1], ["created_at", "2017-07-26 10:59:19.125513"], ["updated_at", "2017-07-26 10:59:19.125513"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "ES"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 68], ["zone_id", 1], ["created_at", "2017-07-26 10:59:19.132896"], ["updated_at", "2017-07-26 10:59:19.132896"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.7ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "IT"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 110], ["zone_id", 1], ["created_at", "2017-07-26 10:59:19.140437"], ["updated_at", "2017-07-26 10:59:19.140437"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "BE"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 20], ["zone_id", 1], ["created_at", "2017-07-26 10:59:19.148101"], ["updated_at", "2017-07-26 10:59:19.148101"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "SE"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 196], ["zone_id", 1], ["created_at", "2017-07-26 10:59:19.155516"], ["updated_at", "2017-07-26 10:59:19.155516"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "LV"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 135], ["zone_id", 1], ["created_at", "2017-07-26 10:59:19.162451"], ["updated_at", "2017-07-26 10:59:19.162451"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "BG"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 22], ["zone_id", 1], ["created_at", "2017-07-26 10:59:19.169455"], ["updated_at", "2017-07-26 10:59:19.169455"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.8ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "GB"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 77], ["zone_id", 1], ["created_at", "2017-07-26 10:59:19.177099"], ["updated_at", "2017-07-26 10:59:19.177099"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "LT"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 133], ["zone_id", 1], ["created_at", "2017-07-26 10:59:19.183720"], ["updated_at", "2017-07-26 10:59:19.183720"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.8ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "CY"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 55], ["zone_id", 1], ["created_at", "2017-07-26 10:59:19.190975"], ["updated_at", "2017-07-26 10:59:19.190975"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.9ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "LU"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 134], ["zone_id", 1], ["created_at", "2017-07-26 10:59:19.198765"], ["updated_at", "2017-07-26 10:59:19.198765"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (1.1ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "MT"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 153], ["zone_id", 1], ["created_at", "2017-07-26 10:59:19.206976"], ["updated_at", "2017-07-26 10:59:19.206976"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.8ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "DK"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 59], ["zone_id", 1], ["created_at", "2017-07-26 10:59:19.214619"], ["updated_at", "2017-07-26 10:59:19.214619"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.9ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "NL"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 166], ["zone_id", 1], ["created_at", "2017-07-26 10:59:19.222971"], ["updated_at", "2017-07-26 10:59:19.222971"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.9ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "EE"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 64], ["zone_id", 1], ["created_at", "2017-07-26 10:59:19.230633"], ["updated_at", "2017-07-26 10:59:19.230633"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.7ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "HR"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 98], ["zone_id", 1], ["created_at", "2017-07-26 10:59:19.238078"], ["updated_at", "2017-07-26 10:59:19.238078"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "CZ"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 56], ["zone_id", 1], ["created_at", "2017-07-26 10:59:19.245347"], ["updated_at", "2017-07-26 10:59:19.245347"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "GR"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 89], ["zone_id", 1], ["created_at", "2017-07-26 10:59:19.251916"], ["updated_at", "2017-07-26 10:59:19.251916"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "US"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 232], ["zone_id", 2], ["created_at", "2017-07-26 10:59:19.258350"], ["updated_at", "2017-07-26 10:59:19.258350"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 2]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "CA"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_zone_members" ("zoneable_type", "zoneable_id", "zone_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["zoneable_type", "Spree::Country"], ["zoneable_id", 38], ["zone_id", 2], ["created_at", "2017-07-26 10:59:19.265543"], ["updated_at", "2017-07-26 10:59:19.265543"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_zones" SET "zone_members_count" = COALESCE("zone_members_count", 0) + 1 WHERE "spree_zones"."id" = $1[0m  [["id", 2]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::User Exists (32.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" LEFT OUTER JOIN "spree_role_users" ON "spree_role_users"."user_id" = "spree_users"."id" LEFT OUTER JOIN "spree_roles" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_users"."deleted_at" IS NULL AND "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.8ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/auth_configuration/confirmable"], ["LIMIT", 1]]
Creating scope :admin. Overwriting existing method Spree::User.admin.
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."email" = $1 LIMIT $2[0m  [["email", "jorgecf@gmail.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::User Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "jorgecf@gmail.com"], ["LIMIT", 1]]
  [1m[36mSpree::User Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "jorgecf@gmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (2.3ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["encrypted_password", "156b77cec1d345846d1543d6e7d2107509f8a25900b5962e5fab0a7e342be8f60401d1dd04e4be80febade8f1831305ca84df9d595fc33eb74cebac9d767be26"], ["password_salt", "z_SD3SkjyPxzsWEPEJbT"], ["email", "jorgecf@gmail.com"], ["login", "jorgecf@gmail.com"], ["created_at", "2017-07-26 11:01:45.129820"], ["updated_at", "2017-07-26 11:01:45.129820"]]
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT  "spree_roles".* FROM "spree_roles" WHERE "spree_roles"."name" = $1 LIMIT $2[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_role_users" ("role_id", "user_id") VALUES ($1, $2) RETURNING "id"[0m  [["role_id", 1], ["user_id", 1]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_users" SET "updated_at" = $1, "spree_api_key" = $2 WHERE "spree_users"."id" = $3[0m  [["updated_at", "2017-07-26 11:01:45.189030"], ["spree_api_key", "b1af2810df846a04152517c389d5167128d83feb542749ac"], ["id", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/auth_configuration/confirmable"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/auth_configuration/confirmable"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  [1m[36mSpree::Gateway::Bogus Load (1.3ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."type" IN ('Spree::Gateway::Bogus', 'Spree::Gateway::BogusSimple') AND "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."name" = $1 AND "spree_payment_methods"."description" = $2 AND "spree_payment_methods"."active" = $3 ORDER BY "spree_payment_methods"."id" ASC LIMIT $4[0m  [["name", "Credit Card"], ["description", "Bogus payment gateway."], ["active", "t"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PaymentMethod Load (0.7ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE (1 = 1) AND ("spree_payment_methods"."position" IS NOT NULL) ORDER BY "spree_payment_methods"."position" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "spree_payment_methods" ("type", "name", "description", "created_at", "updated_at", "preferences", "position") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["type", "Spree::Gateway::Bogus"], ["name", "Credit Card"], ["description", "Bogus payment gateway."], ["created_at", "2017-07-26 11:01:55.666475"], ["updated_at", "2017-07-26 11:01:55.666475"], ["preferences", "---\n:server: test\n:test_mode: true\n"], ["position", 2]]
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::PaymentMethod::Check Load (1.3ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."type" IN ('Spree::PaymentMethod::Check') AND "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."name" = $1 AND "spree_payment_methods"."description" = $2 AND "spree_payment_methods"."active" = $3 ORDER BY "spree_payment_methods"."id" ASC LIMIT $4[0m  [["name", "Check"], ["description", "Pay by check."], ["active", "t"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PaymentMethod Load (0.6ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE (1 = 1) AND ("spree_payment_methods"."position" IS NOT NULL) ORDER BY "spree_payment_methods"."position" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_payment_methods" ("type", "name", "description", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["type", "Spree::PaymentMethod::Check"], ["name", "Check"], ["description", "Pay by check."], ["created_at", "2017-07-26 11:01:55.719006"], ["updated_at", "2017-07-26 11:01:55.719006"], ["position", 3]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::ShippingCategory Load (3.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."name" = $1 LIMIT $2[0m  [["name", "Default"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.7ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."name" = $1 LIMIT $2[0m  [["name", "North America"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.5ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."name" = $1 LIMIT $2[0m  [["name", "EU_VAT"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."name" = $1 LIMIT $2[0m  [["name", "Default"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingMethod Load (8.5ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL AND "spree_shipping_methods"."name" = $1 ORDER BY "spree_shipping_methods"."id" ASC LIMIT $2[0m  [["name", "UPS Ground (USD)"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.3ms)[0m  [1m[32mINSERT INTO "spree_calculators" ("type", "created_at", "updated_at", "preferences") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Spree::Calculator::Shipping::FlatRate"], ["created_at", "2017-07-26 11:01:55.858483"], ["updated_at", "2017-07-26 11:01:55.858483"], ["preferences", "---\n:currency: USD\n:amount: 0\n"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingCategory Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) AND ("spree_shipping_categories"."id" != $2) LIMIT $3[0m  [["name", "Default"], ["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Zone Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_zones" WHERE LOWER("spree_zones"."name") = LOWER($1) AND ("spree_zones"."id" != $2) LIMIT $3[0m  [["name", "North America"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_shipping_methods" ("name", "display_on", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "UPS Ground (USD)"], ["display_on", "both"], ["created_at", "2017-07-26 11:01:55.976261"], ["updated_at", "2017-07-26 11:01:55.976261"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_calculators" SET "calculable_type" = $1, "calculable_id" = $2, "updated_at" = $3 WHERE "spree_calculators"."id" = $4[0m  [["calculable_type", "Spree::ShippingMethod"], ["calculable_id", 1], ["updated_at", "2017-07-26 11:01:55.978501"], ["id", 1]]
  [1m[35mSQL (2.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_method_categories" ("shipping_method_id", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["shipping_method_id", 1], ["shipping_category_id", 1], ["created_at", "2017-07-26 11:01:55.981940"], ["updated_at", "2017-07-26 11:01:55.981940"]]
  [1m[35mSQL (2.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_method_zones" ("shipping_method_id", "zone_id") VALUES ($1, $2) RETURNING "id"[0m  [["shipping_method_id", 1], ["zone_id", 2]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::ShippingMethod Load (0.5ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL AND "spree_shipping_methods"."name" = $1 ORDER BY "spree_shipping_methods"."id" ASC LIMIT $2[0m  [["name", "UPS Two Day (USD)"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_calculators" ("type", "created_at", "updated_at", "preferences") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Spree::Calculator::Shipping::FlatRate"], ["created_at", "2017-07-26 11:01:55.995273"], ["updated_at", "2017-07-26 11:01:55.995273"], ["preferences", "---\n:currency: USD\n:amount: 0\n"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) AND ("spree_shipping_categories"."id" != $2) LIMIT $3[0m  [["name", "Default"], ["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Zone Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_zones" WHERE LOWER("spree_zones"."name") = LOWER($1) AND ("spree_zones"."id" != $2) LIMIT $3[0m  [["name", "North America"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_methods" ("name", "display_on", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "UPS Two Day (USD)"], ["display_on", "both"], ["created_at", "2017-07-26 11:01:56.007518"], ["updated_at", "2017-07-26 11:01:56.007518"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_calculators" SET "calculable_type" = $1, "calculable_id" = $2, "updated_at" = $3 WHERE "spree_calculators"."id" = $4[0m  [["calculable_type", "Spree::ShippingMethod"], ["calculable_id", 2], ["updated_at", "2017-07-26 11:01:56.009292"], ["id", 2]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_shipping_method_categories" ("shipping_method_id", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["shipping_method_id", 2], ["shipping_category_id", 1], ["created_at", "2017-07-26 11:01:56.011783"], ["updated_at", "2017-07-26 11:01:56.011783"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_method_zones" ("shipping_method_id", "zone_id") VALUES ($1, $2) RETURNING "id"[0m  [["shipping_method_id", 2], ["zone_id", 2]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::ShippingMethod Load (0.6ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL AND "spree_shipping_methods"."name" = $1 ORDER BY "spree_shipping_methods"."id" ASC LIMIT $2[0m  [["name", "UPS One Day (USD)"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_calculators" ("type", "created_at", "updated_at", "preferences") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Spree::Calculator::Shipping::FlatRate"], ["created_at", "2017-07-26 11:01:56.021665"], ["updated_at", "2017-07-26 11:01:56.021665"], ["preferences", "---\n:currency: USD\n:amount: 0\n"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) AND ("spree_shipping_categories"."id" != $2) LIMIT $3[0m  [["name", "Default"], ["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Zone Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_zones" WHERE LOWER("spree_zones"."name") = LOWER($1) AND ("spree_zones"."id" != $2) LIMIT $3[0m  [["name", "North America"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_methods" ("name", "display_on", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "UPS One Day (USD)"], ["display_on", "both"], ["created_at", "2017-07-26 11:01:56.032715"], ["updated_at", "2017-07-26 11:01:56.032715"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_calculators" SET "calculable_type" = $1, "calculable_id" = $2, "updated_at" = $3 WHERE "spree_calculators"."id" = $4[0m  [["calculable_type", "Spree::ShippingMethod"], ["calculable_id", 3], ["updated_at", "2017-07-26 11:01:56.034269"], ["id", 3]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_method_categories" ("shipping_method_id", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["shipping_method_id", 3], ["shipping_category_id", 1], ["created_at", "2017-07-26 11:01:56.036624"], ["updated_at", "2017-07-26 11:01:56.036624"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_method_zones" ("shipping_method_id", "zone_id") VALUES ($1, $2) RETURNING "id"[0m  [["shipping_method_id", 3], ["zone_id", 2]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::ShippingMethod Load (0.6ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL AND "spree_shipping_methods"."name" = $1 ORDER BY "spree_shipping_methods"."id" ASC LIMIT $2[0m  [["name", "UPS Ground (EU)"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_calculators" ("type", "created_at", "updated_at", "preferences") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Spree::Calculator::Shipping::FlatRate"], ["created_at", "2017-07-26 11:01:56.046482"], ["updated_at", "2017-07-26 11:01:56.046482"], ["preferences", "---\n:currency: USD\n:amount: 0\n"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) AND ("spree_shipping_categories"."id" != $2) LIMIT $3[0m  [["name", "Default"], ["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Zone Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_zones" WHERE LOWER("spree_zones"."name") = LOWER($1) AND ("spree_zones"."id" != $2) LIMIT $3[0m  [["name", "EU_VAT"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_methods" ("name", "display_on", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "UPS Ground (EU)"], ["display_on", "both"], ["created_at", "2017-07-26 11:01:56.057914"], ["updated_at", "2017-07-26 11:01:56.057914"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_calculators" SET "calculable_type" = $1, "calculable_id" = $2, "updated_at" = $3 WHERE "spree_calculators"."id" = $4[0m  [["calculable_type", "Spree::ShippingMethod"], ["calculable_id", 4], ["updated_at", "2017-07-26 11:01:56.059614"], ["id", 4]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_method_categories" ("shipping_method_id", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["shipping_method_id", 4], ["shipping_category_id", 1], ["created_at", "2017-07-26 11:01:56.061790"], ["updated_at", "2017-07-26 11:01:56.061790"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_method_zones" ("shipping_method_id", "zone_id") VALUES ($1, $2) RETURNING "id"[0m  [["shipping_method_id", 4], ["zone_id", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::ShippingMethod Load (0.5ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL AND "spree_shipping_methods"."name" = $1 ORDER BY "spree_shipping_methods"."id" ASC LIMIT $2[0m  [["name", "UPS Ground (EUR)"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_calculators" ("type", "created_at", "updated_at", "preferences") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["type", "Spree::Calculator::Shipping::FlatRate"], ["created_at", "2017-07-26 11:01:56.070691"], ["updated_at", "2017-07-26 11:01:56.070691"], ["preferences", "---\n:currency: USD\n:amount: 0\n"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" WHERE LOWER("spree_shipping_categories"."name") = LOWER($1) AND ("spree_shipping_categories"."id" != $2) LIMIT $3[0m  [["name", "Default"], ["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Zone Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_zones" WHERE LOWER("spree_zones"."name") = LOWER($1) AND ("spree_zones"."id" != $2) LIMIT $3[0m  [["name", "EU_VAT"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_methods" ("name", "display_on", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "UPS Ground (EUR)"], ["display_on", "both"], ["created_at", "2017-07-26 11:01:56.082489"], ["updated_at", "2017-07-26 11:01:56.082489"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_calculators" SET "calculable_type" = $1, "calculable_id" = $2, "updated_at" = $3 WHERE "spree_calculators"."id" = $4[0m  [["calculable_type", "Spree::ShippingMethod"], ["calculable_id", 5], ["updated_at", "2017-07-26 11:01:56.084106"], ["id", 5]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_method_categories" ("shipping_method_id", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["shipping_method_id", 5], ["shipping_category_id", 1], ["created_at", "2017-07-26 11:01:56.086501"], ["updated_at", "2017-07-26 11:01:56.086501"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_method_zones" ("shipping_method_id", "zone_id") VALUES ($1, $2) RETURNING "id"[0m  [["shipping_method_id", 5], ["zone_id", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::ShippingMethod Load (0.5ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL AND "spree_shipping_methods"."name" = $1 LIMIT $2[0m  [["name", "UPS Ground (USD)"], ["LIMIT", 1]]
  [1m[36mSpree::Calculator Load (0.5ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_calculators" SET "preferences" = $1, "updated_at" = $2 WHERE "spree_calculators"."id" = $3[0m  [["preferences", "---\n:amount: 5\n:currency: USD\n"], ["updated_at", "2017-07-26 11:01:56.100305"], ["id", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" INNER JOIN "spree_shipping_method_categories" ON "spree_shipping_categories"."id" = "spree_shipping_method_categories"."shipping_category_id" WHERE "spree_shipping_method_categories"."shipping_method_id" = $1 LIMIT $2[0m  [["shipping_method_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::ShippingMethod Load (0.5ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL AND "spree_shipping_methods"."name" = $1 LIMIT $2[0m  [["name", "UPS Ground (EU)"], ["LIMIT", 1]]
  [1m[36mSpree::Calculator Load (0.5ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 4], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_calculators" SET "preferences" = $1, "updated_at" = $2 WHERE "spree_calculators"."id" = $3[0m  [["preferences", "---\n:amount: 5\n:currency: USD\n"], ["updated_at", "2017-07-26 11:01:56.115745"], ["id", 4]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" INNER JOIN "spree_shipping_method_categories" ON "spree_shipping_categories"."id" = "spree_shipping_method_categories"."shipping_category_id" WHERE "spree_shipping_method_categories"."shipping_method_id" = $1 LIMIT $2[0m  [["shipping_method_id", 4], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::ShippingMethod Load (0.5ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL AND "spree_shipping_methods"."name" = $1 LIMIT $2[0m  [["name", "UPS One Day (USD)"], ["LIMIT", 1]]
  [1m[36mSpree::Calculator Load (0.6ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 3], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_calculators" SET "preferences" = $1, "updated_at" = $2 WHERE "spree_calculators"."id" = $3[0m  [["preferences", "---\n:amount: 15\n:currency: USD\n"], ["updated_at", "2017-07-26 11:01:56.132259"], ["id", 3]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" INNER JOIN "spree_shipping_method_categories" ON "spree_shipping_categories"."id" = "spree_shipping_method_categories"."shipping_category_id" WHERE "spree_shipping_method_categories"."shipping_method_id" = $1 LIMIT $2[0m  [["shipping_method_id", 3], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::ShippingMethod Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL AND "spree_shipping_methods"."name" = $1 LIMIT $2[0m  [["name", "UPS Two Day (USD)"], ["LIMIT", 1]]
  [1m[36mSpree::Calculator Load (0.5ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 2], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_calculators" SET "preferences" = $1, "updated_at" = $2 WHERE "spree_calculators"."id" = $3[0m  [["preferences", "---\n:amount: 10\n:currency: USD\n"], ["updated_at", "2017-07-26 11:01:56.148658"], ["id", 2]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" INNER JOIN "spree_shipping_method_categories" ON "spree_shipping_categories"."id" = "spree_shipping_method_categories"."shipping_category_id" WHERE "spree_shipping_method_categories"."shipping_method_id" = $1 LIMIT $2[0m  [["shipping_method_id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::ShippingMethod Load (0.5ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL AND "spree_shipping_methods"."name" = $1 LIMIT $2[0m  [["name", "UPS Ground (EUR)"], ["LIMIT", 1]]
  [1m[36mSpree::Calculator Load (0.5ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 5], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_calculators" SET "preferences" = $1, "updated_at" = $2 WHERE "spree_calculators"."id" = $3[0m  [["preferences", "---\n:amount: 8\n:currency: EUR\n"], ["updated_at", "2017-07-26 11:01:56.163800"], ["id", 5]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingCategory Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipping_categories" INNER JOIN "spree_shipping_method_categories" ON "spree_shipping_categories"."id" = "spree_shipping_method_categories"."shipping_category_id" WHERE "spree_shipping_method_categories"."shipping_method_id" = $1 LIMIT $2[0m  [["shipping_method_id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::TaxCategory Load (15.4ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."name" = $1 ORDER BY "spree_tax_categories"."id" ASC LIMIT $2[0m  [["name", "Clothing"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::TaxCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_tax_categories" WHERE LOWER("spree_tax_categories"."name") = LOWER($1) AND "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."deleted_at" IS NULL LIMIT $2[0m  [["name", "Clothing"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_tax_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Clothing"], ["created_at", "2017-07-26 11:01:56.214062"], ["updated_at", "2017-07-26 11:01:56.214062"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::TaxCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."name" = $1 ORDER BY "spree_tax_categories"."id" ASC LIMIT $2[0m  [["name", "Food"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::TaxCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_tax_categories" WHERE LOWER("spree_tax_categories"."name") = LOWER($1) AND "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."deleted_at" IS NULL LIMIT $2[0m  [["name", "Food"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_tax_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Food"], ["created_at", "2017-07-26 11:01:56.220936"], ["updated_at", "2017-07-26 11:01:56.220936"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Zone Load (0.7ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."name" = $1 LIMIT $2[0m  [["name", "North America"], ["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (0.5ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."name" = $1 LIMIT $2[0m  [["name", "Clothing"], ["LIMIT", 1]]
  [1m[36mSpree::TaxRate Load (10.9ms)[0m  [1m[34mSELECT  "spree_tax_rates".* FROM "spree_tax_rates" WHERE "spree_tax_rates"."deleted_at" IS NULL AND "spree_tax_rates"."name" = $1 AND "spree_tax_rates"."zone_id" = 2 AND "spree_tax_rates"."amount" = $2 AND "spree_tax_rates"."tax_category_id" = 1 ORDER BY "spree_tax_rates"."id" ASC LIMIT $3[0m  [["name", "North America"], ["amount", 0.05], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_calculators" ("type", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["type", "Spree::Calculator::DefaultTax"], ["created_at", "2017-07-26 11:01:56.276246"], ["updated_at", "2017-07-26 11:01:56.276246"]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::TaxCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_tax_rates" ("amount", "zone_id", "tax_category_id", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["amount", "0.05"], ["zone_id", 2], ["tax_category_id", 1], ["created_at", "2017-07-26 11:01:56.286124"], ["updated_at", "2017-07-26 11:01:56.286124"], ["name", "North America"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_calculators" SET "calculable_type" = $1, "calculable_id" = $2, "updated_at" = $3 WHERE "spree_calculators"."id" = $4[0m  [["calculable_type", "Spree::TaxRate"], ["calculable_id", 1], ["updated_at", "2017-07-26 11:01:56.288217"], ["id", 6]]
  [1m[35m (5.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::TaxCategory Load (0.6ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."name" = $1 LIMIT $2[0m  [["name", "Clothing"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.5ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."name" = $1 LIMIT $2[0m  [["name", "Default"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_preferences" ("value", "key", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["value", "--- USD\n...\n"], ["key", "spree/app_configuration/currency"], ["created_at", "2017-07-26 11:01:56.316112"], ["updated_at", "2017-07-26 11:01:56.316112"]]
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.9ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 AND "spree_products"."tax_category_id" = 1 ORDER BY "spree_products"."id" ASC LIMIT $2[0m  [["name", "Ruby on Rails Tote"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = 'ruby-on-rails-tote' LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Product Exists (18.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'ruby-on-rails-tote') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "ruby-on-rails-tote"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "tax_category_id", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Ruby on Rails Tote"], ["description", "Omnis enim quis quibusdam est sapiente mollitia corrupti officia. Dolores inventore fugit voluptatem aut et. Architecto enim cupiditate beatae reiciendis rerum quibusdam. Sit dolor corrupti vel dolorem omnis."], ["available_on", "2017-07-26 11:01:56.518441"], ["slug", "ruby-on-rails-tote"], ["tax_category_id", 1], ["shipping_category_id", 1], ["created_at", "2017-07-26 11:01:56.553939"], ["updated_at", "2017-07-26 11:01:56.553939"]]
  [1m[36mSpree::Variant Load (1.2ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 1], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2017-07-26 11:01:56.557044"], ["created_at", "2017-07-26 11:01:56.557044"]]
  [1m[35mSQL (3.0ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 1], ["amount", "15.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (21.9ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (3.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 1], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 1], ["variant_id", 1], ["created_at", "2017-07-26 11:01:56.682466"], ["updated_at", "2017-07-26 11:01:56.682466"], ["backorderable", "t"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:01:56.685634' WHERE "spree_variants"."id" = $1[0m  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tagging Load (4.6ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 1], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 1], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 1], ["sluggable_type", "Spree::Product"], ["slug", "ruby-on-rails-tote"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "ruby-on-rails-tote"], ["sluggable_id", 1], ["sluggable_type", "Spree::Product"], ["created_at", "2017-07-26 11:01:56.721402"]]
  [1m[36mSpree::Taxon Load (10.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:56.865099' WHERE 1=0[0m
  [1m[35mSQL (10.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:56.876474' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:56.574983' WHERE "spree_products"."id" = $1[0m  [["id", 1]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:56.898886' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:56.900403' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- EUR\n...\n"], ["updated_at", "2017-07-26 11:01:56.907727"], ["id", 2]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 1], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.5ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 1], ["currency", "EUR"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "ruby-on-rails-tote"], ["id", 1], ["LIMIT", 1]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 1], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 1], ["amount", "14.0"], ["currency", "EUR"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:56.948601' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:56.949969' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:56.945348' WHERE "spree_products"."id" = $1[0m  [["id", 1]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:56.955264' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:56.956720' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- USD\n...\n"], ["updated_at", "2017-07-26 11:01:56.963815"], ["id", 2]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 AND "spree_products"."tax_category_id" = 1 ORDER BY "spree_products"."id" ASC LIMIT $2[0m  [["name", "Ruby on Rails Bag"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = 'ruby-on-rails-bag' LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'ruby-on-rails-bag') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "ruby-on-rails-bag"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "tax_category_id", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Ruby on Rails Bag"], ["description", "Laborum et doloremque occaecati rerum cumque. Est qui libero et minima animi vel ut praesentium. Quod sit nihil occaecati quo et. Et et aliquam rerum dolorem sunt. Modi veniam sapiente blanditiis natus sed velit porro."], ["available_on", "2017-07-26 11:01:56.991741"], ["slug", "ruby-on-rails-bag"], ["tax_category_id", 1], ["shipping_category_id", 1], ["created_at", "2017-07-26 11:01:57.000916"], ["updated_at", "2017-07-26 11:01:57.000916"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 2], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2017-07-26 11:01:57.003690"], ["created_at", "2017-07-26 11:01:57.003690"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 2], ["amount", "22.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.5ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 2], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 1], ["variant_id", 2], ["created_at", "2017-07-26 11:01:57.017967"], ["updated_at", "2017-07-26 11:01:57.017967"], ["backorderable", "t"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:01:57.020344' WHERE "spree_variants"."id" = $1[0m  [["id", 2]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 2], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 2], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 2], ["sluggable_type", "Spree::Product"], ["slug", "ruby-on-rails-bag"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "ruby-on-rails-bag"], ["sluggable_id", 2], ["sluggable_type", "Spree::Product"], ["created_at", "2017-07-26 11:01:57.029634"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 2]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.033469' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.034754' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:57.013046' WHERE "spree_products"."id" = $1[0m  [["id", 2]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 2]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.039692' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.040900' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- EUR\n...\n"], ["updated_at", "2017-07-26 11:01:57.047420"], ["id", 2]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 2], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.5ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 2], ["currency", "EUR"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingCategory Load (0.5ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "ruby-on-rails-bag"], ["id", 2], ["LIMIT", 1]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 2], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 2]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 2], ["amount", "19.0"], ["currency", "EUR"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 2]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.079184' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.080462' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:57.076576' WHERE "spree_products"."id" = $1[0m  [["id", 2]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 2]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.085354' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.086556' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- USD\n...\n"], ["updated_at", "2017-07-26 11:01:57.093190"], ["id", 2]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 AND "spree_products"."tax_category_id" = 1 ORDER BY "spree_products"."id" ASC LIMIT $2[0m  [["name", "Ruby on Rails Baseball Jersey"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = 'ruby-on-rails-baseball-jersey' LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'ruby-on-rails-baseball-jersey') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "ruby-on-rails-baseball-jersey"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "tax_category_id", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Ruby on Rails Baseball Jersey"], ["description", "Neque modi necessitatibus ipsam alias. Vel alias voluptas inventore occaecati. Vero accusamus totam et optio voluptas. Minus vel ex qui non et unde."], ["available_on", "2017-07-26 11:01:57.103718"], ["slug", "ruby-on-rails-baseball-jersey"], ["tax_category_id", 1], ["shipping_category_id", 1], ["created_at", "2017-07-26 11:01:57.112295"], ["updated_at", "2017-07-26 11:01:57.112295"]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 3], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2017-07-26 11:01:57.114697"], ["created_at", "2017-07-26 11:01:57.114697"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 3], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.5ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 3], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 1], ["variant_id", 3], ["created_at", "2017-07-26 11:01:57.130539"], ["updated_at", "2017-07-26 11:01:57.130539"], ["backorderable", "t"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:01:57.133176' WHERE "spree_variants"."id" = $1[0m  [["id", 3]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 3], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.8ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 3], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 3], ["sluggable_type", "Spree::Product"], ["slug", "ruby-on-rails-baseball-jersey"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "ruby-on-rails-baseball-jersey"], ["sluggable_id", 3], ["sluggable_type", "Spree::Product"], ["created_at", "2017-07-26 11:01:57.143800"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.147436' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.148658' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:57.124335' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.153548' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.154792' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- EUR\n...\n"], ["updated_at", "2017-07-26 11:01:57.161956"], ["id", 2]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 3], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.5ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 3], ["currency", "EUR"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingCategory Load (0.5ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "ruby-on-rails-baseball-jersey"], ["id", 3], ["LIMIT", 1]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 3], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 3]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 3], ["amount", "16.0"], ["currency", "EUR"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.193651' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.195151' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:57.191042' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.200056' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.201268' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- USD\n...\n"], ["updated_at", "2017-07-26 11:01:57.207777"], ["id", 2]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 AND "spree_products"."tax_category_id" = 1 ORDER BY "spree_products"."id" ASC LIMIT $2[0m  [["name", "Ruby on Rails Jr. Spaghetti"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = 'ruby-on-rails-jr-spaghetti' LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'ruby-on-rails-jr-spaghetti') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "ruby-on-rails-jr-spaghetti"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "tax_category_id", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Ruby on Rails Jr. Spaghetti"], ["description", "Dolorem asperiores iste omnis et nesciunt fugit et ipsum. Voluptatibus laborum neque aut architecto. Recusandae doloribus qui cupiditate ducimus fuga corporis. Nobis laboriosam aut autem repellendus magnam. Eum laboriosam quidem facere dolore dolor quia."], ["available_on", "2017-07-26 11:01:57.218157"], ["slug", "ruby-on-rails-jr-spaghetti"], ["tax_category_id", 1], ["shipping_category_id", 1], ["created_at", "2017-07-26 11:01:57.227094"], ["updated_at", "2017-07-26 11:01:57.227094"]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 4], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2017-07-26 11:01:57.229421"], ["created_at", "2017-07-26 11:01:57.229421"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 4], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.5ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 4], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 1], ["variant_id", 4], ["created_at", "2017-07-26 11:01:57.243813"], ["updated_at", "2017-07-26 11:01:57.243813"], ["backorderable", "t"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:01:57.246162' WHERE "spree_variants"."id" = $1[0m  [["id", 4]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 4], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.9ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 4], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 4], ["sluggable_type", "Spree::Product"], ["slug", "ruby-on-rails-jr-spaghetti"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "ruby-on-rails-jr-spaghetti"], ["sluggable_id", 4], ["sluggable_type", "Spree::Product"], ["created_at", "2017-07-26 11:01:57.256315"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 4]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.259888' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.261141' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:57.238239' WHERE "spree_products"."id" = $1[0m  [["id", 4]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 4]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.266123' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.267444' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- EUR\n...\n"], ["updated_at", "2017-07-26 11:01:57.274229"], ["id", 2]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 4], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.4ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 4], ["currency", "EUR"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "ruby-on-rails-jr-spaghetti"], ["id", 4], ["LIMIT", 1]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 4], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 4]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 4], ["amount", "16.0"], ["currency", "EUR"]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 4]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.304880' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.306199' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:57.302666' WHERE "spree_products"."id" = $1[0m  [["id", 4]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 4]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.311056' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.312384' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- USD\n...\n"], ["updated_at", "2017-07-26 11:01:57.318840"], ["id", 2]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 AND "spree_products"."tax_category_id" = 1 ORDER BY "spree_products"."id" ASC LIMIT $2[0m  [["name", "Ruby on Rails Ringer T-Shirt"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = 'ruby-on-rails-ringer-t-shirt' LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'ruby-on-rails-ringer-t-shirt') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "ruby-on-rails-ringer-t-shirt"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "tax_category_id", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Ruby on Rails Ringer T-Shirt"], ["description", "Doloribus eum et eveniet et sint ut sit. Modi sed corporis quasi molestiae sit. Rerum excepturi at libero eligendi. Tenetur eos quis fugit dolor. Placeat magni quis autem adipisci."], ["available_on", "2017-07-26 11:01:57.329775"], ["slug", "ruby-on-rails-ringer-t-shirt"], ["tax_category_id", 1], ["shipping_category_id", 1], ["created_at", "2017-07-26 11:01:57.338943"], ["updated_at", "2017-07-26 11:01:57.338943"]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 5], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2017-07-26 11:01:57.341442"], ["created_at", "2017-07-26 11:01:57.341442"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 5], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 5], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 1], ["variant_id", 5], ["created_at", "2017-07-26 11:01:57.355255"], ["updated_at", "2017-07-26 11:01:57.355255"], ["backorderable", "t"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:01:57.357768' WHERE "spree_variants"."id" = $1[0m  [["id", 5]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 5], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 5], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 5], ["sluggable_type", "Spree::Product"], ["slug", "ruby-on-rails-ringer-t-shirt"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "ruby-on-rails-ringer-t-shirt"], ["sluggable_id", 5], ["sluggable_type", "Spree::Product"], ["created_at", "2017-07-26 11:01:57.367596"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 5]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.371106' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.372430' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:57.350087' WHERE "spree_products"."id" = $1[0m  [["id", 5]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 5]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.377309' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.378641' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- EUR\n...\n"], ["updated_at", "2017-07-26 11:01:57.385215"], ["id", 2]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 5], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.5ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 5], ["currency", "EUR"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingCategory Load (0.5ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "ruby-on-rails-ringer-t-shirt"], ["id", 5], ["LIMIT", 1]]
  [1m[36mFriendlyId::Slug Load (0.8ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 5], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 5]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 5], ["amount", "16.0"], ["currency", "EUR"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 5]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.417039' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.418353' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:57.414631' WHERE "spree_products"."id" = $1[0m  [["id", 5]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 5]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.423282' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.424567' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- USD\n...\n"], ["updated_at", "2017-07-26 11:01:57.431329"], ["id", 2]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 AND "spree_products"."tax_category_id" = 1 ORDER BY "spree_products"."id" ASC LIMIT $2[0m  [["name", "Ruby Baseball Jersey"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = 'ruby-baseball-jersey' LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'ruby-baseball-jersey') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "ruby-baseball-jersey"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "tax_category_id", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Ruby Baseball Jersey"], ["description", "Quis temporibus sunt dolorem maiores nobis voluptatem minima blanditiis. Voluptate quidem ea nihil dolorum accusantium culpa consectetur. Doloribus quam quas voluptatem enim sequi odio dolorem recusandae."], ["available_on", "2017-07-26 11:01:57.442722"], ["slug", "ruby-baseball-jersey"], ["tax_category_id", 1], ["shipping_category_id", 1], ["created_at", "2017-07-26 11:01:57.456577"], ["updated_at", "2017-07-26 11:01:57.456577"]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 6], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2017-07-26 11:01:57.458860"], ["created_at", "2017-07-26 11:01:57.458860"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 6], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.5ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 6], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 1], ["variant_id", 6], ["created_at", "2017-07-26 11:01:57.472100"], ["updated_at", "2017-07-26 11:01:57.472100"], ["backorderable", "t"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:01:57.474613' WHERE "spree_variants"."id" = $1[0m  [["id", 6]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.5ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 6], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 6], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 6], ["sluggable_type", "Spree::Product"], ["slug", "ruby-baseball-jersey"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "ruby-baseball-jersey"], ["sluggable_id", 6], ["sluggable_type", "Spree::Product"], ["created_at", "2017-07-26 11:01:57.483750"]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 6]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.487179' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.488445' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:57.467203' WHERE "spree_products"."id" = $1[0m  [["id", 6]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 6]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.493665' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.495249' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- EUR\n...\n"], ["updated_at", "2017-07-26 11:01:57.501815"], ["id", 2]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 6], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.5ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 6], ["currency", "EUR"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingCategory Load (0.5ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "ruby-baseball-jersey"], ["id", 6], ["LIMIT", 1]]
  [1m[36mFriendlyId::Slug Load (0.9ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 6], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 6]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 6], ["amount", "16.0"], ["currency", "EUR"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 6]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.533675' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.534887' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:57.531372' WHERE "spree_products"."id" = $1[0m  [["id", 6]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 6]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.540170' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.542010' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- USD\n...\n"], ["updated_at", "2017-07-26 11:01:57.554466"], ["id", 2]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 AND "spree_products"."tax_category_id" = 1 ORDER BY "spree_products"."id" ASC LIMIT $2[0m  [["name", "Apache Baseball Jersey"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = 'apache-baseball-jersey' LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'apache-baseball-jersey') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "apache-baseball-jersey"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "tax_category_id", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Apache Baseball Jersey"], ["description", "Qui tempora mollitia earum quia dolor ullam consequatur ipsam. Distinctio accusamus cumque dolorem expedita atque quam. Quisquam molestiae accusamus necessitatibus voluptatem voluptatem et ratione. Tempore nihil officiis sint qui quia aut. Doloremque et ipsum esse aspernatur tenetur."], ["available_on", "2017-07-26 11:01:57.574284"], ["slug", "apache-baseball-jersey"], ["tax_category_id", 1], ["shipping_category_id", 1], ["created_at", "2017-07-26 11:01:57.582810"], ["updated_at", "2017-07-26 11:01:57.582810"]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 7], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2017-07-26 11:01:57.585061"], ["created_at", "2017-07-26 11:01:57.585061"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 7], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 7], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 1], ["variant_id", 7], ["created_at", "2017-07-26 11:01:57.599566"], ["updated_at", "2017-07-26 11:01:57.599566"], ["backorderable", "t"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:01:57.601884' WHERE "spree_variants"."id" = $1[0m  [["id", 7]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 7], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 7], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 7], ["sluggable_type", "Spree::Product"], ["slug", "apache-baseball-jersey"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "apache-baseball-jersey"], ["sluggable_id", 7], ["sluggable_type", "Spree::Product"], ["created_at", "2017-07-26 11:01:57.610802"]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 7]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.614385' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.615625' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:57.594311' WHERE "spree_products"."id" = $1[0m  [["id", 7]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 7]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.620609' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.621813' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- EUR\n...\n"], ["updated_at", "2017-07-26 11:01:57.629322"], ["id", 2]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 7], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 7], ["currency", "EUR"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "apache-baseball-jersey"], ["id", 7], ["LIMIT", 1]]
  [1m[36mFriendlyId::Slug Load (0.9ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 7], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 7]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 7], ["amount", "16.0"], ["currency", "EUR"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 7]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.666548' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.667843' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:57.664123' WHERE "spree_products"."id" = $1[0m  [["id", 7]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 7]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.672661' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.673878' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- USD\n...\n"], ["updated_at", "2017-07-26 11:01:57.680444"], ["id", 2]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 AND "spree_products"."tax_category_id" = 1 ORDER BY "spree_products"."id" ASC LIMIT $2[0m  [["name", "Spree Baseball Jersey"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = 'spree-baseball-jersey' LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'spree-baseball-jersey') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "spree-baseball-jersey"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "tax_category_id", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Spree Baseball Jersey"], ["description", "Sed blanditiis id deserunt nostrum inventore quidem unde excepturi. Error qui vitae illo optio voluptatem. Harum quod quasi molestiae velit delectus ipsam."], ["available_on", "2017-07-26 11:01:57.691316"], ["slug", "spree-baseball-jersey"], ["tax_category_id", 1], ["shipping_category_id", 1], ["created_at", "2017-07-26 11:01:57.700143"], ["updated_at", "2017-07-26 11:01:57.700143"]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 8], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2017-07-26 11:01:57.702439"], ["created_at", "2017-07-26 11:01:57.702439"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 8], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 8], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 1], ["variant_id", 8], ["created_at", "2017-07-26 11:01:57.715921"], ["updated_at", "2017-07-26 11:01:57.715921"], ["backorderable", "t"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:01:57.718312' WHERE "spree_variants"."id" = $1[0m  [["id", 8]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 8], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 8], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 8], ["sluggable_type", "Spree::Product"], ["slug", "spree-baseball-jersey"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "spree-baseball-jersey"], ["sluggable_id", 8], ["sluggable_type", "Spree::Product"], ["created_at", "2017-07-26 11:01:57.727731"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 8]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.731433' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.732656' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:57.711391' WHERE "spree_products"."id" = $1[0m  [["id", 8]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 8]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.737551' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.738887' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- EUR\n...\n"], ["updated_at", "2017-07-26 11:01:57.745870"], ["id", 2]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 8], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.4ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 8], ["currency", "EUR"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "spree-baseball-jersey"], ["id", 8], ["LIMIT", 1]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 8], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 8]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 8], ["amount", "16.0"], ["currency", "EUR"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 8]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.777697' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.778942' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:57.775178' WHERE "spree_products"."id" = $1[0m  [["id", 8]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 8]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.783681' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.784871' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- USD\n...\n"], ["updated_at", "2017-07-26 11:01:57.791381"], ["id", 2]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 AND "spree_products"."tax_category_id" = 1 ORDER BY "spree_products"."id" ASC LIMIT $2[0m  [["name", "Spree Jr. Spaghetti"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = 'spree-jr-spaghetti' LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'spree-jr-spaghetti') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "spree-jr-spaghetti"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "tax_category_id", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Spree Jr. Spaghetti"], ["description", "Est harum minus sint ex. Qui molestiae aperiam aut id deserunt rerum mollitia repellendus. Repudiandae est atque aspernatur ad blanditiis aut officiis."], ["available_on", "2017-07-26 11:01:57.802637"], ["slug", "spree-jr-spaghetti"], ["tax_category_id", 1], ["shipping_category_id", 1], ["created_at", "2017-07-26 11:01:57.811484"], ["updated_at", "2017-07-26 11:01:57.811484"]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 9], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2017-07-26 11:01:57.813814"], ["created_at", "2017-07-26 11:01:57.813814"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 9], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 9], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 1], ["variant_id", 9], ["created_at", "2017-07-26 11:01:57.828066"], ["updated_at", "2017-07-26 11:01:57.828066"], ["backorderable", "t"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:01:57.830505' WHERE "spree_variants"."id" = $1[0m  [["id", 9]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 9], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 9], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 9], ["sluggable_type", "Spree::Product"], ["slug", "spree-jr-spaghetti"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "spree-jr-spaghetti"], ["sluggable_id", 9], ["sluggable_type", "Spree::Product"], ["created_at", "2017-07-26 11:01:57.839530"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 9]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.843251' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.844521' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:57.822428' WHERE "spree_products"."id" = $1[0m  [["id", 9]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 9]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.849488' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.850766' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- EUR\n...\n"], ["updated_at", "2017-07-26 11:01:57.857193"], ["id", 2]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 9], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 9], ["currency", "EUR"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "spree-jr-spaghetti"], ["id", 9], ["LIMIT", 1]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 9], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 9]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 9], ["amount", "16.0"], ["currency", "EUR"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 9]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.887427' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.888705' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:57.885151' WHERE "spree_products"."id" = $1[0m  [["id", 9]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 9]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.894241' WHERE 1=0[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.895479' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- USD\n...\n"], ["updated_at", "2017-07-26 11:01:57.902517"], ["id", 2]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 AND "spree_products"."tax_category_id" = 1 ORDER BY "spree_products"."id" ASC LIMIT $2[0m  [["name", "Spree Ringer T-Shirt"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = 'spree-ringer-t-shirt' LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'spree-ringer-t-shirt') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "spree-ringer-t-shirt"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "tax_category_id", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Spree Ringer T-Shirt"], ["description", "Dolor sit et consequatur omnis enim quidem quia. Illo soluta quas ea omnis quos similique. Aut dolor similique vel delectus. Recusandae illum ab omnis repellendus sed illo animi possimus. Minus cum occaecati aut quia reprehenderit."], ["available_on", "2017-07-26 11:01:57.913306"], ["slug", "spree-ringer-t-shirt"], ["tax_category_id", 1], ["shipping_category_id", 1], ["created_at", "2017-07-26 11:01:57.927329"], ["updated_at", "2017-07-26 11:01:57.927329"]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 10], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2017-07-26 11:01:57.929650"], ["created_at", "2017-07-26 11:01:57.929650"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 10], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 10], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 1], ["variant_id", 10], ["created_at", "2017-07-26 11:01:57.943979"], ["updated_at", "2017-07-26 11:01:57.943979"], ["backorderable", "t"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:01:57.946404' WHERE "spree_variants"."id" = $1[0m  [["id", 10]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.3ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 10], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 10], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 10], ["sluggable_type", "Spree::Product"], ["slug", "spree-ringer-t-shirt"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "spree-ringer-t-shirt"], ["sluggable_id", 10], ["sluggable_type", "Spree::Product"], ["created_at", "2017-07-26 11:01:57.955657"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 10]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.959056' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.960281' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:57.938176' WHERE "spree_products"."id" = $1[0m  [["id", 10]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 10]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:57.965269' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:57.966469' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- EUR\n...\n"], ["updated_at", "2017-07-26 11:01:57.973068"], ["id", 2]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 10], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 10], ["currency", "EUR"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "spree-ringer-t-shirt"], ["id", 10], ["LIMIT", 1]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 10], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 10]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 10], ["amount", "16.0"], ["currency", "EUR"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 10]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.003665' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.005215' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:58.001261' WHERE "spree_products"."id" = $1[0m  [["id", 10]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 10]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.010565' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.011747' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- USD\n...\n"], ["updated_at", "2017-07-26 11:01:58.018537"], ["id", 2]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 AND "spree_products"."tax_category_id" = 1 ORDER BY "spree_products"."id" ASC LIMIT $2[0m  [["name", "Spree Tote"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = 'spree-tote' LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'spree-tote') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "spree-tote"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "tax_category_id", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Spree Tote"], ["description", "Et officia reiciendis voluptas sunt iusto enim. Magni voluptatibus omnis ut vel id cum repellat ducimus. Error aut nam ut assumenda reiciendis repellat. Aspernatur ipsam tenetur at facilis vitae voluptatem nostrum et."], ["available_on", "2017-07-26 11:01:58.030763"], ["slug", "spree-tote"], ["tax_category_id", 1], ["shipping_category_id", 1], ["created_at", "2017-07-26 11:01:58.039661"], ["updated_at", "2017-07-26 11:01:58.039661"]]
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 11], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2017-07-26 11:01:58.042018"], ["created_at", "2017-07-26 11:01:58.042018"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 11], ["amount", "15.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 11], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 1], ["variant_id", 11], ["created_at", "2017-07-26 11:01:58.055664"], ["updated_at", "2017-07-26 11:01:58.055664"], ["backorderable", "t"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:01:58.058026' WHERE "spree_variants"."id" = $1[0m  [["id", 11]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 11], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 11], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 11], ["sluggable_type", "Spree::Product"], ["slug", "spree-tote"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "spree-tote"], ["sluggable_id", 11], ["sluggable_type", "Spree::Product"], ["created_at", "2017-07-26 11:01:58.067596"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 11]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.071091' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.072356' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:58.050893' WHERE "spree_products"."id" = $1[0m  [["id", 11]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 11]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.077324' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.078678' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- EUR\n...\n"], ["updated_at", "2017-07-26 11:01:58.084997"], ["id", 2]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 11], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 11], ["currency", "EUR"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "spree-tote"], ["id", 11], ["LIMIT", 1]]
  [1m[36mFriendlyId::Slug Load (0.9ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 11], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 11]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 11], ["amount", "14.0"], ["currency", "EUR"]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 11]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.115954' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.117171' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:58.113559' WHERE "spree_products"."id" = $1[0m  [["id", 11]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 11]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.121962' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.123235' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- USD\n...\n"], ["updated_at", "2017-07-26 11:01:58.130569"], ["id", 2]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 AND "spree_products"."tax_category_id" = 1 ORDER BY "spree_products"."id" ASC LIMIT $2[0m  [["name", "Spree Bag"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = 'spree-bag' LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'spree-bag') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "spree-bag"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "tax_category_id", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Spree Bag"], ["description", "Accusantium quaerat labore cum eaque est non dolor aut. Vel eos nesciunt ut sint eligendi. Architecto nobis non dolores autem illum. Maiores quasi ab qui voluptatem sit. Voluptates nisi quasi ut consequatur possimus quaerat quas."], ["available_on", "2017-07-26 11:01:58.142785"], ["slug", "spree-bag"], ["tax_category_id", 1], ["shipping_category_id", 1], ["created_at", "2017-07-26 11:01:58.151579"], ["updated_at", "2017-07-26 11:01:58.151579"]]
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 12], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2017-07-26 11:01:58.153802"], ["created_at", "2017-07-26 11:01:58.153802"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 12], ["amount", "22.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 12], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 1], ["variant_id", 12], ["created_at", "2017-07-26 11:01:58.167203"], ["updated_at", "2017-07-26 11:01:58.167203"], ["backorderable", "t"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:01:58.169509' WHERE "spree_variants"."id" = $1[0m  [["id", 12]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 12], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 12], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 12], ["sluggable_type", "Spree::Product"], ["slug", "spree-bag"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "spree-bag"], ["sluggable_id", 12], ["sluggable_type", "Spree::Product"], ["created_at", "2017-07-26 11:01:58.179477"]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 12]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.182789' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.183998' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:58.162624' WHERE "spree_products"."id" = $1[0m  [["id", 12]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 12]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.188809' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.190081' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- EUR\n...\n"], ["updated_at", "2017-07-26 11:01:58.196974"], ["id", 2]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 12], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.4ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 12], ["currency", "EUR"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingCategory Load (0.5ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "spree-bag"], ["id", 12], ["LIMIT", 1]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 12], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 12]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 12], ["amount", "19.0"], ["currency", "EUR"]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 12]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.227757' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.229069' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:58.224788' WHERE "spree_products"."id" = $1[0m  [["id", 12]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 12]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.233760' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.235073' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- USD\n...\n"], ["updated_at", "2017-07-26 11:01:58.241852"], ["id", 2]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 AND "spree_products"."tax_category_id" IS NULL ORDER BY "spree_products"."id" ASC LIMIT $2[0m  [["name", "Ruby on Rails Mug"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = 'ruby-on-rails-mug' LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'ruby-on-rails-mug') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "ruby-on-rails-mug"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Ruby on Rails Mug"], ["description", "Aspernatur placeat voluptas et dolor consequatur hic expedita aut. Voluptas esse qui et et nam ratione iste. Reprehenderit magni nesciunt eaque ut. Vel libero a blanditiis placeat maxime voluptatum ut."], ["available_on", "2017-07-26 11:01:58.253811"], ["slug", "ruby-on-rails-mug"], ["shipping_category_id", 1], ["created_at", "2017-07-26 11:01:58.263467"], ["updated_at", "2017-07-26 11:01:58.263467"]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 13], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2017-07-26 11:01:58.266000"], ["created_at", "2017-07-26 11:01:58.266000"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 13], ["amount", "13.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 13], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 1], ["variant_id", 13], ["created_at", "2017-07-26 11:01:58.279540"], ["updated_at", "2017-07-26 11:01:58.279540"], ["backorderable", "t"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:01:58.281861' WHERE "spree_variants"."id" = $1[0m  [["id", 13]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 13], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 13], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 13], ["sluggable_type", "Spree::Product"], ["slug", "ruby-on-rails-mug"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "ruby-on-rails-mug"], ["sluggable_id", 13], ["sluggable_type", "Spree::Product"], ["created_at", "2017-07-26 11:01:58.291403"]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 13]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.295153' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.296773' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:58.274797' WHERE "spree_products"."id" = $1[0m  [["id", 13]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 13]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.301653' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.302875' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- EUR\n...\n"], ["updated_at", "2017-07-26 11:01:58.309476"], ["id", 2]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 13], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 13], ["currency", "EUR"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.2ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "ruby-on-rails-mug"], ["id", 13], ["LIMIT", 1]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 13], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 13]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 13], ["amount", "12.0"], ["currency", "EUR"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 13]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.340798' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.342229' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:58.338006' WHERE "spree_products"."id" = $1[0m  [["id", 13]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 13]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.347005' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.348227' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- USD\n...\n"], ["updated_at", "2017-07-26 11:01:58.354630"], ["id", 2]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 AND "spree_products"."tax_category_id" IS NULL ORDER BY "spree_products"."id" ASC LIMIT $2[0m  [["name", "Ruby on Rails Stein"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = 'ruby-on-rails-stein' LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'ruby-on-rails-stein') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "ruby-on-rails-stein"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Ruby on Rails Stein"], ["description", "Cum sint debitis qui nobis delectus. Voluptas sit rem aut perspiciatis qui commodi. Est sint quos eligendi explicabo."], ["available_on", "2017-07-26 11:01:58.365819"], ["slug", "ruby-on-rails-stein"], ["shipping_category_id", 1], ["created_at", "2017-07-26 11:01:58.377929"], ["updated_at", "2017-07-26 11:01:58.377929"]]
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 14], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 14], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2017-07-26 11:01:58.380382"], ["created_at", "2017-07-26 11:01:58.380382"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 14], ["amount", "16.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 14], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 1], ["variant_id", 14], ["created_at", "2017-07-26 11:01:58.393628"], ["updated_at", "2017-07-26 11:01:58.393628"], ["backorderable", "t"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:01:58.396071' WHERE "spree_variants"."id" = $1[0m  [["id", 14]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 14], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 14], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 14], ["sluggable_type", "Spree::Product"], ["slug", "ruby-on-rails-stein"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "ruby-on-rails-stein"], ["sluggable_id", 14], ["sluggable_type", "Spree::Product"], ["created_at", "2017-07-26 11:01:58.405220"]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 14]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.408629' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.409847' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:58.388965' WHERE "spree_products"."id" = $1[0m  [["id", 14]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 14]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.414720' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.415913' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- EUR\n...\n"], ["updated_at", "2017-07-26 11:01:58.422360"], ["id", 2]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 14], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 14], ["currency", "EUR"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "ruby-on-rails-stein"], ["id", 14], ["LIMIT", 1]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 14], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 14]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 14], ["amount", "14.0"], ["currency", "EUR"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 14]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.452653' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.453900' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:58.450413' WHERE "spree_products"."id" = $1[0m  [["id", 14]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 14]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.458816' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.459989' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- USD\n...\n"], ["updated_at", "2017-07-26 11:01:58.466290"], ["id", 2]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 AND "spree_products"."tax_category_id" IS NULL ORDER BY "spree_products"."id" ASC LIMIT $2[0m  [["name", "Spree Stein"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = 'spree-stein' LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'spree-stein') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "spree-stein"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Spree Stein"], ["description", "Quasi et deleniti optio et. Qui earum repudiandae voluptatem quia qui. Amet adipisci consequatur occaecati ut architecto."], ["available_on", "2017-07-26 11:01:58.477796"], ["slug", "spree-stein"], ["shipping_category_id", 1], ["created_at", "2017-07-26 11:01:58.486352"], ["updated_at", "2017-07-26 11:01:58.486352"]]
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 15], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 15], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2017-07-26 11:01:58.488663"], ["created_at", "2017-07-26 11:01:58.488663"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 15], ["amount", "16.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 15], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 1], ["variant_id", 15], ["created_at", "2017-07-26 11:01:58.502860"], ["updated_at", "2017-07-26 11:01:58.502860"], ["backorderable", "t"]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:01:58.505346' WHERE "spree_variants"."id" = $1[0m  [["id", 15]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.3ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 15], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 15], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 15], ["sluggable_type", "Spree::Product"], ["slug", "spree-stein"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "spree-stein"], ["sluggable_id", 15], ["sluggable_type", "Spree::Product"], ["created_at", "2017-07-26 11:01:58.515012"]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 15]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.518301' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.519691' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:58.498240' WHERE "spree_products"."id" = $1[0m  [["id", 15]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 15]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.524638' WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.525903' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- EUR\n...\n"], ["updated_at", "2017-07-26 11:01:58.532746"], ["id", 2]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 15], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 15], ["currency", "EUR"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "spree-stein"], ["id", 15], ["LIMIT", 1]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 15], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 15]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 15], ["amount", "14.0"], ["currency", "EUR"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 15]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.562635' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.563895' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:58.560323' WHERE "spree_products"."id" = $1[0m  [["id", 15]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 15]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.569007' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.570238' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- USD\n...\n"], ["updated_at", "2017-07-26 11:01:58.576911"], ["id", 2]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 AND "spree_products"."tax_category_id" IS NULL ORDER BY "spree_products"."id" ASC LIMIT $2[0m  [["name", "Spree Mug"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = 'spree-mug' LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'spree-mug') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "spree-mug"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Spree Mug"], ["description", "Nihil quibusdam sunt porro saepe sequi distinctio. Commodi est repudiandae sequi consequuntur temporibus aliquid reiciendis. Illo porro perspiciatis dolorem earum. Eos vitae et asperiores architecto quo sint dolore. Ullam eos saepe iusto quis aut."], ["available_on", "2017-07-26 11:01:58.587443"], ["slug", "spree-mug"], ["shipping_category_id", 1], ["created_at", "2017-07-26 11:01:58.596344"], ["updated_at", "2017-07-26 11:01:58.596344"]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 16], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("is_master", "product_id", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["is_master", "t"], ["product_id", 16], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2017-07-26 11:01:58.598665"], ["created_at", "2017-07-26 11:01:58.598665"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 16], ["amount", "13.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 16], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 1], ["variant_id", 16], ["created_at", "2017-07-26 11:01:58.611840"], ["updated_at", "2017-07-26 11:01:58.611840"], ["backorderable", "t"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:01:58.614554' WHERE "spree_variants"."id" = $1[0m  [["id", 16]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.3ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 16], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 16], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 16], ["sluggable_type", "Spree::Product"], ["slug", "spree-mug"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "spree-mug"], ["sluggable_id", 16], ["sluggable_type", "Spree::Product"], ["created_at", "2017-07-26 11:01:58.623523"]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 16]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.627100' WHERE 1=0[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.628797' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:58.607196' WHERE "spree_products"."id" = $1[0m  [["id", 16]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 16]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.634015' WHERE 1=0[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.635351' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- EUR\n...\n"], ["updated_at", "2017-07-26 11:01:58.643453"], ["id", 2]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 16], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 16], ["currency", "EUR"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "spree-mug"], ["id", 16], ["LIMIT", 1]]
  [1m[36mFriendlyId::Slug Load (0.8ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 16], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 16]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 16], ["amount", "12.0"], ["currency", "EUR"]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 16]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.673824' WHERE 1=0[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.675037' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:58.671484' WHERE "spree_products"."id" = $1[0m  [["id", 16]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 16]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.679811' WHERE 1=0[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.681017' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 ORDER BY "spree_preferences"."id" ASC LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_preferences" WHERE LOWER("spree_preferences"."key") = LOWER($1) AND ("spree_preferences"."id" != $2) LIMIT $3[0m  [["key", "spree/app_configuration/currency"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_preferences" SET "value" = $1, "updated_at" = $2 WHERE "spree_preferences"."id" = $3[0m  [["value", "--- USD\n...\n"], ["updated_at", "2017-07-26 11:01:58.687797"], ["id", 2]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Taxonomy Load (0.8ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."name" = $1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $2[0m  [["name", "Categories"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Taxonomy Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxonomies" WHERE LOWER("spree_taxonomies"."name") = LOWER($1) LIMIT $2[0m  [["name", "Categories"], ["LIMIT", 1]]
  [1m[36mSpree::Taxonomy Load (0.5ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE (1 = 1) AND ("spree_taxonomies"."position" IS NOT NULL) ORDER BY "spree_taxonomies"."position" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_taxonomies" ("name", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Categories"], ["created_at", "2017-07-26 11:01:58.808971"], ["updated_at", "2017-07-26 11:01:58.808971"], ["position", 1]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."taxonomy_id" = $1 AND "spree_taxons"."parent_id" IS NULL LIMIT $2[0m  [["taxonomy_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" = $2 LIMIT $3[0m  [["name", "Categories"], ["taxonomy_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "categories"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" desc LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" desc LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "taxonomy_id", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Categories"], ["permalink", "categories"], ["taxonomy_id", 1], ["lft", 1], ["rgt", 2], ["created_at", "2017-07-26 11:01:58.835981"], ["updated_at", "2017-07-26 11:01:58.835981"]]
  [1m[36mFriendlyId::Slug Load (0.8ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 1], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 1], ["sluggable_type", "Spree::Taxon"], ["slug", "categories"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "categories"], ["sluggable_id", 1], ["sluggable_type", "Spree::Taxon"], ["created_at", "2017-07-26 11:01:58.847785"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 1 ORDER BY "spree_taxons"."lft")[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.853255' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 1) ORDER BY "spree_taxons"."lft")[0m
  [1m[36mSpree::Taxonomy Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."name" = $1 AND "spree_taxonomies"."id" = $2 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $3[0m  [["name", "Categories"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.858536' WHERE "spree_taxonomies"."id" = $1[0m  [["id", 1]]
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."id" != $2) AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" = $3 LIMIT $4[0m  [["name", "Categories"], ["id", 1], ["taxonomy_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) AND ("spree_taxons"."id" != $2) LIMIT $3[0m  [["permalink", "categories"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = $1, "updated_at" = $2 WHERE "spree_taxons"."id" = $3[0m  [["depth", 0], ["updated_at", "2017-07-26 11:01:58.863190"], ["id", 1]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 1], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 1 ORDER BY "spree_taxons"."lft")[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.871006' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 1) ORDER BY "spree_taxons"."lft")[0m
  [1m[36mSpree::Taxonomy Load (0.5ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."name" = $1 AND "spree_taxonomies"."id" = $2 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $3[0m  [["name", "Categories"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.874606' WHERE "spree_taxonomies"."id" = $1[0m  [["id", 1]]
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."id" != $2) AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" = $3 LIMIT $4[0m  [["name", "Categories"], ["id", 1], ["taxonomy_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) AND ("spree_taxons"."id" != $2) LIMIT $3[0m  [["permalink", "categories"], ["id", 1], ["LIMIT", 1]]
  [1m[36mFriendlyId::Slug Load (0.8ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 1], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 1 ORDER BY "spree_taxons"."lft")[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.885246' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 2) AND ("spree_taxons"."id" != 1) ORDER BY "spree_taxons"."lft")[0m
  [1m[36mSpree::Taxonomy Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."name" = $1 AND "spree_taxonomies"."id" = $2 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $3[0m  [["name", "Categories"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.888666' WHERE "spree_taxonomies"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Taxonomy Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."name" = $1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $2[0m  [["name", "Brands"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Taxonomy Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxonomies" WHERE LOWER("spree_taxonomies"."name") = LOWER($1) LIMIT $2[0m  [["name", "Brands"], ["LIMIT", 1]]
  [1m[36mSpree::Taxonomy Load (0.5ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE (1 = 1) AND ("spree_taxonomies"."position" IS NOT NULL) ORDER BY "spree_taxonomies"."position" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_taxonomies" ("name", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Brands"], ["created_at", "2017-07-26 11:01:58.895404"], ["updated_at", "2017-07-26 11:01:58.895404"], ["position", 2]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."taxonomy_id" = $1 AND "spree_taxons"."parent_id" IS NULL LIMIT $2[0m  [["taxonomy_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" = $2 LIMIT $3[0m  [["name", "Brands"], ["taxonomy_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "brands"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" desc LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (2.1ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("name", "permalink", "taxonomy_id", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Brands"], ["permalink", "brands"], ["taxonomy_id", 2], ["lft", 3], ["rgt", 4], ["created_at", "2017-07-26 11:01:58.903794"], ["updated_at", "2017-07-26 11:01:58.903794"]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 2], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 2], ["sluggable_type", "Spree::Taxon"], ["slug", "brands"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "brands"], ["sluggable_id", 2], ["sluggable_type", "Spree::Taxon"], ["created_at", "2017-07-26 11:01:58.915495"]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 2 ORDER BY "spree_taxons"."lft")[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.920167' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 3) AND ("spree_taxons"."rgt" >= 4) AND ("spree_taxons"."id" != 2) ORDER BY "spree_taxons"."lft")[0m
  [1m[36mSpree::Taxonomy Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."name" = $1 AND "spree_taxonomies"."id" = $2 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $3[0m  [["name", "Brands"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.924000' WHERE "spree_taxonomies"."id" = $1[0m  [["id", 2]]
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."id" != $2) AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" = $3 LIMIT $4[0m  [["name", "Brands"], ["id", 2], ["taxonomy_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) AND ("spree_taxons"."id" != $2) LIMIT $3[0m  [["permalink", "brands"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = $1, "updated_at" = $2 WHERE "spree_taxons"."id" = $3[0m  [["depth", 0], ["updated_at", "2017-07-26 11:01:58.928366"], ["id", 2]]
  [1m[36mFriendlyId::Slug Load (0.8ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 2], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 2 ORDER BY "spree_taxons"."lft")[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.935898' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 3) AND ("spree_taxons"."rgt" >= 4) AND ("spree_taxons"."id" != 2) ORDER BY "spree_taxons"."lft")[0m
  [1m[36mSpree::Taxonomy Load (0.7ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."name" = $1 AND "spree_taxonomies"."id" = $2 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $3[0m  [["name", "Brands"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.939616' WHERE "spree_taxonomies"."id" = $1[0m  [["id", 2]]
  [1m[36mSpree::Taxon Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."id" != $2) AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" = $3 LIMIT $4[0m  [["name", "Brands"], ["id", 2], ["taxonomy_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) AND ("spree_taxons"."id" != $2) LIMIT $3[0m  [["permalink", "brands"], ["id", 2], ["LIMIT", 1]]
  [1m[36mFriendlyId::Slug Load (0.8ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 2], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 2 ORDER BY "spree_taxons"."lft")[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:58.950431' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 3) AND ("spree_taxons"."rgt" >= 4) AND ("spree_taxons"."id" != 2) ORDER BY "spree_taxons"."lft")[0m
  [1m[36mSpree::Taxonomy Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."name" = $1 AND "spree_taxonomies"."id" = $2 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $3[0m  [["name", "Brands"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:58.953801' WHERE "spree_taxonomies"."id" = $1[0m  [["id", 2]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Taxonomy Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."name" = $1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $2[0m  [["name", "Categories"], ["LIMIT", 1]]
  [1m[36mSpree::Taxonomy Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."name" = $1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $2[0m  [["name", "Brands"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Tote"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Bag"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Mug"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Stein"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Baseball Jersey"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Jr. Spaghetti"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Ringer T-Shirt"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Stein"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Mug"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Ringer T-Shirt"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Baseball Jersey"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Tote"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Bag"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Jr. Spaghetti"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Apache Baseball Jersey"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby Baseball Jersey"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" IS NULL ORDER BY "spree_taxons"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 ORDER BY "spree_taxons"."id" ASC LIMIT $2[0m  [["name", "Categories"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 ORDER BY "spree_taxons"."id" ASC LIMIT $2[0m  [["name", "Categories"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 ORDER BY "spree_taxons"."id" ASC LIMIT $2[0m  [["name", "Bags"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 1], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 1], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "ruby-on-rails-tote"], ["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 2], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.4ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 2], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "ruby-on-rails-bag"], ["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 11], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 11], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "spree-tote"], ["id", 11], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 12], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.4ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 12], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "spree-bag"], ["id", 12], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" = $2 AND "spree_taxons"."taxonomy_id" = $3 LIMIT $4[0m  [["name", "Bags"], ["parent_id", 1], ["taxonomy_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "categories/bags"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" desc LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("parent_id", "name", "permalink", "taxonomy_id", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["parent_id", 1], ["name", "Bags"], ["permalink", "categories/bags"], ["taxonomy_id", 1], ["lft", 5], ["rgt", 6], ["created_at", "2017-07-26 11:01:59.056866"], ["updated_at", "2017-07-26 11:01:59.056866"]]
  [1m[36mSpree::Classification Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 3], ["product_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.6ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 1], ["taxon_id", 3], ["position", 1]]
  [1m[36mSpree::Classification Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 3], ["product_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.6ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 2], ["taxon_id", 3], ["position", 2]]
  [1m[36mSpree::Classification Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 3], ["product_id", 11], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.6ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 11], ["taxon_id", 3], ["position", 3]]
  [1m[36mSpree::Classification Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 3], ["product_id", 12], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.6ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 12], ["taxon_id", 3], ["position", 4]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 3], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 3], ["sluggable_type", "Spree::Taxon"], ["slug", "categories/bags"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "categories/bags"], ["sluggable_id", 3], ["sluggable_type", "Spree::Taxon"], ["created_at", "2017-07-26 11:01:59.089928"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 ORDER BY "spree_taxons"."lft" LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "lft" = CASE WHEN "lft" BETWEEN 2 AND 4 THEN "lft" + 6 - 4 WHEN "lft" BETWEEN 5 AND 6 THEN "lft" + 2 - 5 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 2 AND 4 THEN "rgt" + 6 - 4 WHEN "rgt" BETWEEN 5 AND 6 THEN "rgt" + 2 - 5 ELSE "rgt" END, "parent_id" = CASE WHEN "id" = 3 THEN 1 ELSE "parent_id" END, updated_at = '2017-07-26 11:01:59.094937' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" BETWEEN 2 AND 6 OR "spree_taxons"."rgt" BETWEEN 2 AND 6) ORDER BY "spree_taxons"."lft")[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) AND ("spree_taxons"."id" != 3)[0m  [["name", "Bags"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 3 ORDER BY "spree_taxons"."lft")[0m  [["name", "Bags"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) AND ("spree_taxons"."id" != 3)[0m  [["name", "Bags"]]
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 3 ORDER BY "spree_taxons"."lft")[0m  [["name", "Bags"]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.109257' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) AND ("spree_taxons"."id" != 3) ORDER BY "spree_taxons"."lft")[0m  [["name", "Bags"]]
  [1m[36mSpree::Taxonomy Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = $1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.113003' WHERE "spree_taxonomies"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.084048' WHERE "spree_taxons"."id" = $1[0m  [["id", 3]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.115944' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) AND ("spree_taxons"."id" != 3) ORDER BY "spree_taxons"."lft")[0m  [["name", "Bags"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.117493' WHERE "spree_taxonomies"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:59.066621' WHERE "spree_products"."id" = $1[0m  [["id", 1]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_taxons"."name" = $1 AND "spree_products_taxons"."product_id" = $2[0m  [["name", "Bags"], ["product_id", 1]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m  [["name", "Bags"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.124852' WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 3[0m  [["name", "Bags"]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m  [["name", "Bags"]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.128369' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = 1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:59.070932' WHERE "spree_products"."id" = $1[0m  [["id", 2]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_taxons"."name" = $1 AND "spree_products_taxons"."product_id" = $2[0m  [["name", "Bags"], ["product_id", 2]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m  [["name", "Bags"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.136202' WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 3[0m  [["name", "Bags"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m  [["name", "Bags"]]
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.139080' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = 1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:59.075253' WHERE "spree_products"."id" = $1[0m  [["id", 11]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_taxons"."name" = $1 AND "spree_products_taxons"."product_id" = $2[0m  [["name", "Bags"], ["product_id", 11]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m  [["name", "Bags"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.148288' WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 3[0m  [["name", "Bags"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m  [["name", "Bags"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.151197' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = 1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:59.083834' WHERE "spree_products"."id" = $1[0m  [["id", 12]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_taxons"."name" = $1 AND "spree_products_taxons"."product_id" = $2[0m  [["name", "Bags"], ["product_id", 12]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m  [["name", "Bags"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.159057' WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 3[0m  [["name", "Bags"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m  [["name", "Bags"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.161961' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = 1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 ORDER BY "spree_taxons"."id" ASC LIMIT $2[0m  [["name", "Categories"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 ORDER BY "spree_taxons"."id" ASC LIMIT $2[0m  [["name", "Mugs"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 13], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 13], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "ruby-on-rails-mug"], ["id", 13], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 14], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 14], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "ruby-on-rails-stein"], ["id", 14], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 15], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 15], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "spree-stein"], ["id", 15], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 16], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 16], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "spree-mug"], ["id", 16], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" = $2 AND "spree_taxons"."taxonomy_id" = $3 LIMIT $4[0m  [["name", "Mugs"], ["parent_id", 1], ["taxonomy_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "categories/mugs"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" desc LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("parent_id", "name", "permalink", "taxonomy_id", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["parent_id", 1], ["name", "Mugs"], ["permalink", "categories/mugs"], ["taxonomy_id", 1], ["lft", 7], ["rgt", 8], ["created_at", "2017-07-26 11:01:59.223460"], ["updated_at", "2017-07-26 11:01:59.223460"]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 4], ["product_id", 13], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.6ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 13], ["taxon_id", 4], ["position", 1]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 4], ["product_id", 14], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.6ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 14], ["taxon_id", 4], ["position", 2]]
  [1m[36mSpree::Classification Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 4], ["product_id", 15], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.7ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 15], ["taxon_id", 4], ["position", 3]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 4], ["product_id", 16], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.6ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 16], ["taxon_id", 4], ["position", 4]]
  [1m[36mFriendlyId::Slug Load (0.8ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 4], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 4], ["sluggable_type", "Spree::Taxon"], ["slug", "categories/mugs"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "categories/mugs"], ["sluggable_id", 4], ["sluggable_type", "Spree::Taxon"], ["created_at", "2017-07-26 11:01:59.252072"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 ORDER BY "spree_taxons"."lft" LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "lft" = CASE WHEN "lft" BETWEEN 4 AND 6 THEN "lft" + 8 - 6 WHEN "lft" BETWEEN 7 AND 8 THEN "lft" + 4 - 7 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 4 AND 6 THEN "rgt" + 8 - 6 WHEN "rgt" BETWEEN 7 AND 8 THEN "rgt" + 4 - 7 ELSE "rgt" END, "parent_id" = CASE WHEN "id" = 4 THEN 1 ELSE "parent_id" END, updated_at = '2017-07-26 11:01:59.256851' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" BETWEEN 4 AND 8 OR "spree_taxons"."rgt" BETWEEN 4 AND 8) ORDER BY "spree_taxons"."lft")[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) AND ("spree_taxons"."id" != 4)[0m  [["name", "Mugs"]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 4 ORDER BY "spree_taxons"."lft")[0m  [["name", "Mugs"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) AND ("spree_taxons"."id" != 4)[0m  [["name", "Mugs"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 4 ORDER BY "spree_taxons"."lft")[0m  [["name", "Mugs"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.270907' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) AND ("spree_taxons"."id" != 4) ORDER BY "spree_taxons"."lft")[0m  [["name", "Mugs"]]
  [1m[36mSpree::Taxonomy Load (0.5ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = $1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.274780' WHERE "spree_taxonomies"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.246216' WHERE "spree_taxons"."id" = $1[0m  [["id", 4]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.277736' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) AND ("spree_taxons"."id" != 4) ORDER BY "spree_taxons"."lft")[0m  [["name", "Mugs"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.279251' WHERE "spree_taxonomies"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:59.232309' WHERE "spree_products"."id" = $1[0m  [["id", 13]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_taxons"."name" = $1 AND "spree_products_taxons"."product_id" = $2[0m  [["name", "Mugs"], ["product_id", 13]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m  [["name", "Mugs"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.286331' WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 4[0m  [["name", "Mugs"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m  [["name", "Mugs"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.289359' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = 1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:59.236468' WHERE "spree_products"."id" = $1[0m  [["id", 14]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_taxons"."name" = $1 AND "spree_products_taxons"."product_id" = $2[0m  [["name", "Mugs"], ["product_id", 14]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m  [["name", "Mugs"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.296480' WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 4[0m  [["name", "Mugs"]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m  [["name", "Mugs"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.299441' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = 1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:59.241353' WHERE "spree_products"."id" = $1[0m  [["id", 15]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_taxons"."name" = $1 AND "spree_products_taxons"."product_id" = $2[0m  [["name", "Mugs"], ["product_id", 15]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m  [["name", "Mugs"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.305837' WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 4[0m  [["name", "Mugs"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m  [["name", "Mugs"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.308806' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = 1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:59.245989' WHERE "spree_products"."id" = $1[0m  [["id", 16]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_taxons"."name" = $1 AND "spree_products_taxons"."product_id" = $2[0m  [["name", "Mugs"], ["product_id", 16]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m  [["name", "Mugs"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.315385' WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 4[0m  [["name", "Mugs"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m  [["name", "Mugs"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.318226' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = 1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 ORDER BY "spree_taxons"."id" ASC LIMIT $2[0m  [["name", "Categories"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 ORDER BY "spree_taxons"."id" ASC LIMIT $2[0m  [["name", "Clothing"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" = $2 AND "spree_taxons"."taxonomy_id" = $3 LIMIT $4[0m  [["name", "Clothing"], ["parent_id", 1], ["taxonomy_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "categories/clothing"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" desc LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("parent_id", "name", "permalink", "taxonomy_id", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["parent_id", 1], ["name", "Clothing"], ["permalink", "categories/clothing"], ["taxonomy_id", 1], ["lft", 9], ["rgt", 10], ["created_at", "2017-07-26 11:01:59.328343"], ["updated_at", "2017-07-26 11:01:59.328343"]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 5], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 5], ["sluggable_type", "Spree::Taxon"], ["slug", "categories/clothing"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "categories/clothing"], ["sluggable_id", 5], ["sluggable_type", "Spree::Taxon"], ["created_at", "2017-07-26 11:01:59.337985"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 ORDER BY "spree_taxons"."lft" LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "spree_taxons" SET "lft" = CASE WHEN "lft" BETWEEN 6 AND 8 THEN "lft" + 10 - 8 WHEN "lft" BETWEEN 9 AND 10 THEN "lft" + 6 - 9 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 6 AND 8 THEN "rgt" + 10 - 8 WHEN "rgt" BETWEEN 9 AND 10 THEN "rgt" + 6 - 9 ELSE "rgt" END, "parent_id" = CASE WHEN "id" = 5 THEN 1 ELSE "parent_id" END, updated_at = '2017-07-26 11:01:59.342990' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" BETWEEN 6 AND 10 OR "spree_taxons"."rgt" BETWEEN 6 AND 10) ORDER BY "spree_taxons"."lft")[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 6) AND ("spree_taxons"."rgt" >= 7) AND ("spree_taxons"."id" != 5)[0m  [["name", "Clothing"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 5 ORDER BY "spree_taxons"."lft")[0m  [["name", "Clothing"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 6) AND ("spree_taxons"."rgt" >= 7) AND ("spree_taxons"."id" != 5)[0m  [["name", "Clothing"]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 5 ORDER BY "spree_taxons"."lft")[0m  [["name", "Clothing"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.356598' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 6) AND ("spree_taxons"."rgt" >= 7) AND ("spree_taxons"."id" != 5) ORDER BY "spree_taxons"."lft")[0m  [["name", "Clothing"]]
  [1m[36mSpree::Taxonomy Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = $1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.360383' WHERE "spree_taxonomies"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 ORDER BY "spree_taxons"."id" ASC LIMIT $2[0m  [["name", "Clothing"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 ORDER BY "spree_taxons"."id" ASC LIMIT $2[0m  [["name", "Shirts"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 4], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 4], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "ruby-on-rails-jr-spaghetti"], ["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 9], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.4ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 9], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "spree-jr-spaghetti"], ["id", 9], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" = $2 AND "spree_taxons"."taxonomy_id" = $3 LIMIT $4[0m  [["name", "Shirts"], ["parent_id", 5], ["taxonomy_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "categories/clothing/shirts"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" desc LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("parent_id", "name", "permalink", "taxonomy_id", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["parent_id", 5], ["name", "Shirts"], ["permalink", "categories/clothing/shirts"], ["taxonomy_id", 1], ["lft", 11], ["rgt", 12], ["created_at", "2017-07-26 11:01:59.394919"], ["updated_at", "2017-07-26 11:01:59.394919"]]
  [1m[36mSpree::Classification Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 6], ["product_id", 4], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.6ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 4], ["taxon_id", 6], ["position", 1]]
  [1m[36mSpree::Classification Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 6], ["product_id", 9], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.6ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 9], ["taxon_id", 6], ["position", 2]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 6], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 6], ["sluggable_type", "Spree::Taxon"], ["slug", "categories/clothing/shirts"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "categories/clothing/shirts"], ["sluggable_id", 6], ["sluggable_type", "Spree::Taxon"], ["created_at", "2017-07-26 11:01:59.414307"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 ORDER BY "spree_taxons"."lft" LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "spree_taxons" SET "lft" = CASE WHEN "lft" BETWEEN 7 AND 10 THEN "lft" + 12 - 10 WHEN "lft" BETWEEN 11 AND 12 THEN "lft" + 7 - 11 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 7 AND 10 THEN "rgt" + 12 - 10 WHEN "rgt" BETWEEN 11 AND 12 THEN "rgt" + 7 - 11 ELSE "rgt" END, "parent_id" = CASE WHEN "id" = 6 THEN 5 ELSE "parent_id" END, updated_at = '2017-07-26 11:01:59.419134' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" BETWEEN 7 AND 12 OR "spree_taxons"."rgt" BETWEEN 7 AND 12) ORDER BY "spree_taxons"."lft")[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) AND ("spree_taxons"."id" != 6)[0m  [["name", "Shirts"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 6 ORDER BY "spree_taxons"."lft")[0m  [["name", "Shirts"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) AND ("spree_taxons"."id" != 6)[0m  [["name", "Shirts"]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 6 ORDER BY "spree_taxons"."lft")[0m  [["name", "Shirts"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.432521' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) AND ("spree_taxons"."id" != 6) ORDER BY "spree_taxons"."lft")[0m  [["name", "Shirts"]]
  [1m[36mSpree::Taxonomy Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = $1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.436355' WHERE "spree_taxonomies"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.408555' WHERE "spree_taxons"."id" = $1[0m  [["id", 6]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.439257' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) AND ("spree_taxons"."id" != 6) ORDER BY "spree_taxons"."lft")[0m  [["name", "Shirts"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.440834' WHERE "spree_taxonomies"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:59.403897' WHERE "spree_products"."id" = $1[0m  [["id", 4]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_taxons"."name" = $1 AND "spree_products_taxons"."product_id" = $2[0m  [["name", "Shirts"], ["product_id", 4]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m  [["name", "Shirts"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.447958' WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 6[0m  [["name", "Shirts"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m  [["name", "Shirts"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.450954' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = 1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:59.408314' WHERE "spree_products"."id" = $1[0m  [["id", 9]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_taxons"."name" = $1 AND "spree_products_taxons"."product_id" = $2[0m  [["name", "Shirts"], ["product_id", 9]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m  [["name", "Shirts"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.457600' WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 6[0m  [["name", "Shirts"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m  [["name", "Shirts"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.460447' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = 1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 ORDER BY "spree_taxons"."id" ASC LIMIT $2[0m  [["name", "Clothing"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 ORDER BY "spree_taxons"."id" ASC LIMIT $2[0m  [["name", "T-Shirts"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 3], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 3], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "ruby-on-rails-baseball-jersey"], ["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 5], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.4ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 5], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "ruby-on-rails-ringer-t-shirt"], ["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 7], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 7], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "apache-baseball-jersey"], ["id", 7], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 6], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 6], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "ruby-baseball-jersey"], ["id", 6], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 8], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 8], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "spree-baseball-jersey"], ["id", 8], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 10], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 10], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "spree-ringer-t-shirt"], ["id", 10], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" = $2 AND "spree_taxons"."taxonomy_id" = $3 LIMIT $4[0m  [["name", "T-Shirts"], ["parent_id", 5], ["taxonomy_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "categories/clothing/t-shirts"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" desc LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("parent_id", "name", "permalink", "taxonomy_id", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["parent_id", 5], ["name", "T-Shirts"], ["permalink", "categories/clothing/t-shirts"], ["taxonomy_id", 1], ["lft", 13], ["rgt", 14], ["created_at", "2017-07-26 11:01:59.542592"], ["updated_at", "2017-07-26 11:01:59.542592"]]
  [1m[36mSpree::Classification Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 7], ["product_id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.6ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 3], ["taxon_id", 7], ["position", 1]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 7], ["product_id", 5], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.6ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 5], ["taxon_id", 7], ["position", 2]]
  [1m[36mSpree::Classification Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 7], ["product_id", 7], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.6ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 7], ["taxon_id", 7], ["position", 3]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 7], ["product_id", 6], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.6ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 6], ["taxon_id", 7], ["position", 4]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 7], ["product_id", 8], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 8], ["taxon_id", 7], ["position", 5]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 7], ["product_id", 10], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.6ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 10], ["taxon_id", 7], ["position", 6]]
  [1m[36mFriendlyId::Slug Load (0.8ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 7], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 7], ["sluggable_type", "Spree::Taxon"], ["slug", "categories/clothing/t-shirts"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "categories/clothing/t-shirts"], ["sluggable_id", 7], ["sluggable_type", "Spree::Taxon"], ["created_at", "2017-07-26 11:01:59.579140"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 ORDER BY "spree_taxons"."lft" LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "spree_taxons" SET "lft" = CASE WHEN "lft" BETWEEN 9 AND 12 THEN "lft" + 14 - 12 WHEN "lft" BETWEEN 13 AND 14 THEN "lft" + 9 - 13 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 9 AND 12 THEN "rgt" + 14 - 12 WHEN "rgt" BETWEEN 13 AND 14 THEN "rgt" + 9 - 13 ELSE "rgt" END, "parent_id" = CASE WHEN "id" = 7 THEN 5 ELSE "parent_id" END, updated_at = '2017-07-26 11:01:59.583877' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" BETWEEN 9 AND 14 OR "spree_taxons"."rgt" BETWEEN 9 AND 14) ORDER BY "spree_taxons"."lft")[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) AND ("spree_taxons"."id" != 7)[0m  [["name", "T-Shirts"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 7 ORDER BY "spree_taxons"."lft")[0m  [["name", "T-Shirts"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) AND ("spree_taxons"."id" != 7)[0m  [["name", "T-Shirts"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 7 ORDER BY "spree_taxons"."lft")[0m  [["name", "T-Shirts"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.597794' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) AND ("spree_taxons"."id" != 7) ORDER BY "spree_taxons"."lft")[0m  [["name", "T-Shirts"]]
  [1m[36mSpree::Taxonomy Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = $1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.601556' WHERE "spree_taxonomies"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.573104' WHERE "spree_taxons"."id" = $1[0m  [["id", 7]]
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.604904' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) AND ("spree_taxons"."id" != 7) ORDER BY "spree_taxons"."lft")[0m  [["name", "T-Shirts"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.606773' WHERE "spree_taxonomies"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:59.551234' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_taxons"."name" = $1 AND "spree_products_taxons"."product_id" = $2[0m  [["name", "T-Shirts"], ["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m  [["name", "T-Shirts"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.613984' WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 7[0m  [["name", "T-Shirts"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m  [["name", "T-Shirts"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.616896' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = 1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:59.555500' WHERE "spree_products"."id" = $1[0m  [["id", 5]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_taxons"."name" = $1 AND "spree_products_taxons"."product_id" = $2[0m  [["name", "T-Shirts"], ["product_id", 5]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m  [["name", "T-Shirts"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.623494' WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 7[0m  [["name", "T-Shirts"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m  [["name", "T-Shirts"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.626512' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = 1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:59.559860' WHERE "spree_products"."id" = $1[0m  [["id", 7]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_taxons"."name" = $1 AND "spree_products_taxons"."product_id" = $2[0m  [["name", "T-Shirts"], ["product_id", 7]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m  [["name", "T-Shirts"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.633573' WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 7[0m  [["name", "T-Shirts"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m  [["name", "T-Shirts"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.636655' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = 1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:59.564263' WHERE "spree_products"."id" = $1[0m  [["id", 6]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_taxons"."name" = $1 AND "spree_products_taxons"."product_id" = $2[0m  [["name", "T-Shirts"], ["product_id", 6]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m  [["name", "T-Shirts"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.644606' WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 7[0m  [["name", "T-Shirts"]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m  [["name", "T-Shirts"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.647762' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = 1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:59.568576' WHERE "spree_products"."id" = $1[0m  [["id", 8]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_taxons"."name" = $1 AND "spree_products_taxons"."product_id" = $2[0m  [["name", "T-Shirts"], ["product_id", 8]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m  [["name", "T-Shirts"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.654309' WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 7[0m  [["name", "T-Shirts"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m  [["name", "T-Shirts"]]
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.657412' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = 1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:59.572832' WHERE "spree_products"."id" = $1[0m  [["id", 10]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_taxons"."name" = $1 AND "spree_products_taxons"."product_id" = $2[0m  [["name", "T-Shirts"], ["product_id", 10]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m  [["name", "T-Shirts"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.664680' WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 7[0m  [["name", "T-Shirts"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m  [["name", "T-Shirts"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.667501' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = 1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" IS NULL ORDER BY "spree_taxons"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 ORDER BY "spree_taxons"."id" ASC LIMIT $2[0m  [["name", "Brands"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 ORDER BY "spree_taxons"."id" ASC LIMIT $2[0m  [["name", "Brands"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 ORDER BY "spree_taxons"."id" ASC LIMIT $2[0m  [["name", "Ruby"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "ruby-baseball-jersey"], ["id", 6], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" = $2 AND "spree_taxons"."taxonomy_id" = $3 LIMIT $4[0m  [["name", "Ruby"], ["parent_id", 2], ["taxonomy_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "brands/ruby"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" desc LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("parent_id", "name", "permalink", "taxonomy_id", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["parent_id", 2], ["name", "Ruby"], ["permalink", "brands/ruby"], ["taxonomy_id", 2], ["lft", 15], ["rgt", 16], ["created_at", "2017-07-26 11:01:59.686064"], ["updated_at", "2017-07-26 11:01:59.686064"]]
  [1m[36mSpree::Classification Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 8], ["product_id", 6], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.6ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 6], ["taxon_id", 8], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 8], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 8], ["sluggable_type", "Spree::Taxon"], ["slug", "brands/ruby"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "brands/ruby"], ["sluggable_id", 8], ["sluggable_type", "Spree::Taxon"], ["created_at", "2017-07-26 11:01:59.700762"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 ORDER BY "spree_taxons"."lft" LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "lft" = CASE WHEN "lft" BETWEEN 14 AND 14 THEN "lft" + 16 - 14 WHEN "lft" BETWEEN 15 AND 16 THEN "lft" + 14 - 15 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 14 AND 14 THEN "rgt" + 16 - 14 WHEN "rgt" BETWEEN 15 AND 16 THEN "rgt" + 14 - 15 ELSE "rgt" END, "parent_id" = CASE WHEN "id" = 8 THEN 2 ELSE "parent_id" END, updated_at = '2017-07-26 11:01:59.705588' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" BETWEEN 14 AND 16 OR "spree_taxons"."rgt" BETWEEN 14 AND 16) ORDER BY "spree_taxons"."lft")[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 14) AND ("spree_taxons"."rgt" >= 15) AND ("spree_taxons"."id" != 8)[0m  [["name", "Ruby"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 8 ORDER BY "spree_taxons"."lft")[0m  [["name", "Ruby"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 14) AND ("spree_taxons"."rgt" >= 15) AND ("spree_taxons"."id" != 8)[0m  [["name", "Ruby"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 8 ORDER BY "spree_taxons"."lft")[0m  [["name", "Ruby"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.718973' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 14) AND ("spree_taxons"."rgt" >= 15) AND ("spree_taxons"."id" != 8) ORDER BY "spree_taxons"."lft")[0m  [["name", "Ruby"]]
  [1m[36mSpree::Taxonomy Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = $1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.722840' WHERE "spree_taxonomies"."id" = $1[0m  [["id", 2]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.694930' WHERE "spree_taxons"."id" = $1[0m  [["id", 8]]
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.725729' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 14) AND ("spree_taxons"."rgt" >= 15) AND ("spree_taxons"."id" != 8) ORDER BY "spree_taxons"."lft")[0m  [["name", "Ruby"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.727454' WHERE "spree_taxonomies"."id" = $1[0m  [["id", 2]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:59.694681' WHERE "spree_products"."id" = $1[0m  [["id", 6]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m  [["name", "Ruby"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.731594' WHERE "spree_taxons"."name" = $1 AND 1=0[0m  [["name", "Ruby"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m  [["name", "Ruby"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.734114' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 ORDER BY "spree_taxons"."id" ASC LIMIT $2[0m  [["name", "Brands"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 ORDER BY "spree_taxons"."id" ASC LIMIT $2[0m  [["name", "Apache"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "apache-baseball-jersey"], ["id", 7], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" = $2 AND "spree_taxons"."taxonomy_id" = $3 LIMIT $4[0m  [["name", "Apache"], ["parent_id", 2], ["taxonomy_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "brands/apache"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" desc LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("parent_id", "name", "permalink", "taxonomy_id", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["parent_id", 2], ["name", "Apache"], ["permalink", "brands/apache"], ["taxonomy_id", 2], ["lft", 17], ["rgt", 18], ["created_at", "2017-07-26 11:01:59.749836"], ["updated_at", "2017-07-26 11:01:59.749836"]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 9], ["product_id", 7], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.6ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 7], ["taxon_id", 9], ["position", 1]]
  [1m[36mFriendlyId::Slug Load (0.8ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 9], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 9], ["sluggable_type", "Spree::Taxon"], ["slug", "brands/apache"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "brands/apache"], ["sluggable_id", 9], ["sluggable_type", "Spree::Taxon"], ["created_at", "2017-07-26 11:01:59.765101"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 ORDER BY "spree_taxons"."lft" LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[33mUPDATE "spree_taxons" SET "lft" = CASE WHEN "lft" BETWEEN 16 AND 16 THEN "lft" + 18 - 16 WHEN "lft" BETWEEN 17 AND 18 THEN "lft" + 16 - 17 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 16 AND 16 THEN "rgt" + 18 - 16 WHEN "rgt" BETWEEN 17 AND 18 THEN "rgt" + 16 - 17 ELSE "rgt" END, "parent_id" = CASE WHEN "id" = 9 THEN 2 ELSE "parent_id" END, updated_at = '2017-07-26 11:01:59.770153' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" BETWEEN 16 AND 18 OR "spree_taxons"."rgt" BETWEEN 16 AND 18) ORDER BY "spree_taxons"."lft")[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 16) AND ("spree_taxons"."rgt" >= 17) AND ("spree_taxons"."id" != 9)[0m  [["name", "Apache"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 9 ORDER BY "spree_taxons"."lft")[0m  [["name", "Apache"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 16) AND ("spree_taxons"."rgt" >= 17) AND ("spree_taxons"."id" != 9)[0m  [["name", "Apache"]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 9 ORDER BY "spree_taxons"."lft")[0m  [["name", "Apache"]]
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.783741' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 16) AND ("spree_taxons"."rgt" >= 17) AND ("spree_taxons"."id" != 9) ORDER BY "spree_taxons"."lft")[0m  [["name", "Apache"]]
  [1m[36mSpree::Taxonomy Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = $1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.787655' WHERE "spree_taxonomies"."id" = $1[0m  [["id", 2]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.758805' WHERE "spree_taxons"."id" = $1[0m  [["id", 9]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.790624' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 16) AND ("spree_taxons"."rgt" >= 17) AND ("spree_taxons"."id" != 9) ORDER BY "spree_taxons"."lft")[0m  [["name", "Apache"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.792146' WHERE "spree_taxonomies"."id" = $1[0m  [["id", 2]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:59.758567' WHERE "spree_products"."id" = $1[0m  [["id", 7]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m  [["name", "Apache"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.796810' WHERE "spree_taxons"."name" = $1 AND 1=0[0m  [["name", "Apache"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m  [["name", "Apache"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.799381' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 ORDER BY "spree_taxons"."id" ASC LIMIT $2[0m  [["name", "Brands"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 ORDER BY "spree_taxons"."id" ASC LIMIT $2[0m  [["name", "Spree"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "spree-stein"], ["id", 15], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "spree-mug"], ["id", 16], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "spree-ringer-t-shirt"], ["id", 10], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "spree-baseball-jersey"], ["id", 8], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "spree-tote"], ["id", 11], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "spree-bag"], ["id", 12], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "spree-jr-spaghetti"], ["id", 9], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" = $2 AND "spree_taxons"."taxonomy_id" = $3 LIMIT $4[0m  [["name", "Spree"], ["parent_id", 2], ["taxonomy_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "brands/spree"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" desc LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("parent_id", "name", "permalink", "taxonomy_id", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["parent_id", 2], ["name", "Spree"], ["permalink", "brands/spree"], ["taxonomy_id", 2], ["lft", 19], ["rgt", 20], ["created_at", "2017-07-26 11:01:59.840452"], ["updated_at", "2017-07-26 11:01:59.840452"]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 10], ["product_id", 15], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.6ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 15], ["taxon_id", 10], ["position", 1]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 10], ["product_id", 16], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.6ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 16], ["taxon_id", 10], ["position", 2]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 10], ["product_id", 10], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.6ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 10], ["taxon_id", 10], ["position", 3]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 10], ["product_id", 8], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 8], ["taxon_id", 10], ["position", 4]]
  [1m[36mSpree::Classification Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 10], ["product_id", 11], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.6ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 11], ["taxon_id", 10], ["position", 5]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 10], ["product_id", 12], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.7ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 12], ["taxon_id", 10], ["position", 6]]
  [1m[36mSpree::Classification Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 10], ["product_id", 9], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.6ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 9], ["taxon_id", 10], ["position", 7]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 10], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 10], ["sluggable_type", "Spree::Taxon"], ["slug", "brands/spree"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "brands/spree"], ["sluggable_id", 10], ["sluggable_type", "Spree::Taxon"], ["created_at", "2017-07-26 11:01:59.881594"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 ORDER BY "spree_taxons"."lft" LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxons" SET "lft" = CASE WHEN "lft" BETWEEN 18 AND 18 THEN "lft" + 20 - 18 WHEN "lft" BETWEEN 19 AND 20 THEN "lft" + 18 - 19 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 18 AND 18 THEN "rgt" + 20 - 18 WHEN "rgt" BETWEEN 19 AND 20 THEN "rgt" + 18 - 19 ELSE "rgt" END, "parent_id" = CASE WHEN "id" = 10 THEN 2 ELSE "parent_id" END, updated_at = '2017-07-26 11:01:59.886400' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" BETWEEN 18 AND 20 OR "spree_taxons"."rgt" BETWEEN 18 AND 20) ORDER BY "spree_taxons"."lft")[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) AND ("spree_taxons"."id" != 10)[0m  [["name", "Spree"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 10 ORDER BY "spree_taxons"."lft")[0m  [["name", "Spree"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) AND ("spree_taxons"."id" != 10)[0m  [["name", "Spree"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 10 ORDER BY "spree_taxons"."lft")[0m  [["name", "Spree"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.900353' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) AND ("spree_taxons"."id" != 10) ORDER BY "spree_taxons"."lft")[0m  [["name", "Spree"]]
  [1m[36mSpree::Taxonomy Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = $1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.904156' WHERE "spree_taxonomies"."id" = $1[0m  [["id", 2]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.875501' WHERE "spree_taxons"."id" = $1[0m  [["id", 10]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.907299' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) AND ("spree_taxons"."id" != 10) ORDER BY "spree_taxons"."lft")[0m  [["name", "Spree"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.908855' WHERE "spree_taxonomies"."id" = $1[0m  [["id", 2]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:59.849167' WHERE "spree_products"."id" = $1[0m  [["id", 15]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m  [["name", "Spree"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.913724' WHERE "spree_taxons"."name" = $1 AND 1=0[0m  [["name", "Spree"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m  [["name", "Spree"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.919954' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:59.853540' WHERE "spree_products"."id" = $1[0m  [["id", 16]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m  [["name", "Spree"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.924108' WHERE "spree_taxons"."name" = $1 AND 1=0[0m  [["name", "Spree"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m  [["name", "Spree"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.926642' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:59.857807' WHERE "spree_products"."id" = $1[0m  [["id", 10]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m  [["name", "Spree"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.930789' WHERE "spree_taxons"."name" = $1 AND 1=0[0m  [["name", "Spree"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m  [["name", "Spree"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.933283' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:59.862029' WHERE "spree_products"."id" = $1[0m  [["id", 8]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m  [["name", "Spree"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.937407' WHERE "spree_taxons"."name" = $1 AND 1=0[0m  [["name", "Spree"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m  [["name", "Spree"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.940127' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:59.866403' WHERE "spree_products"."id" = $1[0m  [["id", 11]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m  [["name", "Spree"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.944266' WHERE "spree_taxons"."name" = $1 AND 1=0[0m  [["name", "Spree"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m  [["name", "Spree"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.946848' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:59.870970' WHERE "spree_products"."id" = $1[0m  [["id", 12]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m  [["name", "Spree"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.950933' WHERE "spree_taxons"."name" = $1 AND 1=0[0m  [["name", "Spree"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m  [["name", "Spree"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.953473' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:01:59.875297' WHERE "spree_products"."id" = $1[0m  [["id", 9]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m  [["name", "Spree"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:01:59.957581' WHERE "spree_taxons"."name" = $1 AND 1=0[0m  [["name", "Spree"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m  [["name", "Spree"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:01:59.960272' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 ORDER BY "spree_taxons"."id" ASC LIMIT $2[0m  [["name", "Brands"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 ORDER BY "spree_taxons"."id" ASC LIMIT $2[0m  [["name", "Rails"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "ruby-on-rails-tote"], ["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "ruby-on-rails-bag"], ["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "ruby-on-rails-mug"], ["id", 13], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "ruby-on-rails-stein"], ["id", 14], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "ruby-on-rails-baseball-jersey"], ["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "ruby-on-rails-jr-spaghetti"], ["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "ruby-on-rails-ringer-t-shirt"], ["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."parent_id" = $2 AND "spree_taxons"."taxonomy_id" = $3 LIMIT $4[0m  [["name", "Rails"], ["parent_id", 2], ["taxonomy_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) LIMIT $2[0m  [["permalink", "brands/rails"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."rgt" desc LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_taxons" ("parent_id", "name", "permalink", "taxonomy_id", "lft", "rgt", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["parent_id", 2], ["name", "Rails"], ["permalink", "brands/rails"], ["taxonomy_id", 2], ["lft", 21], ["rgt", 22], ["created_at", "2017-07-26 11:02:00.001680"], ["updated_at", "2017-07-26 11:02:00.001680"]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 11], ["product_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.7ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 1], ["taxon_id", 11], ["position", 1]]
  [1m[36mSpree::Classification Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 11], ["product_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.6ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 2], ["taxon_id", 11], ["position", 2]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 11], ["product_id", 13], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.6ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 13], ["taxon_id", 11], ["position", 3]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 11], ["product_id", 14], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.6ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 14], ["taxon_id", 11], ["position", 4]]
  [1m[36mSpree::Classification Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 11], ["product_id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.5ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 3], ["taxon_id", 11], ["position", 5]]
  [1m[36mSpree::Classification Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 11], ["product_id", 4], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.6ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 4], ["taxon_id", 11], ["position", 6]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 11], ["product_id", 5], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.6ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 5], ["taxon_id", 11], ["position", 7]]
  [1m[36mFriendlyId::Slug Load (0.9ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 11], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 11], ["sluggable_type", "Spree::Taxon"], ["slug", "brands/rails"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "brands/rails"], ["sluggable_id", 11], ["sluggable_type", "Spree::Taxon"], ["created_at", "2017-07-26 11:02:00.046577"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 ORDER BY "spree_taxons"."lft" LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "spree_taxons" SET "lft" = CASE WHEN "lft" BETWEEN 20 AND 20 THEN "lft" + 22 - 20 WHEN "lft" BETWEEN 21 AND 22 THEN "lft" + 20 - 21 ELSE "lft" END, "rgt" = CASE WHEN "rgt" BETWEEN 20 AND 20 THEN "rgt" + 22 - 20 WHEN "rgt" BETWEEN 21 AND 22 THEN "rgt" + 20 - 21 ELSE "rgt" END, "parent_id" = CASE WHEN "id" = 11 THEN 2 ELSE "parent_id" END, updated_at = '2017-07-26 11:02:00.051269' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" BETWEEN 20 AND 22 OR "spree_taxons"."rgt" BETWEEN 20 AND 22) ORDER BY "spree_taxons"."lft")[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) AND ("spree_taxons"."id" != 11)[0m  [["name", "Rails"]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 11 ORDER BY "spree_taxons"."lft")[0m  [["name", "Rails"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[37mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) AND ("spree_taxons"."id" != 11)[0m  [["name", "Rails"]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND "spree_taxons"."id" = 11 ORDER BY "spree_taxons"."lft")[0m  [["name", "Rails"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:00.064655' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) AND ("spree_taxons"."id" != 11) ORDER BY "spree_taxons"."lft")[0m  [["name", "Rails"]]
  [1m[36mSpree::Taxonomy Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = $1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:00.068401' WHERE "spree_taxonomies"."id" = $1[0m  [["id", 2]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:00.039779' WHERE "spree_taxons"."id" = $1[0m  [["id", 11]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:00.071419' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) AND ("spree_taxons"."id" != 11) ORDER BY "spree_taxons"."lft")[0m  [["name", "Rails"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:00.072965' WHERE "spree_taxonomies"."id" = $1[0m  [["id", 2]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:00.012358' WHERE "spree_products"."id" = $1[0m  [["id", 1]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m  [["name", "Rails"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:00.077305' WHERE "spree_taxons"."name" = $1 AND 1=0[0m  [["name", "Rails"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m  [["name", "Rails"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:00.079849' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:00.017159' WHERE "spree_products"."id" = $1[0m  [["id", 2]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m  [["name", "Rails"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:00.083980' WHERE "spree_taxons"."name" = $1 AND 1=0[0m  [["name", "Rails"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m  [["name", "Rails"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:00.086552' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:00.021424' WHERE "spree_products"."id" = $1[0m  [["id", 13]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m  [["name", "Rails"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:00.090620' WHERE "spree_taxons"."name" = $1 AND 1=0[0m  [["name", "Rails"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m  [["name", "Rails"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:00.093197' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:00.026491' WHERE "spree_products"."id" = $1[0m  [["id", 14]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m  [["name", "Rails"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:00.097362' WHERE "spree_taxons"."name" = $1 AND 1=0[0m  [["name", "Rails"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m  [["name", "Rails"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:00.100071' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:00.030808' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m  [["name", "Rails"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:00.104069' WHERE "spree_taxons"."name" = $1 AND 1=0[0m  [["name", "Rails"]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m  [["name", "Rails"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:00.106821' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:00.035258' WHERE "spree_products"."id" = $1[0m  [["id", 4]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m  [["name", "Rails"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:00.110902' WHERE "spree_taxons"."name" = $1 AND 1=0[0m  [["name", "Rails"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m  [["name", "Rails"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:00.113468' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:00.039554' WHERE "spree_products"."id" = $1[0m  [["id", 5]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m  [["name", "Rails"]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:00.117811' WHERE "spree_taxons"."name" = $1 AND 1=0[0m  [["name", "Rails"]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m  [["name", "Rails"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:00.120361' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE 1=0 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::OptionType Load (15.4ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."name" = $1 AND "spree_option_types"."presentation" = $2 AND "spree_option_types"."position" = $3 ORDER BY "spree_option_types"."position" ASC LIMIT $4[0m  [["name", "tshirt-size"], ["presentation", "Size"], ["position", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::OptionType Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_types" WHERE LOWER("spree_option_types"."name") = LOWER($1) LIMIT $2[0m  [["name", "tshirt-size"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_option_types" SET "position" = ("spree_option_types"."position" + 1), "updated_at" = '2017-07-26 11:02:00.181262' WHERE "spree_option_types"."id" IN (SELECT "spree_option_types"."id" FROM "spree_option_types" WHERE (1 = 1) AND ("spree_option_types"."position" >= 1) ORDER BY "spree_option_types"."position" ASC)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_option_types" ("name", "presentation", "position", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "tshirt-size"], ["presentation", "Size"], ["position", 1], ["created_at", "2017-07-26 11:02:00.180621"], ["updated_at", "2017-07-26 11:02:00.180621"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::OptionType Load (0.4ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."name" = $1 AND "spree_option_types"."presentation" = $2 AND "spree_option_types"."position" = $3 ORDER BY "spree_option_types"."position" ASC LIMIT $4[0m  [["name", "tshirt-color"], ["presentation", "Color"], ["position", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::OptionType Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_types" WHERE LOWER("spree_option_types"."name") = LOWER($1) LIMIT $2[0m  [["name", "tshirt-color"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_option_types" SET "position" = ("spree_option_types"."position" + 1), "updated_at" = '2017-07-26 11:02:00.189495' WHERE "spree_option_types"."id" IN (SELECT "spree_option_types"."id" FROM "spree_option_types" WHERE (1 = 1) AND ("spree_option_types"."position" >= 2) ORDER BY "spree_option_types"."position" ASC)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_option_types" ("name", "presentation", "position", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "tshirt-color"], ["presentation", "Color"], ["position", 2], ["created_at", "2017-07-26 11:02:00.189100"], ["updated_at", "2017-07-26 11:02:00.189100"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::OptionType Load (0.6ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."presentation" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["presentation", "Size"], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.5ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."presentation" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["presentation", "Color"], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Load (15.2ms)[0m  [1m[34mSELECT  "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND "spree_option_values"."presentation" = $2 AND "spree_option_values"."position" = $3 AND "spree_option_values"."option_type_id" = 1 ORDER BY "spree_option_values"."id" ASC LIMIT $4[0m  [["name", "Small"], ["presentation", "S"], ["position", 1], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::OptionValue Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND "spree_option_values"."option_type_id" = $2 LIMIT $3[0m  [["name", "Small"], ["option_type_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_option_values" SET "position" = ("spree_option_values"."position" + 1), "updated_at" = '2017-07-26 11:02:00.245064' WHERE "spree_option_values"."option_type_id" = $1 AND ("spree_option_values"."position" >= 1)[0m  [["option_type_id", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_option_values" ("position", "name", "presentation", "option_type_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["position", 1], ["name", "Small"], ["presentation", "S"], ["option_type_id", 1], ["created_at", "2017-07-26 11:02:00.244303"], ["updated_at", "2017-07-26 11:02:00.244303"]]
  [1m[36mSpree::OptionType Load (0.6ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_option_types" SET "updated_at" = '2017-07-26 11:02:00.250441' WHERE "spree_option_types"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (21.8ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:00.259397' WHERE "spree_products"."id" IN (SELECT "spree_products"."id" FROM "spree_products" INNER JOIN "spree_product_option_types" ON "spree_products"."id" = "spree_product_option_types"."product_id" WHERE "spree_products"."deleted_at" IS NULL AND "spree_product_option_types"."option_type_id" = $1)[0m  [["option_type_id", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::OptionValue Load (0.6ms)[0m  [1m[34mSELECT  "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND "spree_option_values"."presentation" = $2 AND "spree_option_values"."position" = $3 AND "spree_option_values"."option_type_id" = 1 ORDER BY "spree_option_values"."id" ASC LIMIT $4[0m  [["name", "Medium"], ["presentation", "M"], ["position", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::OptionValue Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND "spree_option_values"."option_type_id" = $2 LIMIT $3[0m  [["name", "Medium"], ["option_type_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_option_values" SET "position" = ("spree_option_values"."position" + 1), "updated_at" = '2017-07-26 11:02:00.292264' WHERE "spree_option_values"."option_type_id" = $1 AND ("spree_option_values"."position" >= 2)[0m  [["option_type_id", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_option_values" ("position", "name", "presentation", "option_type_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["position", 2], ["name", "Medium"], ["presentation", "M"], ["option_type_id", 1], ["created_at", "2017-07-26 11:02:00.291499"], ["updated_at", "2017-07-26 11:02:00.291499"]]
  [1m[36mSpree::OptionType Load (0.4ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_option_types" SET "updated_at" = '2017-07-26 11:02:00.297027' WHERE "spree_option_types"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:00.298807' WHERE "spree_products"."id" IN (SELECT "spree_products"."id" FROM "spree_products" INNER JOIN "spree_product_option_types" ON "spree_products"."id" = "spree_product_option_types"."product_id" WHERE "spree_products"."deleted_at" IS NULL AND "spree_product_option_types"."option_type_id" = $1)[0m  [["option_type_id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::OptionValue Load (0.5ms)[0m  [1m[34mSELECT  "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND "spree_option_values"."presentation" = $2 AND "spree_option_values"."position" = $3 AND "spree_option_values"."option_type_id" = 1 ORDER BY "spree_option_values"."id" ASC LIMIT $4[0m  [["name", "Large"], ["presentation", "L"], ["position", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::OptionValue Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND "spree_option_values"."option_type_id" = $2 LIMIT $3[0m  [["name", "Large"], ["option_type_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_option_values" SET "position" = ("spree_option_values"."position" + 1), "updated_at" = '2017-07-26 11:02:00.306305' WHERE "spree_option_values"."option_type_id" = $1 AND ("spree_option_values"."position" >= 3)[0m  [["option_type_id", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_option_values" ("position", "name", "presentation", "option_type_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["position", 3], ["name", "Large"], ["presentation", "L"], ["option_type_id", 1], ["created_at", "2017-07-26 11:02:00.305682"], ["updated_at", "2017-07-26 11:02:00.305682"]]
  [1m[36mSpree::OptionType Load (0.4ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_option_types" SET "updated_at" = '2017-07-26 11:02:00.310798' WHERE "spree_option_types"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:00.312965' WHERE "spree_products"."id" IN (SELECT "spree_products"."id" FROM "spree_products" INNER JOIN "spree_product_option_types" ON "spree_products"."id" = "spree_product_option_types"."product_id" WHERE "spree_products"."deleted_at" IS NULL AND "spree_product_option_types"."option_type_id" = $1)[0m  [["option_type_id", 1]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::OptionValue Load (0.5ms)[0m  [1m[34mSELECT  "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND "spree_option_values"."presentation" = $2 AND "spree_option_values"."position" = $3 AND "spree_option_values"."option_type_id" = 1 ORDER BY "spree_option_values"."id" ASC LIMIT $4[0m  [["name", "Extra Large"], ["presentation", "XL"], ["position", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::OptionValue Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND "spree_option_values"."option_type_id" = $2 LIMIT $3[0m  [["name", "Extra Large"], ["option_type_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_option_values" SET "position" = ("spree_option_values"."position" + 1), "updated_at" = '2017-07-26 11:02:00.320774' WHERE "spree_option_values"."option_type_id" = $1 AND ("spree_option_values"."position" >= 4)[0m  [["option_type_id", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_option_values" ("position", "name", "presentation", "option_type_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["position", 4], ["name", "Extra Large"], ["presentation", "XL"], ["option_type_id", 1], ["created_at", "2017-07-26 11:02:00.320191"], ["updated_at", "2017-07-26 11:02:00.320191"]]
  [1m[36mSpree::OptionType Load (0.4ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_option_types" SET "updated_at" = '2017-07-26 11:02:00.325555' WHERE "spree_option_types"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:00.327333' WHERE "spree_products"."id" IN (SELECT "spree_products"."id" FROM "spree_products" INNER JOIN "spree_product_option_types" ON "spree_products"."id" = "spree_product_option_types"."product_id" WHERE "spree_products"."deleted_at" IS NULL AND "spree_product_option_types"."option_type_id" = $1)[0m  [["option_type_id", 1]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::OptionValue Load (0.4ms)[0m  [1m[34mSELECT  "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND "spree_option_values"."presentation" = $2 AND "spree_option_values"."position" = $3 AND "spree_option_values"."option_type_id" = 2 ORDER BY "spree_option_values"."id" ASC LIMIT $4[0m  [["name", "Red"], ["presentation", "Red"], ["position", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::OptionValue Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND "spree_option_values"."option_type_id" = $2 LIMIT $3[0m  [["name", "Red"], ["option_type_id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_option_values" SET "position" = ("spree_option_values"."position" + 1), "updated_at" = '2017-07-26 11:02:00.335476' WHERE "spree_option_values"."option_type_id" = $1 AND ("spree_option_values"."position" >= 1)[0m  [["option_type_id", 2]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_option_values" ("position", "name", "presentation", "option_type_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["position", 1], ["name", "Red"], ["presentation", "Red"], ["option_type_id", 2], ["created_at", "2017-07-26 11:02:00.334873"], ["updated_at", "2017-07-26 11:02:00.334873"]]
  [1m[36mSpree::OptionType Load (0.5ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_option_types" SET "updated_at" = '2017-07-26 11:02:00.340121' WHERE "spree_option_types"."id" = $1[0m  [["id", 2]]
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:00.341978' WHERE "spree_products"."id" IN (SELECT "spree_products"."id" FROM "spree_products" INNER JOIN "spree_product_option_types" ON "spree_products"."id" = "spree_product_option_types"."product_id" WHERE "spree_products"."deleted_at" IS NULL AND "spree_product_option_types"."option_type_id" = $1)[0m  [["option_type_id", 2]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::OptionValue Load (0.6ms)[0m  [1m[34mSELECT  "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND "spree_option_values"."presentation" = $2 AND "spree_option_values"."position" = $3 AND "spree_option_values"."option_type_id" = 2 ORDER BY "spree_option_values"."id" ASC LIMIT $4[0m  [["name", "Green"], ["presentation", "Green"], ["position", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::OptionValue Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND "spree_option_values"."option_type_id" = $2 LIMIT $3[0m  [["name", "Green"], ["option_type_id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_option_values" SET "position" = ("spree_option_values"."position" + 1), "updated_at" = '2017-07-26 11:02:00.351329' WHERE "spree_option_values"."option_type_id" = $1 AND ("spree_option_values"."position" >= 2)[0m  [["option_type_id", 2]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_option_values" ("position", "name", "presentation", "option_type_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["position", 2], ["name", "Green"], ["presentation", "Green"], ["option_type_id", 2], ["created_at", "2017-07-26 11:02:00.350655"], ["updated_at", "2017-07-26 11:02:00.350655"]]
  [1m[36mSpree::OptionType Load (0.6ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_option_types" SET "updated_at" = '2017-07-26 11:02:00.356353' WHERE "spree_option_types"."id" = $1[0m  [["id", 2]]
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:00.358223' WHERE "spree_products"."id" IN (SELECT "spree_products"."id" FROM "spree_products" INNER JOIN "spree_product_option_types" ON "spree_products"."id" = "spree_product_option_types"."product_id" WHERE "spree_products"."deleted_at" IS NULL AND "spree_product_option_types"."option_type_id" = $1)[0m  [["option_type_id", 2]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::OptionValue Load (0.5ms)[0m  [1m[34mSELECT  "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND "spree_option_values"."presentation" = $2 AND "spree_option_values"."position" = $3 AND "spree_option_values"."option_type_id" = 2 ORDER BY "spree_option_values"."id" ASC LIMIT $4[0m  [["name", "Blue"], ["presentation", "Blue"], ["position", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::OptionValue Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND "spree_option_values"."option_type_id" = $2 LIMIT $3[0m  [["name", "Blue"], ["option_type_id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_option_values" SET "position" = ("spree_option_values"."position" + 1), "updated_at" = '2017-07-26 11:02:00.366700' WHERE "spree_option_values"."option_type_id" = $1 AND ("spree_option_values"."position" >= 3)[0m  [["option_type_id", 2]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_option_values" ("position", "name", "presentation", "option_type_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["position", 3], ["name", "Blue"], ["presentation", "Blue"], ["option_type_id", 2], ["created_at", "2017-07-26 11:02:00.366089"], ["updated_at", "2017-07-26 11:02:00.366089"]]
  [1m[36mSpree::OptionType Load (0.3ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_option_types" SET "updated_at" = '2017-07-26 11:02:00.371053' WHERE "spree_option_types"."id" = $1[0m  [["id", 2]]
  [1m[35mSQL (1.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:00.373355' WHERE "spree_products"."id" IN (SELECT "spree_products"."id" FROM "spree_products" INNER JOIN "spree_product_option_types" ON "spree_products"."id" = "spree_product_option_types"."product_id" WHERE "spree_products"."deleted_at" IS NULL AND "spree_product_option_types"."option_type_id" = $1)[0m  [["option_type_id", 2]]
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::OptionType Load (2.2ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."presentation" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["presentation", "Size"], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.5ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."presentation" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["presentation", "Color"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Baseball Jersey"], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.6ms)[0m  [1m[34mSELECT "spree_option_types".* FROM "spree_option_types" INNER JOIN "spree_product_option_types" ON "spree_option_types"."id" = "spree_product_option_types"."option_type_id" WHERE "spree_product_option_types"."product_id" = $1 ORDER BY "spree_option_types"."position" ASC[0m  [["product_id", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ProductOptionType Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_product_option_types" WHERE "spree_product_option_types"."product_id" = $1 AND "spree_product_option_types"."option_type_id" = $2 LIMIT $3[0m  [["product_id", 3], ["option_type_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::ProductOptionType Load (0.7ms)[0m  [1m[34mSELECT  "spree_product_option_types".* FROM "spree_product_option_types" WHERE "spree_product_option_types"."product_id" = $1 AND ("spree_product_option_types"."position" IS NOT NULL) ORDER BY "spree_product_option_types"."position" DESC LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_product_option_types" ("position", "product_id", "option_type_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["position", 1], ["product_id", 3], ["option_type_id", 1], ["created_at", "2017-07-26 11:02:00.421222"], ["updated_at", "2017-07-26 11:02:00.421222"]]
  [1m[36mSpree::ProductOptionType Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_product_option_types" WHERE "spree_product_option_types"."product_id" = $1 AND "spree_product_option_types"."option_type_id" = $2 LIMIT $3[0m  [["product_id", 3], ["option_type_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::ProductOptionType Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_option_types".* FROM "spree_product_option_types" WHERE "spree_product_option_types"."product_id" = $1 AND ("spree_product_option_types"."position" IS NOT NULL) ORDER BY "spree_product_option_types"."position" DESC LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_option_types" ("position", "product_id", "option_type_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["position", 2], ["product_id", 3], ["option_type_id", 2], ["created_at", "2017-07-26 11:02:00.428161"], ["updated_at", "2017-07-26 11:02:00.428161"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 3], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.4ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 3], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "ruby-on-rails-baseball-jersey"], ["id", 3], ["LIMIT", 1]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.3ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 3], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 3], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Baseball Jersey"], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.6ms)[0m  [1m[34mSELECT "spree_option_types".* FROM "spree_option_types" INNER JOIN "spree_product_option_types" ON "spree_option_types"."id" = "spree_product_option_types"."option_type_id" WHERE "spree_product_option_types"."product_id" = $1 ORDER BY "spree_option_types"."position" ASC[0m  [["product_id", 8]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::ProductOptionType Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_product_option_types" WHERE "spree_product_option_types"."product_id" = $1 AND "spree_product_option_types"."option_type_id" = $2 LIMIT $3[0m  [["product_id", 8], ["option_type_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::ProductOptionType Load (0.8ms)[0m  [1m[34mSELECT  "spree_product_option_types".* FROM "spree_product_option_types" WHERE "spree_product_option_types"."product_id" = $1 AND ("spree_product_option_types"."position" IS NOT NULL) ORDER BY "spree_product_option_types"."position" DESC LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "spree_product_option_types" ("position", "product_id", "option_type_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["position", 1], ["product_id", 8], ["option_type_id", 1], ["created_at", "2017-07-26 11:02:00.461234"], ["updated_at", "2017-07-26 11:02:00.461234"]]
  [1m[36mSpree::ProductOptionType Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_product_option_types" WHERE "spree_product_option_types"."product_id" = $1 AND "spree_product_option_types"."option_type_id" = $2 LIMIT $3[0m  [["product_id", 8], ["option_type_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::ProductOptionType Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_option_types".* FROM "spree_product_option_types" WHERE "spree_product_option_types"."product_id" = $1 AND ("spree_product_option_types"."position" IS NOT NULL) ORDER BY "spree_product_option_types"."position" DESC LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_product_option_types" ("position", "product_id", "option_type_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["position", 2], ["product_id", 8], ["option_type_id", 2], ["created_at", "2017-07-26 11:02:00.470135"], ["updated_at", "2017-07-26 11:02:00.470135"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 8], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.4ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 8], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "spree-baseball-jersey"], ["id", 8], ["LIMIT", 1]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 8], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 8], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Baseball Jersey"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (14.9ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Manufacturer"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "spree_properties" ("name", "presentation", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Manufacturer"], ["presentation", "Manufacturer"], ["created_at", "2017-07-26 11:02:00.539069"], ["updated_at", "2017-07-26 11:02:00.539069"]]
  [1m[36mSpree::ProductProperty Load (20.9ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 3 AND "spree_product_properties"."property_id" = 1 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.9ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Wilson"], ["product_id", 3], ["property_id", 1], ["created_at", "2017-07-26 11:02:00.594201"], ["updated_at", "2017-07-26 11:02:00.594201"], ["position", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:00.601824' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:00.609764' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:00.614320' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Brand"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_properties" ("name", "presentation", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Brand"], ["presentation", "Brand"], ["created_at", "2017-07-26 11:02:00.619748"], ["updated_at", "2017-07-26 11:02:00.619748"]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 3 AND "spree_product_properties"."property_id" = 2 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.9ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Wannabe Sports"], ["product_id", 3], ["property_id", 2], ["created_at", "2017-07-26 11:02:00.625663"], ["updated_at", "2017-07-26 11:02:00.625663"], ["position", 2]]
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:00.635291' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:00.646136' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:00.652245' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Model"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_properties" ("name", "presentation", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Model"], ["presentation", "Model"], ["created_at", "2017-07-26 11:02:00.657965"], ["updated_at", "2017-07-26 11:02:00.657965"]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 3 AND "spree_product_properties"."property_id" = 3 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "JK1002"], ["product_id", 3], ["property_id", 3], ["created_at", "2017-07-26 11:02:00.664429"], ["updated_at", "2017-07-26 11:02:00.664429"], ["position", 3]]
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:00.671089' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:00.680696' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:00.686184' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Shirt Type"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_properties" ("name", "presentation", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Shirt Type"], ["presentation", "Shirt Type"], ["created_at", "2017-07-26 11:02:00.691938"], ["updated_at", "2017-07-26 11:02:00.691938"]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 3 AND "spree_product_properties"."property_id" = 4 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.5ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.7ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Baseball Jersey"], ["product_id", 3], ["property_id", 4], ["created_at", "2017-07-26 11:02:00.699037"], ["updated_at", "2017-07-26 11:02:00.699037"], ["position", 4]]
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:00.707230' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:00.716701' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:00.721874' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Sleeve Type"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_properties" ("name", "presentation", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Sleeve Type"], ["presentation", "Sleeve Type"], ["created_at", "2017-07-26 11:02:00.728001"], ["updated_at", "2017-07-26 11:02:00.728001"]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 3 AND "spree_product_properties"."property_id" = 5 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.5ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.7ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Long"], ["product_id", 3], ["property_id", 5], ["created_at", "2017-07-26 11:02:00.734711"], ["updated_at", "2017-07-26 11:02:00.734711"], ["position", 5]]
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:00.743502' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:00.752909' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:00.759175' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Made from"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_properties" ("name", "presentation", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Made from"], ["presentation", "Made from"], ["created_at", "2017-07-26 11:02:00.765060"], ["updated_at", "2017-07-26 11:02:00.765060"]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 3 AND "spree_product_properties"."property_id" = 6 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.7ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "100% cotton"], ["product_id", 3], ["property_id", 6], ["created_at", "2017-07-26 11:02:00.772116"], ["updated_at", "2017-07-26 11:02:00.772116"], ["position", 6]]
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:00.779347' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:00.788165' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:00.794209' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Fit"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_properties" ("name", "presentation", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Fit"], ["presentation", "Fit"], ["created_at", "2017-07-26 11:02:00.799791"], ["updated_at", "2017-07-26 11:02:00.799791"]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 3 AND "spree_product_properties"."property_id" = 7 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Loose"], ["product_id", 3], ["property_id", 7], ["created_at", "2017-07-26 11:02:00.806289"], ["updated_at", "2017-07-26 11:02:00.806289"], ["position", 7]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:00.813717' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:00.822943' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:00.828272' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Gender"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_properties" ("name", "presentation", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Gender"], ["presentation", "Gender"], ["created_at", "2017-07-26 11:02:00.833960"], ["updated_at", "2017-07-26 11:02:00.833960"]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 3 AND "spree_product_properties"."property_id" = 8 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Men's"], ["product_id", 3], ["property_id", 8], ["created_at", "2017-07-26 11:02:00.840483"], ["updated_at", "2017-07-26 11:02:00.840483"], ["position", 8]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:00.848045' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:00.857359' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:00.862116' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Jr. Spaghetti"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Manufacturer"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 4 AND "spree_product_properties"."property_id" = 1 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.8ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Jerseys"], ["product_id", 4], ["property_id", 1], ["created_at", "2017-07-26 11:02:00.873850"], ["updated_at", "2017-07-26 11:02:00.873850"], ["position", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:00.880809' WHERE "spree_products"."id" = $1[0m  [["id", 4]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 4]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:00.888544' WHERE "spree_taxons"."id" IN (1, 5, 6, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:00.893757' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Brand"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 4 AND "spree_product_properties"."property_id" = 2 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.7ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Resiliance"], ["product_id", 4], ["property_id", 2], ["created_at", "2017-07-26 11:02:00.912467"], ["updated_at", "2017-07-26 11:02:00.912467"], ["position", 2]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:00.918190' WHERE "spree_products"."id" = $1[0m  [["id", 4]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 4]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:00.925234' WHERE "spree_taxons"."id" IN (1, 5, 6, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:00.929431' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Model"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 4 AND "spree_product_properties"."property_id" = 3 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.7ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "TL174"], ["product_id", 4], ["property_id", 3], ["created_at", "2017-07-26 11:02:00.937888"], ["updated_at", "2017-07-26 11:02:00.937888"], ["position", 3]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:00.943385' WHERE "spree_products"."id" = $1[0m  [["id", 4]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 4]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:00.950447' WHERE "spree_taxons"."id" IN (1, 5, 6, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:00.954596' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Shirt Type"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 4 AND "spree_product_properties"."property_id" = 4 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Jr. Spaghetti T"], ["product_id", 4], ["property_id", 4], ["created_at", "2017-07-26 11:02:00.963030"], ["updated_at", "2017-07-26 11:02:00.963030"], ["position", 4]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:00.968533' WHERE "spree_products"."id" = $1[0m  [["id", 4]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 4]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:00.975689' WHERE "spree_taxons"."id" IN (1, 5, 6, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:00.979862' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Sleeve Type"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 4 AND "spree_product_properties"."property_id" = 5 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "None"], ["product_id", 4], ["property_id", 5], ["created_at", "2017-07-26 11:02:00.988312"], ["updated_at", "2017-07-26 11:02:00.988312"], ["position", 5]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:00.993633' WHERE "spree_products"."id" = $1[0m  [["id", 4]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 4]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.000744' WHERE "spree_taxons"."id" IN (1, 5, 6, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.005164' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Made from"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 4 AND "spree_product_properties"."property_id" = 6 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.5ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.7ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "90% Cotton, 10% Nylon"], ["product_id", 4], ["property_id", 6], ["created_at", "2017-07-26 11:02:01.013892"], ["updated_at", "2017-07-26 11:02:01.013892"], ["position", 6]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.020123' WHERE "spree_products"."id" = $1[0m  [["id", 4]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 4]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.027070' WHERE "spree_taxons"."id" IN (1, 5, 6, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.031391' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Fit"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 4 AND "spree_product_properties"."property_id" = 7 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.7ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Form"], ["product_id", 4], ["property_id", 7], ["created_at", "2017-07-26 11:02:01.039584"], ["updated_at", "2017-07-26 11:02:01.039584"], ["position", 7]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.045352' WHERE "spree_products"."id" = $1[0m  [["id", 4]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 4]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.052253' WHERE "spree_taxons"."id" IN (1, 5, 6, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.056467' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Gender"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 4 AND "spree_product_properties"."property_id" = 8 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Women's"], ["product_id", 4], ["property_id", 8], ["created_at", "2017-07-26 11:02:01.064397"], ["updated_at", "2017-07-26 11:02:01.064397"], ["position", 8]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.070415' WHERE "spree_products"."id" = $1[0m  [["id", 4]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 4]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.077720' WHERE "spree_taxons"."id" IN (1, 5, 6, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.081940' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Ringer T-Shirt"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Manufacturer"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 5 AND "spree_product_properties"."property_id" = 1 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Jerseys"], ["product_id", 5], ["property_id", 1], ["created_at", "2017-07-26 11:02:01.092106"], ["updated_at", "2017-07-26 11:02:01.092106"], ["position", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.097987' WHERE "spree_products"."id" = $1[0m  [["id", 5]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 5]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.104975' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.109203' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Brand"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 5 AND "spree_product_properties"."property_id" = 2 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Conditioned"], ["product_id", 5], ["property_id", 2], ["created_at", "2017-07-26 11:02:01.117373"], ["updated_at", "2017-07-26 11:02:01.117373"], ["position", 2]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.123050' WHERE "spree_products"."id" = $1[0m  [["id", 5]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 5]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.131031' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.135201' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Model"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 5 AND "spree_product_properties"."property_id" = 3 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.8ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "TL9002"], ["product_id", 5], ["property_id", 3], ["created_at", "2017-07-26 11:02:01.144870"], ["updated_at", "2017-07-26 11:02:01.144870"], ["position", 3]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.150529' WHERE "spree_products"."id" = $1[0m  [["id", 5]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 5]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.157428' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.162113' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.5ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Shirt Type"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 5 AND "spree_product_properties"."property_id" = 4 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Ringer T"], ["product_id", 5], ["property_id", 4], ["created_at", "2017-07-26 11:02:01.170670"], ["updated_at", "2017-07-26 11:02:01.170670"], ["position", 4]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.176800' WHERE "spree_products"."id" = $1[0m  [["id", 5]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 5]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.183586' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.187840' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Sleeve Type"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 5 AND "spree_product_properties"."property_id" = 5 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Short"], ["product_id", 5], ["property_id", 5], ["created_at", "2017-07-26 11:02:01.196221"], ["updated_at", "2017-07-26 11:02:01.196221"], ["position", 5]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.201629' WHERE "spree_products"."id" = $1[0m  [["id", 5]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 5]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.208474' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.212674' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Made from"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 5 AND "spree_product_properties"."property_id" = 6 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.7ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "100% Vellum"], ["product_id", 5], ["property_id", 6], ["created_at", "2017-07-26 11:02:01.221032"], ["updated_at", "2017-07-26 11:02:01.221032"], ["position", 6]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.226572' WHERE "spree_products"."id" = $1[0m  [["id", 5]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 5]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.233408' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.237865' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Fit"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 5 AND "spree_product_properties"."property_id" = 7 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Loose"], ["product_id", 5], ["property_id", 7], ["created_at", "2017-07-26 11:02:01.247077"], ["updated_at", "2017-07-26 11:02:01.247077"], ["position", 7]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.252523' WHERE "spree_products"."id" = $1[0m  [["id", 5]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 5]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.259913' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.264362' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Gender"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 5 AND "spree_product_properties"."property_id" = 8 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.7ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Men's"], ["product_id", 5], ["property_id", 8], ["created_at", "2017-07-26 11:02:01.272624"], ["updated_at", "2017-07-26 11:02:01.272624"], ["position", 8]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.278184' WHERE "spree_products"."id" = $1[0m  [["id", 5]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 5]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.285120' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.289430' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Tote"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Type"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_properties" ("name", "presentation", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Type"], ["presentation", "Type"], ["created_at", "2017-07-26 11:02:01.296076"], ["updated_at", "2017-07-26 11:02:01.296076"]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 1 AND "spree_product_properties"."property_id" = 9 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Tote"], ["product_id", 1], ["property_id", 9], ["created_at", "2017-07-26 11:02:01.301159"], ["updated_at", "2017-07-26 11:02:01.301159"], ["position", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.306677' WHERE "spree_products"."id" = $1[0m  [["id", 1]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 1]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.313566' WHERE "spree_taxons"."id" IN (1, 3, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.317706' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Size"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_properties" ("name", "presentation", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Size"], ["presentation", "Size"], ["created_at", "2017-07-26 11:02:01.322623"], ["updated_at", "2017-07-26 11:02:01.322623"]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 1 AND "spree_product_properties"."property_id" = 10 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.7ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "15\" x 18\" x 6\""], ["product_id", 1], ["property_id", 10], ["created_at", "2017-07-26 11:02:01.327828"], ["updated_at", "2017-07-26 11:02:01.327828"], ["position", 2]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.333494' WHERE "spree_products"."id" = $1[0m  [["id", 1]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 1]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.340361' WHERE "spree_taxons"."id" IN (1, 3, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.344432' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Material"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_properties" ("name", "presentation", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Material"], ["presentation", "Material"], ["created_at", "2017-07-26 11:02:01.349477"], ["updated_at", "2017-07-26 11:02:01.349477"]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 1 AND "spree_product_properties"."property_id" = 11 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.7ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Canvas"], ["product_id", 1], ["property_id", 11], ["created_at", "2017-07-26 11:02:01.354945"], ["updated_at", "2017-07-26 11:02:01.354945"], ["position", 3]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.360606' WHERE "spree_products"."id" = $1[0m  [["id", 1]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 1]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.367813' WHERE "spree_taxons"."id" IN (1, 3, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.372075' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Bag"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Type"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 2 AND "spree_product_properties"."property_id" = 9 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Messenger"], ["product_id", 2], ["property_id", 9], ["created_at", "2017-07-26 11:02:01.382283"], ["updated_at", "2017-07-26 11:02:01.382283"], ["position", 1]]
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.392294' WHERE "spree_products"."id" = $1[0m  [["id", 2]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 2]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.399769' WHERE "spree_taxons"."id" IN (1, 3, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.404087' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Size"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 2 AND "spree_product_properties"."property_id" = 10 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "14 1/2\" x 12\" x 5\""], ["product_id", 2], ["property_id", 10], ["created_at", "2017-07-26 11:02:01.412327"], ["updated_at", "2017-07-26 11:02:01.412327"], ["position", 2]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.417755' WHERE "spree_products"."id" = $1[0m  [["id", 2]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 2]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.424720' WHERE "spree_taxons"."id" IN (1, 3, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.428957' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Material"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 2 AND "spree_product_properties"."property_id" = 11 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "600 Denier Polyester"], ["product_id", 2], ["property_id", 11], ["created_at", "2017-07-26 11:02:01.437228"], ["updated_at", "2017-07-26 11:02:01.437228"], ["position", 3]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.442618' WHERE "spree_products"."id" = $1[0m  [["id", 2]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 2]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.450040' WHERE "spree_taxons"."id" IN (1, 3, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.454180' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Mug"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Type"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 13 AND "spree_product_properties"."property_id" = 9 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Mug"], ["product_id", 13], ["property_id", 9], ["created_at", "2017-07-26 11:02:01.463645"], ["updated_at", "2017-07-26 11:02:01.463645"], ["position", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.469022' WHERE "spree_products"."id" = $1[0m  [["id", 13]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 13]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.475763' WHERE "spree_taxons"."id" IN (2, 11, 1, 4)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.479810' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Size"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 13 AND "spree_product_properties"."property_id" = 10 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.7ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "4.5\" tall, 3.25\" dia."], ["product_id", 13], ["property_id", 10], ["created_at", "2017-07-26 11:02:01.488494"], ["updated_at", "2017-07-26 11:02:01.488494"], ["position", 2]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.494190' WHERE "spree_products"."id" = $1[0m  [["id", 13]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 13]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.501476' WHERE "spree_taxons"."id" IN (2, 11, 1, 4)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.505518' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Stein"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Type"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 14 AND "spree_product_properties"."property_id" = 9 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.5ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.7ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 14], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Stein"], ["product_id", 14], ["property_id", 9], ["created_at", "2017-07-26 11:02:01.515496"], ["updated_at", "2017-07-26 11:02:01.515496"], ["position", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.521476' WHERE "spree_products"."id" = $1[0m  [["id", 14]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 14]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.528272' WHERE "spree_taxons"."id" IN (2, 11, 1, 4)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.532299' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Size"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.9ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 14 AND "spree_product_properties"."property_id" = 10 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 14], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "6.75\" tall, 3.75\" dia. base, 3\" dia. rim"], ["product_id", 14], ["property_id", 10], ["created_at", "2017-07-26 11:02:01.541112"], ["updated_at", "2017-07-26 11:02:01.541112"], ["position", 2]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.546486' WHERE "spree_products"."id" = $1[0m  [["id", 14]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 14]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.553349' WHERE "spree_taxons"."id" IN (2, 11, 1, 4)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.557547' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Stein"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Type"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 15 AND "spree_product_properties"."property_id" = 9 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.7ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 15], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Stein"], ["product_id", 15], ["property_id", 9], ["created_at", "2017-07-26 11:02:01.567992"], ["updated_at", "2017-07-26 11:02:01.567992"], ["position", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.574170' WHERE "spree_products"."id" = $1[0m  [["id", 15]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 15]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.580915' WHERE "spree_taxons"."id" IN (2, 10, 1, 4)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.585155' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Size"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 15 AND "spree_product_properties"."property_id" = 10 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 15], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "6.75\" tall, 3.75\" dia. base, 3\" dia. rim"], ["product_id", 15], ["property_id", 10], ["created_at", "2017-07-26 11:02:01.594306"], ["updated_at", "2017-07-26 11:02:01.594306"], ["position", 2]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.599872' WHERE "spree_products"."id" = $1[0m  [["id", 15]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 15]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.606810' WHERE "spree_taxons"."id" IN (2, 10, 1, 4)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.611344' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Mug"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Type"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 16 AND "spree_product_properties"."property_id" = 9 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.7ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 16], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Mug"], ["product_id", 16], ["property_id", 9], ["created_at", "2017-07-26 11:02:01.621548"], ["updated_at", "2017-07-26 11:02:01.621548"], ["position", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.627009' WHERE "spree_products"."id" = $1[0m  [["id", 16]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 16]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.635093' WHERE "spree_taxons"."id" IN (2, 10, 1, 4)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.639806' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Size"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 16 AND "spree_product_properties"."property_id" = 10 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 16], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "4.5\" tall, 3.25\" dia."], ["product_id", 16], ["property_id", 10], ["created_at", "2017-07-26 11:02:01.649044"], ["updated_at", "2017-07-26 11:02:01.649044"], ["position", 2]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.654659' WHERE "spree_products"."id" = $1[0m  [["id", 16]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 16]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.661685' WHERE "spree_taxons"."id" IN (2, 10, 1, 4)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.665959' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Tote"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Type"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 11 AND "spree_product_properties"."property_id" = 9 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.7ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Tote"], ["product_id", 11], ["property_id", 9], ["created_at", "2017-07-26 11:02:01.676060"], ["updated_at", "2017-07-26 11:02:01.676060"], ["position", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.681405' WHERE "spree_products"."id" = $1[0m  [["id", 11]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 11]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.688328' WHERE "spree_taxons"."id" IN (1, 3, 2, 10)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.692582' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.2ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Size"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 11 AND "spree_product_properties"."property_id" = 10 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "15\" x 18\" x 6\""], ["product_id", 11], ["property_id", 10], ["created_at", "2017-07-26 11:02:01.701056"], ["updated_at", "2017-07-26 11:02:01.701056"], ["position", 2]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.706691' WHERE "spree_products"."id" = $1[0m  [["id", 11]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 11]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.713380' WHERE "spree_taxons"."id" IN (1, 3, 2, 10)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.717463' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Bag"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Type"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 12 AND "spree_product_properties"."property_id" = 9 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Messenger"], ["product_id", 12], ["property_id", 9], ["created_at", "2017-07-26 11:02:01.727390"], ["updated_at", "2017-07-26 11:02:01.727390"], ["position", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.732659' WHERE "spree_products"."id" = $1[0m  [["id", 12]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 12]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.739636' WHERE "spree_taxons"."id" IN (1, 3, 2, 10)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.743949' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Size"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 12 AND "spree_product_properties"."property_id" = 10 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "14 1/2\" x 12\" x 5\""], ["product_id", 12], ["property_id", 10], ["created_at", "2017-07-26 11:02:01.752290"], ["updated_at", "2017-07-26 11:02:01.752290"], ["position", 2]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.758049' WHERE "spree_products"."id" = $1[0m  [["id", 12]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 12]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.765038' WHERE "spree_taxons"."id" IN (1, 3, 2, 10)[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.770896' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Baseball Jersey"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Manufacturer"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 8 AND "spree_product_properties"."property_id" = 1 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Wilson"], ["product_id", 8], ["property_id", 1], ["created_at", "2017-07-26 11:02:01.781118"], ["updated_at", "2017-07-26 11:02:01.781118"], ["position", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.786345' WHERE "spree_products"."id" = $1[0m  [["id", 8]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 8]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.793596' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 10)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.798125' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Brand"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 8 AND "spree_product_properties"."property_id" = 2 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.7ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Wannabe Sports"], ["product_id", 8], ["property_id", 2], ["created_at", "2017-07-26 11:02:01.806806"], ["updated_at", "2017-07-26 11:02:01.806806"], ["position", 2]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.812647' WHERE "spree_products"."id" = $1[0m  [["id", 8]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 8]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.819842' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 10)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.824280' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Model"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 8 AND "spree_product_properties"."property_id" = 3 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "JK1002"], ["product_id", 8], ["property_id", 3], ["created_at", "2017-07-26 11:02:01.832300"], ["updated_at", "2017-07-26 11:02:01.832300"], ["position", 3]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.837738' WHERE "spree_products"."id" = $1[0m  [["id", 8]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 8]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.844919' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 10)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.849152' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Shirt Type"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 8 AND "spree_product_properties"."property_id" = 4 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Baseball Jersey"], ["product_id", 8], ["property_id", 4], ["created_at", "2017-07-26 11:02:01.857714"], ["updated_at", "2017-07-26 11:02:01.857714"], ["position", 4]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.866452' WHERE "spree_products"."id" = $1[0m  [["id", 8]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 8]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.873426' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 10)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.877807' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Sleeve Type"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 8 AND "spree_product_properties"."property_id" = 5 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Long"], ["product_id", 8], ["property_id", 5], ["created_at", "2017-07-26 11:02:01.886217"], ["updated_at", "2017-07-26 11:02:01.886217"], ["position", 5]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.891945' WHERE "spree_products"."id" = $1[0m  [["id", 8]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 8]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.899068' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 10)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.903262' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Made from"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 8 AND "spree_product_properties"."property_id" = 6 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.7ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "100% cotton"], ["product_id", 8], ["property_id", 6], ["created_at", "2017-07-26 11:02:01.912050"], ["updated_at", "2017-07-26 11:02:01.912050"], ["position", 6]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.918068' WHERE "spree_products"."id" = $1[0m  [["id", 8]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 8]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.925023' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 10)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.929242' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Fit"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 8 AND "spree_product_properties"."property_id" = 7 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Loose"], ["product_id", 8], ["property_id", 7], ["created_at", "2017-07-26 11:02:01.937694"], ["updated_at", "2017-07-26 11:02:01.937694"], ["position", 7]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.943587' WHERE "spree_products"."id" = $1[0m  [["id", 8]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 8]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.950730' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 10)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.954857' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Gender"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 8 AND "spree_product_properties"."property_id" = 8 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Men's"], ["product_id", 8], ["property_id", 8], ["created_at", "2017-07-26 11:02:01.963694"], ["updated_at", "2017-07-26 11:02:01.963694"], ["position", 8]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.969010' WHERE "spree_products"."id" = $1[0m  [["id", 8]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 8]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:01.976300' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 10)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:01.980600' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Jr. Spaghetti"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Manufacturer"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 9 AND "spree_product_properties"."property_id" = 1 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Jerseys"], ["product_id", 9], ["property_id", 1], ["created_at", "2017-07-26 11:02:01.990168"], ["updated_at", "2017-07-26 11:02:01.990168"], ["position", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:01.995907' WHERE "spree_products"."id" = $1[0m  [["id", 9]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 9]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:02.002865' WHERE "spree_taxons"."id" IN (2, 10, 1, 5, 6)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:02.007145' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Brand"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 9 AND "spree_product_properties"."property_id" = 2 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.8ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Resiliance"], ["product_id", 9], ["property_id", 2], ["created_at", "2017-07-26 11:02:02.015575"], ["updated_at", "2017-07-26 11:02:02.015575"], ["position", 2]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:02.021883' WHERE "spree_products"."id" = $1[0m  [["id", 9]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 9]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:02.028893' WHERE "spree_taxons"."id" IN (2, 10, 1, 5, 6)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:02.033017' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Model"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 9 AND "spree_product_properties"."property_id" = 3 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.8ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "TL174"], ["product_id", 9], ["property_id", 3], ["created_at", "2017-07-26 11:02:02.041916"], ["updated_at", "2017-07-26 11:02:02.041916"], ["position", 3]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:02.048239' WHERE "spree_products"."id" = $1[0m  [["id", 9]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 9]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:02.055381' WHERE "spree_taxons"."id" IN (2, 10, 1, 5, 6)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:02.059654' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Shirt Type"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 9 AND "spree_product_properties"."property_id" = 4 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Jr. Spaghetti T"], ["product_id", 9], ["property_id", 4], ["created_at", "2017-07-26 11:02:02.068128"], ["updated_at", "2017-07-26 11:02:02.068128"], ["position", 4]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:02.073788' WHERE "spree_products"."id" = $1[0m  [["id", 9]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 9]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:02.080491' WHERE "spree_taxons"."id" IN (2, 10, 1, 5, 6)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:02.084589' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Sleeve Type"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 9 AND "spree_product_properties"."property_id" = 5 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "None"], ["product_id", 9], ["property_id", 5], ["created_at", "2017-07-26 11:02:02.093163"], ["updated_at", "2017-07-26 11:02:02.093163"], ["position", 5]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:02.098890' WHERE "spree_products"."id" = $1[0m  [["id", 9]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 9]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:02.105723' WHERE "spree_taxons"."id" IN (2, 10, 1, 5, 6)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:02.109972' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Made from"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 9 AND "spree_product_properties"."property_id" = 6 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "90% Cotton, 10% Nylon"], ["product_id", 9], ["property_id", 6], ["created_at", "2017-07-26 11:02:02.119111"], ["updated_at", "2017-07-26 11:02:02.119111"], ["position", 6]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:02.124882' WHERE "spree_products"."id" = $1[0m  [["id", 9]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 9]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:02.132823' WHERE "spree_taxons"."id" IN (2, 10, 1, 5, 6)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:02.136964' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.5ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Fit"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 9 AND "spree_product_properties"."property_id" = 7 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Form"], ["product_id", 9], ["property_id", 7], ["created_at", "2017-07-26 11:02:02.146892"], ["updated_at", "2017-07-26 11:02:02.146892"], ["position", 7]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:02.152224' WHERE "spree_products"."id" = $1[0m  [["id", 9]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 9]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:02.159584' WHERE "spree_taxons"."id" IN (2, 10, 1, 5, 6)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:02.163706' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Gender"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 9 AND "spree_product_properties"."property_id" = 8 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Women's"], ["product_id", 9], ["property_id", 8], ["created_at", "2017-07-26 11:02:02.172440"], ["updated_at", "2017-07-26 11:02:02.172440"], ["position", 8]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:02.177882' WHERE "spree_products"."id" = $1[0m  [["id", 9]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 9]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:02.184784' WHERE "spree_taxons"."id" IN (2, 10, 1, 5, 6)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:02.189143' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Ringer T-Shirt"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Manufacturer"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 10 AND "spree_product_properties"."property_id" = 1 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Jerseys"], ["product_id", 10], ["property_id", 1], ["created_at", "2017-07-26 11:02:02.198812"], ["updated_at", "2017-07-26 11:02:02.198812"], ["position", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:02.204493' WHERE "spree_products"."id" = $1[0m  [["id", 10]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 10]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:02.211684' WHERE "spree_taxons"."id" IN (2, 10, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:02.215919' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Brand"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 10 AND "spree_product_properties"."property_id" = 2 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Conditioned"], ["product_id", 10], ["property_id", 2], ["created_at", "2017-07-26 11:02:02.224252"], ["updated_at", "2017-07-26 11:02:02.224252"], ["position", 2]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:02.229697' WHERE "spree_products"."id" = $1[0m  [["id", 10]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 10]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:02.236688' WHERE "spree_taxons"."id" IN (2, 10, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:02.241041' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Model"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 10 AND "spree_product_properties"."property_id" = 3 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "TL9002"], ["product_id", 10], ["property_id", 3], ["created_at", "2017-07-26 11:02:02.249551"], ["updated_at", "2017-07-26 11:02:02.249551"], ["position", 3]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:02.255052' WHERE "spree_products"."id" = $1[0m  [["id", 10]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 10]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:02.262645' WHERE "spree_taxons"."id" IN (2, 10, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:02.266914' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Shirt Type"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.4ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 10 AND "spree_product_properties"."property_id" = 4 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Ringer T"], ["product_id", 10], ["property_id", 4], ["created_at", "2017-07-26 11:02:02.275978"], ["updated_at", "2017-07-26 11:02:02.275978"], ["position", 4]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:02.281468' WHERE "spree_products"."id" = $1[0m  [["id", 10]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 10]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:02.288375' WHERE "spree_taxons"."id" IN (2, 10, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:02.292666' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Sleeve Type"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 10 AND "spree_product_properties"."property_id" = 5 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Short"], ["product_id", 10], ["property_id", 5], ["created_at", "2017-07-26 11:02:02.300660"], ["updated_at", "2017-07-26 11:02:02.300660"], ["position", 5]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:02.306302' WHERE "spree_products"."id" = $1[0m  [["id", 10]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 10]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:02.313238' WHERE "spree_taxons"."id" IN (2, 10, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:02.317393' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Made from"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 10 AND "spree_product_properties"."property_id" = 6 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "100% Vellum"], ["product_id", 10], ["property_id", 6], ["created_at", "2017-07-26 11:02:02.325623"], ["updated_at", "2017-07-26 11:02:02.325623"], ["position", 6]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:02.331170' WHERE "spree_products"."id" = $1[0m  [["id", 10]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 10]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:02.338244' WHERE "spree_taxons"."id" IN (2, 10, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:02.345362' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Fit"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 10 AND "spree_product_properties"."property_id" = 7 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Loose"], ["product_id", 10], ["property_id", 7], ["created_at", "2017-07-26 11:02:02.353905"], ["updated_at", "2017-07-26 11:02:02.353905"], ["position", 7]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:02.359321' WHERE "spree_products"."id" = $1[0m  [["id", 10]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 10]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:02.366145' WHERE "spree_taxons"."id" IN (2, 10, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:02.370367' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "Gender"], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.5ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = 10 AND "spree_product_properties"."property_id" = 8 ORDER BY "spree_product_properties"."position" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT  "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 AND ("spree_product_properties"."position" IS NOT NULL) ORDER BY "spree_product_properties"."position" DESC LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_product_properties" ("value", "product_id", "property_id", "created_at", "updated_at", "position") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", "Men's"], ["product_id", 10], ["property_id", 8], ["created_at", "2017-07-26 11:02:02.379190"], ["updated_at", "2017-07-26 11:02:02.379190"], ["position", 8]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:02.384586' WHERE "spree_products"."id" = $1[0m  [["id", 10]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 10]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:02.391385' WHERE "spree_taxons"."id" IN (2, 10, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:02.395751' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Prototype Load (3.0ms)[0m  [1m[34mSELECT  "spree_prototypes".* FROM "spree_prototypes" WHERE "spree_prototypes"."name" = $1 ORDER BY "spree_prototypes"."id" ASC LIMIT $2[0m  [["name", "Shirt"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_prototypes" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Shirt"], ["created_at", "2017-07-26 11:02:02.425716"], ["updated_at", "2017-07-26 11:02:02.425716"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 ORDER BY "spree_properties"."id" ASC LIMIT $2[0m  [["name", "Manufacturer"], ["LIMIT", 1]]
  [1m[36mSpree::Property Exists (15.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_properties" INNER JOIN "spree_property_prototypes" ON "spree_properties"."id" = "spree_property_prototypes"."property_id" WHERE "spree_property_prototypes"."prototype_id" = $1 AND "spree_properties"."id" = $2 LIMIT $3[0m  [["prototype_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PropertyPrototype Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_property_prototypes" WHERE "spree_property_prototypes"."prototype_id" = $1 AND "spree_property_prototypes"."property_id" = $2 LIMIT $3[0m  [["prototype_id", 1], ["property_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_property_prototypes" ("prototype_id", "property_id") VALUES ($1, $2) RETURNING "id"[0m  [["prototype_id", 1], ["property_id", 1]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Property Load (0.5ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 ORDER BY "spree_properties"."id" ASC LIMIT $2[0m  [["name", "Brand"], ["LIMIT", 1]]
  [1m[36mSpree::Property Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_properties" INNER JOIN "spree_property_prototypes" ON "spree_properties"."id" = "spree_property_prototypes"."property_id" WHERE "spree_property_prototypes"."prototype_id" = $1 AND "spree_properties"."id" = $2 LIMIT $3[0m  [["prototype_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PropertyPrototype Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_property_prototypes" WHERE "spree_property_prototypes"."prototype_id" = $1 AND "spree_property_prototypes"."property_id" = $2 LIMIT $3[0m  [["prototype_id", 1], ["property_id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_property_prototypes" ("prototype_id", "property_id") VALUES ($1, $2) RETURNING "id"[0m  [["prototype_id", 1], ["property_id", 2]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Property Load (0.5ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 ORDER BY "spree_properties"."id" ASC LIMIT $2[0m  [["name", "Model"], ["LIMIT", 1]]
  [1m[36mSpree::Property Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_properties" INNER JOIN "spree_property_prototypes" ON "spree_properties"."id" = "spree_property_prototypes"."property_id" WHERE "spree_property_prototypes"."prototype_id" = $1 AND "spree_properties"."id" = $2 LIMIT $3[0m  [["prototype_id", 1], ["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PropertyPrototype Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_property_prototypes" WHERE "spree_property_prototypes"."prototype_id" = $1 AND "spree_property_prototypes"."property_id" = $2 LIMIT $3[0m  [["prototype_id", 1], ["property_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_property_prototypes" ("prototype_id", "property_id") VALUES ($1, $2) RETURNING "id"[0m  [["prototype_id", 1], ["property_id", 3]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Property Load (0.6ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 ORDER BY "spree_properties"."id" ASC LIMIT $2[0m  [["name", "Shirt Type"], ["LIMIT", 1]]
  [1m[36mSpree::Property Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_properties" INNER JOIN "spree_property_prototypes" ON "spree_properties"."id" = "spree_property_prototypes"."property_id" WHERE "spree_property_prototypes"."prototype_id" = $1 AND "spree_properties"."id" = $2 LIMIT $3[0m  [["prototype_id", 1], ["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PropertyPrototype Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_property_prototypes" WHERE "spree_property_prototypes"."prototype_id" = $1 AND "spree_property_prototypes"."property_id" = $2 LIMIT $3[0m  [["prototype_id", 1], ["property_id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_property_prototypes" ("prototype_id", "property_id") VALUES ($1, $2) RETURNING "id"[0m  [["prototype_id", 1], ["property_id", 4]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Property Load (0.5ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 ORDER BY "spree_properties"."id" ASC LIMIT $2[0m  [["name", "Sleeve Type"], ["LIMIT", 1]]
  [1m[36mSpree::Property Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_properties" INNER JOIN "spree_property_prototypes" ON "spree_properties"."id" = "spree_property_prototypes"."property_id" WHERE "spree_property_prototypes"."prototype_id" = $1 AND "spree_properties"."id" = $2 LIMIT $3[0m  [["prototype_id", 1], ["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PropertyPrototype Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_property_prototypes" WHERE "spree_property_prototypes"."prototype_id" = $1 AND "spree_property_prototypes"."property_id" = $2 LIMIT $3[0m  [["prototype_id", 1], ["property_id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_property_prototypes" ("prototype_id", "property_id") VALUES ($1, $2) RETURNING "id"[0m  [["prototype_id", 1], ["property_id", 5]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Property Load (0.5ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 ORDER BY "spree_properties"."id" ASC LIMIT $2[0m  [["name", "Material"], ["LIMIT", 1]]
  [1m[36mSpree::Property Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_properties" INNER JOIN "spree_property_prototypes" ON "spree_properties"."id" = "spree_property_prototypes"."property_id" WHERE "spree_property_prototypes"."prototype_id" = $1 AND "spree_properties"."id" = $2 LIMIT $3[0m  [["prototype_id", 1], ["id", 11], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PropertyPrototype Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_property_prototypes" WHERE "spree_property_prototypes"."prototype_id" = $1 AND "spree_property_prototypes"."property_id" = $2 LIMIT $3[0m  [["prototype_id", 1], ["property_id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_property_prototypes" ("prototype_id", "property_id") VALUES ($1, $2) RETURNING "id"[0m  [["prototype_id", 1], ["property_id", 11]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Property Load (0.5ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 ORDER BY "spree_properties"."id" ASC LIMIT $2[0m  [["name", "Fit"], ["LIMIT", 1]]
  [1m[36mSpree::Property Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_properties" INNER JOIN "spree_property_prototypes" ON "spree_properties"."id" = "spree_property_prototypes"."property_id" WHERE "spree_property_prototypes"."prototype_id" = $1 AND "spree_properties"."id" = $2 LIMIT $3[0m  [["prototype_id", 1], ["id", 7], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PropertyPrototype Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_property_prototypes" WHERE "spree_property_prototypes"."prototype_id" = $1 AND "spree_property_prototypes"."property_id" = $2 LIMIT $3[0m  [["prototype_id", 1], ["property_id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_property_prototypes" ("prototype_id", "property_id") VALUES ($1, $2) RETURNING "id"[0m  [["prototype_id", 1], ["property_id", 7]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 ORDER BY "spree_properties"."id" ASC LIMIT $2[0m  [["name", "Gender"], ["LIMIT", 1]]
  [1m[36mSpree::Property Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_properties" INNER JOIN "spree_property_prototypes" ON "spree_properties"."id" = "spree_property_prototypes"."property_id" WHERE "spree_property_prototypes"."prototype_id" = $1 AND "spree_properties"."id" = $2 LIMIT $3[0m  [["prototype_id", 1], ["id", 8], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PropertyPrototype Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_property_prototypes" WHERE "spree_property_prototypes"."prototype_id" = $1 AND "spree_property_prototypes"."property_id" = $2 LIMIT $3[0m  [["prototype_id", 1], ["property_id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_property_prototypes" ("prototype_id", "property_id") VALUES ($1, $2) RETURNING "id"[0m  [["prototype_id", 1], ["property_id", 8]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Prototype Load (0.5ms)[0m  [1m[34mSELECT  "spree_prototypes".* FROM "spree_prototypes" WHERE "spree_prototypes"."name" = $1 ORDER BY "spree_prototypes"."id" ASC LIMIT $2[0m  [["name", "Bag"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prototypes" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Bag"], ["created_at", "2017-07-26 11:02:02.539976"], ["updated_at", "2017-07-26 11:02:02.539976"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 ORDER BY "spree_properties"."id" ASC LIMIT $2[0m  [["name", "Type"], ["LIMIT", 1]]
  [1m[36mSpree::Property Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_properties" INNER JOIN "spree_property_prototypes" ON "spree_properties"."id" = "spree_property_prototypes"."property_id" WHERE "spree_property_prototypes"."prototype_id" = $1 AND "spree_properties"."id" = $2 LIMIT $3[0m  [["prototype_id", 2], ["id", 9], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PropertyPrototype Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_property_prototypes" WHERE "spree_property_prototypes"."prototype_id" = $1 AND "spree_property_prototypes"."property_id" = $2 LIMIT $3[0m  [["prototype_id", 2], ["property_id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_property_prototypes" ("prototype_id", "property_id") VALUES ($1, $2) RETURNING "id"[0m  [["prototype_id", 2], ["property_id", 9]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 ORDER BY "spree_properties"."id" ASC LIMIT $2[0m  [["name", "Size"], ["LIMIT", 1]]
  [1m[36mSpree::Property Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_properties" INNER JOIN "spree_property_prototypes" ON "spree_properties"."id" = "spree_property_prototypes"."property_id" WHERE "spree_property_prototypes"."prototype_id" = $1 AND "spree_properties"."id" = $2 LIMIT $3[0m  [["prototype_id", 2], ["id", 10], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PropertyPrototype Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_property_prototypes" WHERE "spree_property_prototypes"."prototype_id" = $1 AND "spree_property_prototypes"."property_id" = $2 LIMIT $3[0m  [["prototype_id", 2], ["property_id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_property_prototypes" ("prototype_id", "property_id") VALUES ($1, $2) RETURNING "id"[0m  [["prototype_id", 2], ["property_id", 10]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Property Load (0.3ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 ORDER BY "spree_properties"."id" ASC LIMIT $2[0m  [["name", "Material"], ["LIMIT", 1]]
  [1m[36mSpree::Property Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_properties" INNER JOIN "spree_property_prototypes" ON "spree_properties"."id" = "spree_property_prototypes"."property_id" WHERE "spree_property_prototypes"."prototype_id" = $1 AND "spree_properties"."id" = $2 LIMIT $3[0m  [["prototype_id", 2], ["id", 11], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PropertyPrototype Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_property_prototypes" WHERE "spree_property_prototypes"."prototype_id" = $1 AND "spree_property_prototypes"."property_id" = $2 LIMIT $3[0m  [["prototype_id", 2], ["property_id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_property_prototypes" ("prototype_id", "property_id") VALUES ($1, $2) RETURNING "id"[0m  [["prototype_id", 2], ["property_id", 11]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Prototype Load (0.5ms)[0m  [1m[34mSELECT  "spree_prototypes".* FROM "spree_prototypes" WHERE "spree_prototypes"."name" = $1 ORDER BY "spree_prototypes"."id" ASC LIMIT $2[0m  [["name", "Mugs"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prototypes" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Mugs"], ["created_at", "2017-07-26 11:02:02.571449"], ["updated_at", "2017-07-26 11:02:02.571449"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 ORDER BY "spree_properties"."id" ASC LIMIT $2[0m  [["name", "Size"], ["LIMIT", 1]]
  [1m[36mSpree::Property Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_properties" INNER JOIN "spree_property_prototypes" ON "spree_properties"."id" = "spree_property_prototypes"."property_id" WHERE "spree_property_prototypes"."prototype_id" = $1 AND "spree_properties"."id" = $2 LIMIT $3[0m  [["prototype_id", 3], ["id", 10], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PropertyPrototype Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_property_prototypes" WHERE "spree_property_prototypes"."prototype_id" = $1 AND "spree_property_prototypes"."property_id" = $2 LIMIT $3[0m  [["prototype_id", 3], ["property_id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_property_prototypes" ("prototype_id", "property_id") VALUES ($1, $2) RETURNING "id"[0m  [["prototype_id", 3], ["property_id", 10]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Property Load (0.4ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 ORDER BY "spree_properties"."id" ASC LIMIT $2[0m  [["name", "Type"], ["LIMIT", 1]]
  [1m[36mSpree::Property Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_properties" INNER JOIN "spree_property_prototypes" ON "spree_properties"."id" = "spree_property_prototypes"."property_id" WHERE "spree_property_prototypes"."prototype_id" = $1 AND "spree_properties"."id" = $2 LIMIT $3[0m  [["prototype_id", 3], ["id", 9], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PropertyPrototype Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_property_prototypes" WHERE "spree_property_prototypes"."prototype_id" = $1 AND "spree_property_prototypes"."property_id" = $2 LIMIT $3[0m  [["prototype_id", 3], ["property_id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_property_prototypes" ("prototype_id", "property_id") VALUES ($1, $2) RETURNING "id"[0m  [["prototype_id", 3], ["property_id", 9]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Baseball Jersey"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Tote"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Bag"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Jr. Spaghetti"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Mug"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Ringer T-Shirt"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Stein"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Baseball Jersey"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Stein"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Jr. Spaghetti"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Mug"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Ringer T-Shirt"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Tote"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Bag"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby Baseball Jersey"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Apache Baseball Jersey"], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Load (0.5ms)[0m  [1m[34mSELECT  "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 ORDER BY "spree_option_values"."id" ASC LIMIT $2[0m  [["name", "Small"], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Load (0.5ms)[0m  [1m[34mSELECT  "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 ORDER BY "spree_option_values"."id" ASC LIMIT $2[0m  [["name", "Medium"], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Load (0.5ms)[0m  [1m[34mSELECT  "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 ORDER BY "spree_option_values"."id" ASC LIMIT $2[0m  [["name", "Large"], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Load (0.5ms)[0m  [1m[34mSELECT  "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 ORDER BY "spree_option_values"."id" ASC LIMIT $2[0m  [["name", "Extra Large"], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Load (0.5ms)[0m  [1m[34mSELECT  "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 ORDER BY "spree_option_values"."id" ASC LIMIT $2[0m  [["name", "Red"], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Load (0.5ms)[0m  [1m[34mSELECT  "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 ORDER BY "spree_option_values"."id" ASC LIMIT $2[0m  [["name", "Blue"], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Load (0.3ms)[0m  [1m[34mSELECT  "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 ORDER BY "spree_option_values"."id" ASC LIMIT $2[0m  [["name", "Green"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."sku" = $2 LIMIT $3[0m  [["product_id", 3], ["sku", "ROR-00001"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (2.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" IS NULL LIMIT $2[0m  [["option_value_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" IS NULL LIMIT $2[0m  [["option_value_id", 5], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND ("spree_option_values"."id" != $2) AND "spree_option_values"."option_type_id" = $3 LIMIT $4[0m  [["name", "Small"], ["id", 1], ["option_type_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND ("spree_option_values"."id" != $2) AND "spree_option_values"."option_type_id" = $3 LIMIT $4[0m  [["name", "Red"], ["id", 5], ["option_type_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 3], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.4ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 3], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "ROR-00001"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["sku", "ROR-00001"], ["product_id", 3], ["cost_price", "17.0"], ["position", 2], ["cost_currency", "USD"], ["updated_at", "2017-07-26 11:02:02.674591"], ["created_at", "2017-07-26 11:02:02.674591"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 17], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" = $2 LIMIT $3[0m  [["option_value_id", 1], ["variant_id", 17], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_option_value_variants" ("variant_id", "option_value_id") VALUES ($1, $2) RETURNING "id"[0m  [["variant_id", 17], ["option_value_id", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" = $2 LIMIT $3[0m  [["option_value_id", 5], ["variant_id", 17], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_option_value_variants" ("variant_id", "option_value_id") VALUES ($1, $2) RETURNING "id"[0m  [["variant_id", 17], ["option_value_id", 5]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 17], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 1], ["variant_id", 17], ["created_at", "2017-07-26 11:02:02.694761"], ["updated_at", "2017-07-26 11:02:02.694761"], ["backorderable", "t"]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:02.697211' WHERE "spree_variants"."id" = $1[0m  [["id", 17]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 3], ["active", "t"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:02.683997' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:02.715873' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:02.720125' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Variant Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."sku" = $2 LIMIT $3[0m  [["product_id", 3], ["sku", "ROR-00002"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" IS NULL LIMIT $2[0m  [["option_value_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" IS NULL LIMIT $2[0m  [["option_value_id", 7], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND ("spree_option_values"."id" != $2) AND "spree_option_values"."option_type_id" = $3 LIMIT $4[0m  [["name", "Small"], ["id", 1], ["option_type_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND ("spree_option_values"."id" != $2) AND "spree_option_values"."option_type_id" = $3 LIMIT $4[0m  [["name", "Blue"], ["id", 7], ["option_type_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "ROR-00002"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["sku", "ROR-00002"], ["product_id", 3], ["cost_price", "17.0"], ["position", 3], ["cost_currency", "USD"], ["updated_at", "2017-07-26 11:02:02.751412"], ["created_at", "2017-07-26 11:02:02.751412"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 18], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" = $2 LIMIT $3[0m  [["option_value_id", 1], ["variant_id", 18], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_option_value_variants" ("variant_id", "option_value_id") VALUES ($1, $2) RETURNING "id"[0m  [["variant_id", 18], ["option_value_id", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" = $2 LIMIT $3[0m  [["option_value_id", 7], ["variant_id", 18], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_option_value_variants" ("variant_id", "option_value_id") VALUES ($1, $2) RETURNING "id"[0m  [["variant_id", 18], ["option_value_id", 7]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 18], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 1], ["variant_id", 18], ["created_at", "2017-07-26 11:02:02.772914"], ["updated_at", "2017-07-26 11:02:02.772914"], ["backorderable", "t"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:02.775679' WHERE "spree_variants"."id" = $1[0m  [["id", 18]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 3], ["active", "t"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:02.760364' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:02.788325' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:02.792917' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."sku" = $2 LIMIT $3[0m  [["product_id", 3], ["sku", "ROR-00003"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" IS NULL LIMIT $2[0m  [["option_value_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" IS NULL LIMIT $2[0m  [["option_value_id", 6], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND ("spree_option_values"."id" != $2) AND "spree_option_values"."option_type_id" = $3 LIMIT $4[0m  [["name", "Small"], ["id", 1], ["option_type_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND ("spree_option_values"."id" != $2) AND "spree_option_values"."option_type_id" = $3 LIMIT $4[0m  [["name", "Green"], ["id", 6], ["option_type_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "ROR-00003"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["sku", "ROR-00003"], ["product_id", 3], ["cost_price", "17.0"], ["position", 4], ["cost_currency", "USD"], ["updated_at", "2017-07-26 11:02:02.819268"], ["created_at", "2017-07-26 11:02:02.819268"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 19], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" = $2 LIMIT $3[0m  [["option_value_id", 1], ["variant_id", 19], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_option_value_variants" ("variant_id", "option_value_id") VALUES ($1, $2) RETURNING "id"[0m  [["variant_id", 19], ["option_value_id", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" = $2 LIMIT $3[0m  [["option_value_id", 6], ["variant_id", 19], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_option_value_variants" ("variant_id", "option_value_id") VALUES ($1, $2) RETURNING "id"[0m  [["variant_id", 19], ["option_value_id", 6]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 19], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 1], ["variant_id", 19], ["created_at", "2017-07-26 11:02:02.838163"], ["updated_at", "2017-07-26 11:02:02.838163"], ["backorderable", "t"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:02.840817' WHERE "spree_variants"."id" = $1[0m  [["id", 19]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 3], ["active", "t"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:02.828266' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:02.853541' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:02.857789' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."sku" = $2 LIMIT $3[0m  [["product_id", 3], ["sku", "ROR-00004"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" IS NULL LIMIT $2[0m  [["option_value_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" IS NULL LIMIT $2[0m  [["option_value_id", 5], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND ("spree_option_values"."id" != $2) AND "spree_option_values"."option_type_id" = $3 LIMIT $4[0m  [["name", "Medium"], ["id", 2], ["option_type_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND ("spree_option_values"."id" != $2) AND "spree_option_values"."option_type_id" = $3 LIMIT $4[0m  [["name", "Red"], ["id", 5], ["option_type_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "ROR-00004"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["sku", "ROR-00004"], ["product_id", 3], ["cost_price", "17.0"], ["position", 5], ["cost_currency", "USD"], ["updated_at", "2017-07-26 11:02:02.879335"], ["created_at", "2017-07-26 11:02:02.879335"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 20], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" = $2 LIMIT $3[0m  [["option_value_id", 2], ["variant_id", 20], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_option_value_variants" ("variant_id", "option_value_id") VALUES ($1, $2) RETURNING "id"[0m  [["variant_id", 20], ["option_value_id", 2]]
  [1m[36mSpree::OptionValueVariant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" = $2 LIMIT $3[0m  [["option_value_id", 5], ["variant_id", 20], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_option_value_variants" ("variant_id", "option_value_id") VALUES ($1, $2) RETURNING "id"[0m  [["variant_id", 20], ["option_value_id", 5]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 20], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 1], ["variant_id", 20], ["created_at", "2017-07-26 11:02:02.899057"], ["updated_at", "2017-07-26 11:02:02.899057"], ["backorderable", "t"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:02.901495' WHERE "spree_variants"."id" = $1[0m  [["id", 20]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 3], ["active", "t"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:02.888706' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:02.914144' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:02.919156' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Variant Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."sku" = $2 LIMIT $3[0m  [["product_id", 3], ["sku", "ROR-00005"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" IS NULL LIMIT $2[0m  [["option_value_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" IS NULL LIMIT $2[0m  [["option_value_id", 7], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND ("spree_option_values"."id" != $2) AND "spree_option_values"."option_type_id" = $3 LIMIT $4[0m  [["name", "Medium"], ["id", 2], ["option_type_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND ("spree_option_values"."id" != $2) AND "spree_option_values"."option_type_id" = $3 LIMIT $4[0m  [["name", "Blue"], ["id", 7], ["option_type_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "ROR-00005"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["sku", "ROR-00005"], ["product_id", 3], ["cost_price", "17.0"], ["position", 6], ["cost_currency", "USD"], ["updated_at", "2017-07-26 11:02:02.940750"], ["created_at", "2017-07-26 11:02:02.940750"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 21], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" = $2 LIMIT $3[0m  [["option_value_id", 2], ["variant_id", 21], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_option_value_variants" ("variant_id", "option_value_id") VALUES ($1, $2) RETURNING "id"[0m  [["variant_id", 21], ["option_value_id", 2]]
  [1m[36mSpree::OptionValueVariant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" = $2 LIMIT $3[0m  [["option_value_id", 7], ["variant_id", 21], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_option_value_variants" ("variant_id", "option_value_id") VALUES ($1, $2) RETURNING "id"[0m  [["variant_id", 21], ["option_value_id", 7]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 21], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 1], ["variant_id", 21], ["created_at", "2017-07-26 11:02:02.959603"], ["updated_at", "2017-07-26 11:02:02.959603"], ["backorderable", "t"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:02.961960' WHERE "spree_variants"."id" = $1[0m  [["id", 21]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 3], ["active", "t"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:02.949405' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:02.974297' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:02.978527' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."sku" = $2 LIMIT $3[0m  [["product_id", 3], ["sku", "ROR-00006"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" IS NULL LIMIT $2[0m  [["option_value_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" IS NULL LIMIT $2[0m  [["option_value_id", 6], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND ("spree_option_values"."id" != $2) AND "spree_option_values"."option_type_id" = $3 LIMIT $4[0m  [["name", "Medium"], ["id", 2], ["option_type_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND ("spree_option_values"."id" != $2) AND "spree_option_values"."option_type_id" = $3 LIMIT $4[0m  [["name", "Green"], ["id", 6], ["option_type_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "ROR-00006"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["sku", "ROR-00006"], ["product_id", 3], ["cost_price", "17.0"], ["position", 7], ["cost_currency", "USD"], ["updated_at", "2017-07-26 11:02:02.999979"], ["created_at", "2017-07-26 11:02:02.999979"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 22], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" = $2 LIMIT $3[0m  [["option_value_id", 2], ["variant_id", 22], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_option_value_variants" ("variant_id", "option_value_id") VALUES ($1, $2) RETURNING "id"[0m  [["variant_id", 22], ["option_value_id", 2]]
  [1m[36mSpree::OptionValueVariant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" = $2 LIMIT $3[0m  [["option_value_id", 6], ["variant_id", 22], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_option_value_variants" ("variant_id", "option_value_id") VALUES ($1, $2) RETURNING "id"[0m  [["variant_id", 22], ["option_value_id", 6]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 22], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 1], ["variant_id", 22], ["created_at", "2017-07-26 11:02:03.019151"], ["updated_at", "2017-07-26 11:02:03.019151"], ["backorderable", "t"]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:03.022331' WHERE "spree_variants"."id" = $1[0m  [["id", 22]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 3], ["active", "t"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:03.009221' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:03.035495' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:03.039810' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."sku" = $2 LIMIT $3[0m  [["product_id", 3], ["sku", "ROR-00007"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" IS NULL LIMIT $2[0m  [["option_value_id", 3], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" IS NULL LIMIT $2[0m  [["option_value_id", 5], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND ("spree_option_values"."id" != $2) AND "spree_option_values"."option_type_id" = $3 LIMIT $4[0m  [["name", "Large"], ["id", 3], ["option_type_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND ("spree_option_values"."id" != $2) AND "spree_option_values"."option_type_id" = $3 LIMIT $4[0m  [["name", "Red"], ["id", 5], ["option_type_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "ROR-00007"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["sku", "ROR-00007"], ["product_id", 3], ["cost_price", "17.0"], ["position", 8], ["cost_currency", "USD"], ["updated_at", "2017-07-26 11:02:03.062951"], ["created_at", "2017-07-26 11:02:03.062951"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 23], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" = $2 LIMIT $3[0m  [["option_value_id", 3], ["variant_id", 23], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_option_value_variants" ("variant_id", "option_value_id") VALUES ($1, $2) RETURNING "id"[0m  [["variant_id", 23], ["option_value_id", 3]]
  [1m[36mSpree::OptionValueVariant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" = $2 LIMIT $3[0m  [["option_value_id", 5], ["variant_id", 23], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_option_value_variants" ("variant_id", "option_value_id") VALUES ($1, $2) RETURNING "id"[0m  [["variant_id", 23], ["option_value_id", 5]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 23], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 1], ["variant_id", 23], ["created_at", "2017-07-26 11:02:03.082079"], ["updated_at", "2017-07-26 11:02:03.082079"], ["backorderable", "t"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:03.084517' WHERE "spree_variants"."id" = $1[0m  [["id", 23]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 3], ["active", "t"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:03.071896' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:03.096952' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:03.101152' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."sku" = $2 LIMIT $3[0m  [["product_id", 3], ["sku", "ROR-00008"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" IS NULL LIMIT $2[0m  [["option_value_id", 3], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" IS NULL LIMIT $2[0m  [["option_value_id", 7], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND ("spree_option_values"."id" != $2) AND "spree_option_values"."option_type_id" = $3 LIMIT $4[0m  [["name", "Large"], ["id", 3], ["option_type_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND ("spree_option_values"."id" != $2) AND "spree_option_values"."option_type_id" = $3 LIMIT $4[0m  [["name", "Blue"], ["id", 7], ["option_type_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "ROR-00008"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["sku", "ROR-00008"], ["product_id", 3], ["cost_price", "17.0"], ["position", 9], ["cost_currency", "USD"], ["updated_at", "2017-07-26 11:02:03.123212"], ["created_at", "2017-07-26 11:02:03.123212"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 24], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" = $2 LIMIT $3[0m  [["option_value_id", 3], ["variant_id", 24], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_option_value_variants" ("variant_id", "option_value_id") VALUES ($1, $2) RETURNING "id"[0m  [["variant_id", 24], ["option_value_id", 3]]
  [1m[36mSpree::OptionValueVariant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" = $2 LIMIT $3[0m  [["option_value_id", 7], ["variant_id", 24], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_option_value_variants" ("variant_id", "option_value_id") VALUES ($1, $2) RETURNING "id"[0m  [["variant_id", 24], ["option_value_id", 7]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 24], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 1], ["variant_id", 24], ["created_at", "2017-07-26 11:02:03.145449"], ["updated_at", "2017-07-26 11:02:03.145449"], ["backorderable", "t"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:03.147956' WHERE "spree_variants"."id" = $1[0m  [["id", 24]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 3], ["active", "t"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:03.133223' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:03.160471' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:03.164783' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."sku" = $2 LIMIT $3[0m  [["product_id", 3], ["sku", "ROR-00009"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" IS NULL LIMIT $2[0m  [["option_value_id", 3], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" IS NULL LIMIT $2[0m  [["option_value_id", 6], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND ("spree_option_values"."id" != $2) AND "spree_option_values"."option_type_id" = $3 LIMIT $4[0m  [["name", "Large"], ["id", 3], ["option_type_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND ("spree_option_values"."id" != $2) AND "spree_option_values"."option_type_id" = $3 LIMIT $4[0m  [["name", "Green"], ["id", 6], ["option_type_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "ROR-00009"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["sku", "ROR-00009"], ["product_id", 3], ["cost_price", "17.0"], ["position", 10], ["cost_currency", "USD"], ["updated_at", "2017-07-26 11:02:03.186171"], ["created_at", "2017-07-26 11:02:03.186171"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 25], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" = $2 LIMIT $3[0m  [["option_value_id", 3], ["variant_id", 25], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_option_value_variants" ("variant_id", "option_value_id") VALUES ($1, $2) RETURNING "id"[0m  [["variant_id", 25], ["option_value_id", 3]]
  [1m[36mSpree::OptionValueVariant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" = $2 LIMIT $3[0m  [["option_value_id", 6], ["variant_id", 25], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_option_value_variants" ("variant_id", "option_value_id") VALUES ($1, $2) RETURNING "id"[0m  [["variant_id", 25], ["option_value_id", 6]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 25], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 1], ["variant_id", 25], ["created_at", "2017-07-26 11:02:03.205774"], ["updated_at", "2017-07-26 11:02:03.205774"], ["backorderable", "t"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:03.208197' WHERE "spree_variants"."id" = $1[0m  [["id", 25]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 3], ["active", "t"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:03.195635' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:03.220282' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:03.224589' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."sku" = $2 LIMIT $3[0m  [["product_id", 3], ["sku", "ROR-00010"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" IS NULL LIMIT $2[0m  [["option_value_id", 4], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" IS NULL LIMIT $2[0m  [["option_value_id", 6], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND ("spree_option_values"."id" != $2) AND "spree_option_values"."option_type_id" = $3 LIMIT $4[0m  [["name", "Extra Large"], ["id", 4], ["option_type_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" WHERE "spree_option_values"."name" = $1 AND ("spree_option_values"."id" != $2) AND "spree_option_values"."option_type_id" = $3 LIMIT $4[0m  [["name", "Green"], ["id", 6], ["option_type_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "ROR-00010"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["sku", "ROR-00010"], ["product_id", 3], ["cost_price", "17.0"], ["position", 11], ["cost_currency", "USD"], ["updated_at", "2017-07-26 11:02:03.250504"], ["created_at", "2017-07-26 11:02:03.250504"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 26], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" = $2 LIMIT $3[0m  [["option_value_id", 4], ["variant_id", 26], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_option_value_variants" ("variant_id", "option_value_id") VALUES ($1, $2) RETURNING "id"[0m  [["variant_id", 26], ["option_value_id", 4]]
  [1m[36mSpree::OptionValueVariant Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."option_value_id" = $1 AND "spree_option_value_variants"."variant_id" = $2 LIMIT $3[0m  [["option_value_id", 6], ["variant_id", 26], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_option_value_variants" ("variant_id", "option_value_id") VALUES ($1, $2) RETURNING "id"[0m  [["variant_id", 26], ["option_value_id", 6]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 26], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 1], ["variant_id", 26], ["created_at", "2017-07-26 11:02:03.269781"], ["updated_at", "2017-07-26 11:02:03.269781"], ["backorderable", "t"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:03.272668' WHERE "spree_variants"."id" = $1[0m  [["id", 26]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 3], ["active", "t"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:03.259993' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:03.285145' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:03.289464' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Variant Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND ("spree_variants"."id" != $2) AND "spree_variants"."deleted_at" IS NULL LIMIT $3[0m  [["sku", "ROR-001"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_variants" SET "sku" = $1, "cost_price" = $2, "updated_at" = $3 WHERE "spree_variants"."id" = $4[0m  [["sku", "ROR-001"], ["cost_price", "17.0"], ["updated_at", "2017-07-26 11:02:03.295955"], ["id", 3]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 3]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:03.300452' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:03.307666' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:03.311813' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 1], ["is_master", "t"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 1], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND ("spree_variants"."id" != $2) AND "spree_variants"."deleted_at" IS NULL LIMIT $3[0m  [["sku", "ROR-00011"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_variants" SET "sku" = $1, "cost_price" = $2, "updated_at" = $3 WHERE "spree_variants"."id" = $4[0m  [["sku", "ROR-00011"], ["cost_price", "17.0"], ["updated_at", "2017-07-26 11:02:03.322989"], ["id", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:03.327036' WHERE "spree_products"."id" = $1[0m  [["id", 1]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 1]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:03.333918' WHERE "spree_taxons"."id" IN (2, 11, 1, 3)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:03.338024' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 2], ["is_master", "t"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 2], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND ("spree_variants"."id" != $2) AND "spree_variants"."deleted_at" IS NULL LIMIT $3[0m  [["sku", "ROR-00012"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_variants" SET "sku" = $1, "cost_price" = $2, "updated_at" = $3 WHERE "spree_variants"."id" = $4[0m  [["sku", "ROR-00012"], ["cost_price", "21.0"], ["updated_at", "2017-07-26 11:02:03.348564"], ["id", 2]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 2]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:03.352537' WHERE "spree_products"."id" = $1[0m  [["id", 2]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 2]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:03.360164' WHERE "spree_taxons"."id" IN (2, 11, 1, 3)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:03.364320' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 4], ["is_master", "t"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.4ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 4], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND ("spree_variants"."id" != $2) AND "spree_variants"."deleted_at" IS NULL LIMIT $3[0m  [["sku", "ROR-00013"], ["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_variants" SET "sku" = $1, "cost_price" = $2, "updated_at" = $3 WHERE "spree_variants"."id" = $4[0m  [["sku", "ROR-00013"], ["cost_price", "17.0"], ["updated_at", "2017-07-26 11:02:03.375075"], ["id", 4]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 4]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:03.378804' WHERE "spree_products"."id" = $1[0m  [["id", 4]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 4]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:03.385865' WHERE "spree_taxons"."id" IN (1, 5, 6, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:03.390224' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 13], ["is_master", "t"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 13], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND ("spree_variants"."id" != $2) AND "spree_variants"."deleted_at" IS NULL LIMIT $3[0m  [["sku", "ROR-00014"], ["id", 13], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_variants" SET "sku" = $1, "cost_price" = $2, "updated_at" = $3 WHERE "spree_variants"."id" = $4[0m  [["sku", "ROR-00014"], ["cost_price", "11.0"], ["updated_at", "2017-07-26 11:02:03.402099"], ["id", 13]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 13]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:03.405965' WHERE "spree_products"."id" = $1[0m  [["id", 13]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 13]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:03.412933' WHERE "spree_taxons"."id" IN (2, 11, 1, 4)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:03.417046' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 5], ["is_master", "t"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 5], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND ("spree_variants"."id" != $2) AND "spree_variants"."deleted_at" IS NULL LIMIT $3[0m  [["sku", "ROR-00015"], ["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_variants" SET "sku" = $1, "cost_price" = $2, "updated_at" = $3 WHERE "spree_variants"."id" = $4[0m  [["sku", "ROR-00015"], ["cost_price", "17.0"], ["updated_at", "2017-07-26 11:02:03.427603"], ["id", 5]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 5]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:03.431765' WHERE "spree_products"."id" = $1[0m  [["id", 5]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 5]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:03.438760' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:03.443255' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 14], ["is_master", "t"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 14], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND ("spree_variants"."id" != $2) AND "spree_variants"."deleted_at" IS NULL LIMIT $3[0m  [["sku", "ROR-00016"], ["id", 14], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_variants" SET "sku" = $1, "cost_price" = $2, "updated_at" = $3 WHERE "spree_variants"."id" = $4[0m  [["sku", "ROR-00016"], ["cost_price", "15.0"], ["updated_at", "2017-07-26 11:02:03.454421"], ["id", 14]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 14]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:03.458476' WHERE "spree_products"."id" = $1[0m  [["id", 14]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 14]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:03.465962' WHERE "spree_taxons"."id" IN (1, 4, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:03.470199' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 7], ["is_master", "t"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 7], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND ("spree_variants"."id" != $2) AND "spree_variants"."deleted_at" IS NULL LIMIT $3[0m  [["sku", "APC-00001"], ["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_variants" SET "sku" = $1, "cost_price" = $2, "updated_at" = $3 WHERE "spree_variants"."id" = $4[0m  [["sku", "APC-00001"], ["cost_price", "17.0"], ["updated_at", "2017-07-26 11:02:03.480883"], ["id", 7]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 7]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:03.484744' WHERE "spree_products"."id" = $1[0m  [["id", 7]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 7]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 16) AND ("spree_taxons"."rgt" >= 17) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:03.491982' WHERE "spree_taxons"."id" IN (2, 9, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 16) AND ("spree_taxons"."rgt" >= 17) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:03.496283' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 6], ["is_master", "t"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 6], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND ("spree_variants"."id" != $2) AND "spree_variants"."deleted_at" IS NULL LIMIT $3[0m  [["sku", "RUB-00001"], ["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_variants" SET "sku" = $1, "cost_price" = $2, "updated_at" = $3 WHERE "spree_variants"."id" = $4[0m  [["sku", "RUB-00001"], ["cost_price", "17.0"], ["updated_at", "2017-07-26 11:02:03.507074"], ["id", 6]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 6]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:03.510990' WHERE "spree_products"."id" = $1[0m  [["id", 6]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 6]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 14) AND ("spree_taxons"."rgt" >= 15) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:03.518138' WHERE "spree_taxons"."id" IN (2, 8, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 14) AND ("spree_taxons"."rgt" >= 15) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:03.523166' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 8], ["is_master", "t"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 8], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND ("spree_variants"."id" != $2) AND "spree_variants"."deleted_at" IS NULL LIMIT $3[0m  [["sku", "SPR-00001"], ["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_variants" SET "sku" = $1, "cost_price" = $2, "updated_at" = $3 WHERE "spree_variants"."id" = $4[0m  [["sku", "SPR-00001"], ["cost_price", "17.0"], ["updated_at", "2017-07-26 11:02:03.534224"], ["id", 8]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 8]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:03.538200' WHERE "spree_products"."id" = $1[0m  [["id", 8]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 8]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:03.545415' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 10)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:03.549736' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 15], ["is_master", "t"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.4ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 15], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND ("spree_variants"."id" != $2) AND "spree_variants"."deleted_at" IS NULL LIMIT $3[0m  [["sku", "SPR-00016"], ["id", 15], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_variants" SET "sku" = $1, "cost_price" = $2, "updated_at" = $3 WHERE "spree_variants"."id" = $4[0m  [["sku", "SPR-00016"], ["cost_price", "15.0"], ["updated_at", "2017-07-26 11:02:03.560543"], ["id", 15]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 15]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:03.565296' WHERE "spree_products"."id" = $1[0m  [["id", 15]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 15]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:03.572649' WHERE "spree_taxons"."id" IN (2, 10, 1, 4)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:03.576910' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 9], ["is_master", "t"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.4ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 9], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND ("spree_variants"."id" != $2) AND "spree_variants"."deleted_at" IS NULL LIMIT $3[0m  [["sku", "SPR-00013"], ["id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_variants" SET "sku" = $1, "cost_price" = $2, "updated_at" = $3 WHERE "spree_variants"."id" = $4[0m  [["sku", "SPR-00013"], ["cost_price", "17.0"], ["updated_at", "2017-07-26 11:02:03.587941"], ["id", 9]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 9]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:03.591827' WHERE "spree_products"."id" = $1[0m  [["id", 9]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 9]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:03.599149' WHERE "spree_taxons"."id" IN (2, 10, 1, 5, 6)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:03.603497' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 16], ["is_master", "t"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 16], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND ("spree_variants"."id" != $2) AND "spree_variants"."deleted_at" IS NULL LIMIT $3[0m  [["sku", "SPR-00014"], ["id", 16], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_variants" SET "sku" = $1, "cost_price" = $2, "updated_at" = $3 WHERE "spree_variants"."id" = $4[0m  [["sku", "SPR-00014"], ["cost_price", "11.0"], ["updated_at", "2017-07-26 11:02:03.614653"], ["id", 16]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 16]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:03.618733' WHERE "spree_products"."id" = $1[0m  [["id", 16]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 16]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:03.625809' WHERE "spree_taxons"."id" IN (1, 4, 2, 10)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:03.631145' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 10], ["is_master", "t"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.4ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 10], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND ("spree_variants"."id" != $2) AND "spree_variants"."deleted_at" IS NULL LIMIT $3[0m  [["sku", "SPR-00015"], ["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "sku" = $1, "cost_price" = $2, "updated_at" = $3 WHERE "spree_variants"."id" = $4[0m  [["sku", "SPR-00015"], ["cost_price", "17.0"], ["updated_at", "2017-07-26 11:02:03.643746"], ["id", 10]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 10]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:03.647550' WHERE "spree_products"."id" = $1[0m  [["id", 10]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 10]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:03.655064' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 10)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:03.659634' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 11], ["is_master", "t"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 11], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND ("spree_variants"."id" != $2) AND "spree_variants"."deleted_at" IS NULL LIMIT $3[0m  [["sku", "SPR-00011"], ["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "sku" = $1, "cost_price" = $2, "updated_at" = $3 WHERE "spree_variants"."id" = $4[0m  [["sku", "SPR-00011"], ["cost_price", "13.0"], ["updated_at", "2017-07-26 11:02:03.670720"], ["id", 11]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 11]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:03.674821' WHERE "spree_products"."id" = $1[0m  [["id", 11]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 11]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:03.681908' WHERE "spree_taxons"."id" IN (2, 10, 1, 3)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:03.689685' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 12], ["is_master", "t"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.4ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 12], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND ("spree_variants"."id" != $2) AND "spree_variants"."deleted_at" IS NULL LIMIT $3[0m  [["sku", "SPR-00012"], ["id", 12], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_variants" SET "sku" = $1, "cost_price" = $2, "updated_at" = $3 WHERE "spree_variants"."id" = $4[0m  [["sku", "SPR-00012"], ["cost_price", "21.0"], ["updated_at", "2017-07-26 11:02:03.701394"], ["id", 12]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" = 1)[0m  [["product_id", 12]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:03.705266' WHERE "spree_products"."id" = $1[0m  [["id", 12]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 12]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:03.712356' WHERE "spree_taxons"."id" IN (2, 10, 1, 3)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:03.716506' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.8ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "US"], ["LIMIT", 1]]
  [1m[36mSpree::State Load (1.8ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY "spree_states"."id" ASC LIMIT $2[0m  [["country_id", 232], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.5ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" ORDER BY "spree_stock_locations"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL[0m
  [1m[36mSpree::StockItem Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1[0m  [["variant_id", 17]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (8.8ms)[0m  [1m[32mINSERT INTO "spree_stock_movements" ("stock_item_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["stock_item_id", 17], ["quantity", 10], ["created_at", "2017-07-26 11:02:03.803274"], ["updated_at", "2017-07-26 11:02:03.803274"]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[37mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 17], ["LIMIT", 1]]
  [1m[35mSQL (8.7ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_shipments"."id" AS t1_r0, "spree_shipments"."tracking" AS t1_r1, "spree_shipments"."number" AS t1_r2, "spree_shipments"."cost" AS t1_r3, "spree_shipments"."shipped_at" AS t1_r4, "spree_shipments"."order_id" AS t1_r5, "spree_shipments"."address_id" AS t1_r6, "spree_shipments"."state" AS t1_r7, "spree_shipments"."created_at" AS t1_r8, "spree_shipments"."updated_at" AS t1_r9, "spree_shipments"."stock_location_id" AS t1_r10, "spree_shipments"."adjustment_total" AS t1_r11, "spree_shipments"."additional_tax_total" AS t1_r12, "spree_shipments"."promo_total" AS t1_r13, "spree_shipments"."included_tax_total" AS t1_r14, "spree_shipments"."pre_tax_amount" AS t1_r15, "spree_shipments"."taxable_adjustment_total" AS t1_r16, "spree_shipments"."non_taxable_adjustment_total" AS t1_r17, "spree_orders"."id" AS t2_r0, "spree_orders"."number" AS t2_r1, "spree_orders"."item_total" AS t2_r2, "spree_orders"."total" AS t2_r3, "spree_orders"."state" AS t2_r4, "spree_orders"."adjustment_total" AS t2_r5, "spree_orders"."user_id" AS t2_r6, "spree_orders"."completed_at" AS t2_r7, "spree_orders"."bill_address_id" AS t2_r8, "spree_orders"."ship_address_id" AS t2_r9, "spree_orders"."payment_total" AS t2_r10, "spree_orders"."shipment_state" AS t2_r11, "spree_orders"."payment_state" AS t2_r12, "spree_orders"."email" AS t2_r13, "spree_orders"."special_instructions" AS t2_r14, "spree_orders"."created_at" AS t2_r15, "spree_orders"."updated_at" AS t2_r16, "spree_orders"."currency" AS t2_r17, "spree_orders"."last_ip_address" AS t2_r18, "spree_orders"."created_by_id" AS t2_r19, "spree_orders"."shipment_total" AS t2_r20, "spree_orders"."additional_tax_total" AS t2_r21, "spree_orders"."promo_total" AS t2_r22, "spree_orders"."channel" AS t2_r23, "spree_orders"."included_tax_total" AS t2_r24, "spree_orders"."item_count" AS t2_r25, "spree_orders"."approver_id" AS t2_r26, "spree_orders"."approved_at" AS t2_r27, "spree_orders"."confirmation_delivered" AS t2_r28, "spree_orders"."considered_risky" AS t2_r29, "spree_orders"."guest_token" AS t2_r30, "spree_orders"."canceled_at" AS t2_r31, "spree_orders"."canceler_id" AS t2_r32, "spree_orders"."store_id" AS t2_r33, "spree_orders"."state_lock_version" AS t2_r34, "spree_orders"."taxable_adjustment_total" AS t2_r35, "spree_orders"."non_taxable_adjustment_total" AS t2_r36 FROM "spree_inventory_units" LEFT OUTER JOIN "spree_shipments" ON "spree_shipments"."id" = "spree_inventory_units"."shipment_id" LEFT OUTER JOIN "spree_orders" ON "spree_orders"."id" = "spree_inventory_units"."order_id" WHERE ("spree_shipments"."state" != $1) AND "spree_inventory_units"."variant_id" = $2 AND ("spree_orders"."completed_at" IS NOT NULL) AND "spree_inventory_units"."state" = $3 ORDER BY spree_orders.completed_at ASC[0m  [["state", "canceled"], ["variant_id", 17], ["state", "backordered"]]
  [1m[36mSpree::StockLocation Load (0.5ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 17], ["id", 17], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 10], ["updated_at", "2017-07-26 11:02:03.960994"], ["id", 17]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:03.963957' WHERE "spree_variants"."id" = $1[0m  [["id", 17]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:03.968018' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (1.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (1.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:03.981753' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:03.986577' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1[0m  [["variant_id", 18]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_movements" ("stock_item_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["stock_item_id", 18], ["quantity", 10], ["created_at", "2017-07-26 11:02:03.993799"], ["updated_at", "2017-07-26 11:02:03.993799"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.5ms)[0m  [1m[37mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 18], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_shipments"."id" AS t1_r0, "spree_shipments"."tracking" AS t1_r1, "spree_shipments"."number" AS t1_r2, "spree_shipments"."cost" AS t1_r3, "spree_shipments"."shipped_at" AS t1_r4, "spree_shipments"."order_id" AS t1_r5, "spree_shipments"."address_id" AS t1_r6, "spree_shipments"."state" AS t1_r7, "spree_shipments"."created_at" AS t1_r8, "spree_shipments"."updated_at" AS t1_r9, "spree_shipments"."stock_location_id" AS t1_r10, "spree_shipments"."adjustment_total" AS t1_r11, "spree_shipments"."additional_tax_total" AS t1_r12, "spree_shipments"."promo_total" AS t1_r13, "spree_shipments"."included_tax_total" AS t1_r14, "spree_shipments"."pre_tax_amount" AS t1_r15, "spree_shipments"."taxable_adjustment_total" AS t1_r16, "spree_shipments"."non_taxable_adjustment_total" AS t1_r17, "spree_orders"."id" AS t2_r0, "spree_orders"."number" AS t2_r1, "spree_orders"."item_total" AS t2_r2, "spree_orders"."total" AS t2_r3, "spree_orders"."state" AS t2_r4, "spree_orders"."adjustment_total" AS t2_r5, "spree_orders"."user_id" AS t2_r6, "spree_orders"."completed_at" AS t2_r7, "spree_orders"."bill_address_id" AS t2_r8, "spree_orders"."ship_address_id" AS t2_r9, "spree_orders"."payment_total" AS t2_r10, "spree_orders"."shipment_state" AS t2_r11, "spree_orders"."payment_state" AS t2_r12, "spree_orders"."email" AS t2_r13, "spree_orders"."special_instructions" AS t2_r14, "spree_orders"."created_at" AS t2_r15, "spree_orders"."updated_at" AS t2_r16, "spree_orders"."currency" AS t2_r17, "spree_orders"."last_ip_address" AS t2_r18, "spree_orders"."created_by_id" AS t2_r19, "spree_orders"."shipment_total" AS t2_r20, "spree_orders"."additional_tax_total" AS t2_r21, "spree_orders"."promo_total" AS t2_r22, "spree_orders"."channel" AS t2_r23, "spree_orders"."included_tax_total" AS t2_r24, "spree_orders"."item_count" AS t2_r25, "spree_orders"."approver_id" AS t2_r26, "spree_orders"."approved_at" AS t2_r27, "spree_orders"."confirmation_delivered" AS t2_r28, "spree_orders"."considered_risky" AS t2_r29, "spree_orders"."guest_token" AS t2_r30, "spree_orders"."canceled_at" AS t2_r31, "spree_orders"."canceler_id" AS t2_r32, "spree_orders"."store_id" AS t2_r33, "spree_orders"."state_lock_version" AS t2_r34, "spree_orders"."taxable_adjustment_total" AS t2_r35, "spree_orders"."non_taxable_adjustment_total" AS t2_r36 FROM "spree_inventory_units" LEFT OUTER JOIN "spree_shipments" ON "spree_shipments"."id" = "spree_inventory_units"."shipment_id" LEFT OUTER JOIN "spree_orders" ON "spree_orders"."id" = "spree_inventory_units"."order_id" WHERE ("spree_shipments"."state" != $1) AND "spree_inventory_units"."variant_id" = $2 AND ("spree_orders"."completed_at" IS NOT NULL) AND "spree_inventory_units"."state" = $3 ORDER BY spree_orders.completed_at ASC[0m  [["state", "canceled"], ["variant_id", 18], ["state", "backordered"]]
  [1m[36mSpree::StockLocation Load (0.5ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 18], ["id", 18], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 10], ["updated_at", "2017-07-26 11:02:04.008490"], ["id", 18]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:04.011273' WHERE "spree_variants"."id" = $1[0m  [["id", 18]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:04.014476' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:04.021425' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:04.027450' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1[0m  [["variant_id", 19]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_movements" ("stock_item_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["stock_item_id", 19], ["quantity", 10], ["created_at", "2017-07-26 11:02:04.041832"], ["updated_at", "2017-07-26 11:02:04.041832"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[37mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 19], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_shipments"."id" AS t1_r0, "spree_shipments"."tracking" AS t1_r1, "spree_shipments"."number" AS t1_r2, "spree_shipments"."cost" AS t1_r3, "spree_shipments"."shipped_at" AS t1_r4, "spree_shipments"."order_id" AS t1_r5, "spree_shipments"."address_id" AS t1_r6, "spree_shipments"."state" AS t1_r7, "spree_shipments"."created_at" AS t1_r8, "spree_shipments"."updated_at" AS t1_r9, "spree_shipments"."stock_location_id" AS t1_r10, "spree_shipments"."adjustment_total" AS t1_r11, "spree_shipments"."additional_tax_total" AS t1_r12, "spree_shipments"."promo_total" AS t1_r13, "spree_shipments"."included_tax_total" AS t1_r14, "spree_shipments"."pre_tax_amount" AS t1_r15, "spree_shipments"."taxable_adjustment_total" AS t1_r16, "spree_shipments"."non_taxable_adjustment_total" AS t1_r17, "spree_orders"."id" AS t2_r0, "spree_orders"."number" AS t2_r1, "spree_orders"."item_total" AS t2_r2, "spree_orders"."total" AS t2_r3, "spree_orders"."state" AS t2_r4, "spree_orders"."adjustment_total" AS t2_r5, "spree_orders"."user_id" AS t2_r6, "spree_orders"."completed_at" AS t2_r7, "spree_orders"."bill_address_id" AS t2_r8, "spree_orders"."ship_address_id" AS t2_r9, "spree_orders"."payment_total" AS t2_r10, "spree_orders"."shipment_state" AS t2_r11, "spree_orders"."payment_state" AS t2_r12, "spree_orders"."email" AS t2_r13, "spree_orders"."special_instructions" AS t2_r14, "spree_orders"."created_at" AS t2_r15, "spree_orders"."updated_at" AS t2_r16, "spree_orders"."currency" AS t2_r17, "spree_orders"."last_ip_address" AS t2_r18, "spree_orders"."created_by_id" AS t2_r19, "spree_orders"."shipment_total" AS t2_r20, "spree_orders"."additional_tax_total" AS t2_r21, "spree_orders"."promo_total" AS t2_r22, "spree_orders"."channel" AS t2_r23, "spree_orders"."included_tax_total" AS t2_r24, "spree_orders"."item_count" AS t2_r25, "spree_orders"."approver_id" AS t2_r26, "spree_orders"."approved_at" AS t2_r27, "spree_orders"."confirmation_delivered" AS t2_r28, "spree_orders"."considered_risky" AS t2_r29, "spree_orders"."guest_token" AS t2_r30, "spree_orders"."canceled_at" AS t2_r31, "spree_orders"."canceler_id" AS t2_r32, "spree_orders"."store_id" AS t2_r33, "spree_orders"."state_lock_version" AS t2_r34, "spree_orders"."taxable_adjustment_total" AS t2_r35, "spree_orders"."non_taxable_adjustment_total" AS t2_r36 FROM "spree_inventory_units" LEFT OUTER JOIN "spree_shipments" ON "spree_shipments"."id" = "spree_inventory_units"."shipment_id" LEFT OUTER JOIN "spree_orders" ON "spree_orders"."id" = "spree_inventory_units"."order_id" WHERE ("spree_shipments"."state" != $1) AND "spree_inventory_units"."variant_id" = $2 AND ("spree_orders"."completed_at" IS NOT NULL) AND "spree_inventory_units"."state" = $3 ORDER BY spree_orders.completed_at ASC[0m  [["state", "canceled"], ["variant_id", 19], ["state", "backordered"]]
  [1m[36mSpree::StockLocation Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 19], ["id", 19], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 10], ["updated_at", "2017-07-26 11:02:04.059897"], ["id", 19]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:04.063230' WHERE "spree_variants"."id" = $1[0m  [["id", 19]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:04.066834' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:04.074956' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:04.079655' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::StockItem Load (0.5ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1[0m  [["variant_id", 20]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_movements" ("stock_item_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["stock_item_id", 20], ["quantity", 10], ["created_at", "2017-07-26 11:02:04.086640"], ["updated_at", "2017-07-26 11:02:04.086640"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[37mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 20], ["LIMIT", 1]]
  [1m[35mSQL (2.3ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_shipments"."id" AS t1_r0, "spree_shipments"."tracking" AS t1_r1, "spree_shipments"."number" AS t1_r2, "spree_shipments"."cost" AS t1_r3, "spree_shipments"."shipped_at" AS t1_r4, "spree_shipments"."order_id" AS t1_r5, "spree_shipments"."address_id" AS t1_r6, "spree_shipments"."state" AS t1_r7, "spree_shipments"."created_at" AS t1_r8, "spree_shipments"."updated_at" AS t1_r9, "spree_shipments"."stock_location_id" AS t1_r10, "spree_shipments"."adjustment_total" AS t1_r11, "spree_shipments"."additional_tax_total" AS t1_r12, "spree_shipments"."promo_total" AS t1_r13, "spree_shipments"."included_tax_total" AS t1_r14, "spree_shipments"."pre_tax_amount" AS t1_r15, "spree_shipments"."taxable_adjustment_total" AS t1_r16, "spree_shipments"."non_taxable_adjustment_total" AS t1_r17, "spree_orders"."id" AS t2_r0, "spree_orders"."number" AS t2_r1, "spree_orders"."item_total" AS t2_r2, "spree_orders"."total" AS t2_r3, "spree_orders"."state" AS t2_r4, "spree_orders"."adjustment_total" AS t2_r5, "spree_orders"."user_id" AS t2_r6, "spree_orders"."completed_at" AS t2_r7, "spree_orders"."bill_address_id" AS t2_r8, "spree_orders"."ship_address_id" AS t2_r9, "spree_orders"."payment_total" AS t2_r10, "spree_orders"."shipment_state" AS t2_r11, "spree_orders"."payment_state" AS t2_r12, "spree_orders"."email" AS t2_r13, "spree_orders"."special_instructions" AS t2_r14, "spree_orders"."created_at" AS t2_r15, "spree_orders"."updated_at" AS t2_r16, "spree_orders"."currency" AS t2_r17, "spree_orders"."last_ip_address" AS t2_r18, "spree_orders"."created_by_id" AS t2_r19, "spree_orders"."shipment_total" AS t2_r20, "spree_orders"."additional_tax_total" AS t2_r21, "spree_orders"."promo_total" AS t2_r22, "spree_orders"."channel" AS t2_r23, "spree_orders"."included_tax_total" AS t2_r24, "spree_orders"."item_count" AS t2_r25, "spree_orders"."approver_id" AS t2_r26, "spree_orders"."approved_at" AS t2_r27, "spree_orders"."confirmation_delivered" AS t2_r28, "spree_orders"."considered_risky" AS t2_r29, "spree_orders"."guest_token" AS t2_r30, "spree_orders"."canceled_at" AS t2_r31, "spree_orders"."canceler_id" AS t2_r32, "spree_orders"."store_id" AS t2_r33, "spree_orders"."state_lock_version" AS t2_r34, "spree_orders"."taxable_adjustment_total" AS t2_r35, "spree_orders"."non_taxable_adjustment_total" AS t2_r36 FROM "spree_inventory_units" LEFT OUTER JOIN "spree_shipments" ON "spree_shipments"."id" = "spree_inventory_units"."shipment_id" LEFT OUTER JOIN "spree_orders" ON "spree_orders"."id" = "spree_inventory_units"."order_id" WHERE ("spree_shipments"."state" != $1) AND "spree_inventory_units"."variant_id" = $2 AND ("spree_orders"."completed_at" IS NOT NULL) AND "spree_inventory_units"."state" = $3 ORDER BY spree_orders.completed_at ASC[0m  [["state", "canceled"], ["variant_id", 20], ["state", "backordered"]]
  [1m[36mSpree::StockLocation Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 20], ["id", 20], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 10], ["updated_at", "2017-07-26 11:02:04.102637"], ["id", 20]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:04.105213' WHERE "spree_variants"."id" = $1[0m  [["id", 20]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:04.108512' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:04.116671' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:04.121067' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1[0m  [["variant_id", 21]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_movements" ("stock_item_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["stock_item_id", 21], ["quantity", 10], ["created_at", "2017-07-26 11:02:04.128588"], ["updated_at", "2017-07-26 11:02:04.128588"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[37mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 21], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_shipments"."id" AS t1_r0, "spree_shipments"."tracking" AS t1_r1, "spree_shipments"."number" AS t1_r2, "spree_shipments"."cost" AS t1_r3, "spree_shipments"."shipped_at" AS t1_r4, "spree_shipments"."order_id" AS t1_r5, "spree_shipments"."address_id" AS t1_r6, "spree_shipments"."state" AS t1_r7, "spree_shipments"."created_at" AS t1_r8, "spree_shipments"."updated_at" AS t1_r9, "spree_shipments"."stock_location_id" AS t1_r10, "spree_shipments"."adjustment_total" AS t1_r11, "spree_shipments"."additional_tax_total" AS t1_r12, "spree_shipments"."promo_total" AS t1_r13, "spree_shipments"."included_tax_total" AS t1_r14, "spree_shipments"."pre_tax_amount" AS t1_r15, "spree_shipments"."taxable_adjustment_total" AS t1_r16, "spree_shipments"."non_taxable_adjustment_total" AS t1_r17, "spree_orders"."id" AS t2_r0, "spree_orders"."number" AS t2_r1, "spree_orders"."item_total" AS t2_r2, "spree_orders"."total" AS t2_r3, "spree_orders"."state" AS t2_r4, "spree_orders"."adjustment_total" AS t2_r5, "spree_orders"."user_id" AS t2_r6, "spree_orders"."completed_at" AS t2_r7, "spree_orders"."bill_address_id" AS t2_r8, "spree_orders"."ship_address_id" AS t2_r9, "spree_orders"."payment_total" AS t2_r10, "spree_orders"."shipment_state" AS t2_r11, "spree_orders"."payment_state" AS t2_r12, "spree_orders"."email" AS t2_r13, "spree_orders"."special_instructions" AS t2_r14, "spree_orders"."created_at" AS t2_r15, "spree_orders"."updated_at" AS t2_r16, "spree_orders"."currency" AS t2_r17, "spree_orders"."last_ip_address" AS t2_r18, "spree_orders"."created_by_id" AS t2_r19, "spree_orders"."shipment_total" AS t2_r20, "spree_orders"."additional_tax_total" AS t2_r21, "spree_orders"."promo_total" AS t2_r22, "spree_orders"."channel" AS t2_r23, "spree_orders"."included_tax_total" AS t2_r24, "spree_orders"."item_count" AS t2_r25, "spree_orders"."approver_id" AS t2_r26, "spree_orders"."approved_at" AS t2_r27, "spree_orders"."confirmation_delivered" AS t2_r28, "spree_orders"."considered_risky" AS t2_r29, "spree_orders"."guest_token" AS t2_r30, "spree_orders"."canceled_at" AS t2_r31, "spree_orders"."canceler_id" AS t2_r32, "spree_orders"."store_id" AS t2_r33, "spree_orders"."state_lock_version" AS t2_r34, "spree_orders"."taxable_adjustment_total" AS t2_r35, "spree_orders"."non_taxable_adjustment_total" AS t2_r36 FROM "spree_inventory_units" LEFT OUTER JOIN "spree_shipments" ON "spree_shipments"."id" = "spree_inventory_units"."shipment_id" LEFT OUTER JOIN "spree_orders" ON "spree_orders"."id" = "spree_inventory_units"."order_id" WHERE ("spree_shipments"."state" != $1) AND "spree_inventory_units"."variant_id" = $2 AND ("spree_orders"."completed_at" IS NOT NULL) AND "spree_inventory_units"."state" = $3 ORDER BY spree_orders.completed_at ASC[0m  [["state", "canceled"], ["variant_id", 21], ["state", "backordered"]]
  [1m[36mSpree::StockLocation Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 21], ["id", 21], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 10], ["updated_at", "2017-07-26 11:02:04.144779"], ["id", 21]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:04.147376' WHERE "spree_variants"."id" = $1[0m  [["id", 21]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:04.150705' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:04.157991' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:04.162729' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1[0m  [["variant_id", 22]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_movements" ("stock_item_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["stock_item_id", 22], ["quantity", 10], ["created_at", "2017-07-26 11:02:04.170451"], ["updated_at", "2017-07-26 11:02:04.170451"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[37mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 22], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_shipments"."id" AS t1_r0, "spree_shipments"."tracking" AS t1_r1, "spree_shipments"."number" AS t1_r2, "spree_shipments"."cost" AS t1_r3, "spree_shipments"."shipped_at" AS t1_r4, "spree_shipments"."order_id" AS t1_r5, "spree_shipments"."address_id" AS t1_r6, "spree_shipments"."state" AS t1_r7, "spree_shipments"."created_at" AS t1_r8, "spree_shipments"."updated_at" AS t1_r9, "spree_shipments"."stock_location_id" AS t1_r10, "spree_shipments"."adjustment_total" AS t1_r11, "spree_shipments"."additional_tax_total" AS t1_r12, "spree_shipments"."promo_total" AS t1_r13, "spree_shipments"."included_tax_total" AS t1_r14, "spree_shipments"."pre_tax_amount" AS t1_r15, "spree_shipments"."taxable_adjustment_total" AS t1_r16, "spree_shipments"."non_taxable_adjustment_total" AS t1_r17, "spree_orders"."id" AS t2_r0, "spree_orders"."number" AS t2_r1, "spree_orders"."item_total" AS t2_r2, "spree_orders"."total" AS t2_r3, "spree_orders"."state" AS t2_r4, "spree_orders"."adjustment_total" AS t2_r5, "spree_orders"."user_id" AS t2_r6, "spree_orders"."completed_at" AS t2_r7, "spree_orders"."bill_address_id" AS t2_r8, "spree_orders"."ship_address_id" AS t2_r9, "spree_orders"."payment_total" AS t2_r10, "spree_orders"."shipment_state" AS t2_r11, "spree_orders"."payment_state" AS t2_r12, "spree_orders"."email" AS t2_r13, "spree_orders"."special_instructions" AS t2_r14, "spree_orders"."created_at" AS t2_r15, "spree_orders"."updated_at" AS t2_r16, "spree_orders"."currency" AS t2_r17, "spree_orders"."last_ip_address" AS t2_r18, "spree_orders"."created_by_id" AS t2_r19, "spree_orders"."shipment_total" AS t2_r20, "spree_orders"."additional_tax_total" AS t2_r21, "spree_orders"."promo_total" AS t2_r22, "spree_orders"."channel" AS t2_r23, "spree_orders"."included_tax_total" AS t2_r24, "spree_orders"."item_count" AS t2_r25, "spree_orders"."approver_id" AS t2_r26, "spree_orders"."approved_at" AS t2_r27, "spree_orders"."confirmation_delivered" AS t2_r28, "spree_orders"."considered_risky" AS t2_r29, "spree_orders"."guest_token" AS t2_r30, "spree_orders"."canceled_at" AS t2_r31, "spree_orders"."canceler_id" AS t2_r32, "spree_orders"."store_id" AS t2_r33, "spree_orders"."state_lock_version" AS t2_r34, "spree_orders"."taxable_adjustment_total" AS t2_r35, "spree_orders"."non_taxable_adjustment_total" AS t2_r36 FROM "spree_inventory_units" LEFT OUTER JOIN "spree_shipments" ON "spree_shipments"."id" = "spree_inventory_units"."shipment_id" LEFT OUTER JOIN "spree_orders" ON "spree_orders"."id" = "spree_inventory_units"."order_id" WHERE ("spree_shipments"."state" != $1) AND "spree_inventory_units"."variant_id" = $2 AND ("spree_orders"."completed_at" IS NOT NULL) AND "spree_inventory_units"."state" = $3 ORDER BY spree_orders.completed_at ASC[0m  [["state", "canceled"], ["variant_id", 22], ["state", "backordered"]]
  [1m[36mSpree::StockLocation Load (0.5ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 22], ["id", 22], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 10], ["updated_at", "2017-07-26 11:02:04.185564"], ["id", 22]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:04.188217' WHERE "spree_variants"."id" = $1[0m  [["id", 22]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:04.191626' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:04.199213' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:04.203505' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::StockItem Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1[0m  [["variant_id", 23]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_movements" ("stock_item_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["stock_item_id", 23], ["quantity", 10], ["created_at", "2017-07-26 11:02:04.210863"], ["updated_at", "2017-07-26 11:02:04.210863"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[37mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 23], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_shipments"."id" AS t1_r0, "spree_shipments"."tracking" AS t1_r1, "spree_shipments"."number" AS t1_r2, "spree_shipments"."cost" AS t1_r3, "spree_shipments"."shipped_at" AS t1_r4, "spree_shipments"."order_id" AS t1_r5, "spree_shipments"."address_id" AS t1_r6, "spree_shipments"."state" AS t1_r7, "spree_shipments"."created_at" AS t1_r8, "spree_shipments"."updated_at" AS t1_r9, "spree_shipments"."stock_location_id" AS t1_r10, "spree_shipments"."adjustment_total" AS t1_r11, "spree_shipments"."additional_tax_total" AS t1_r12, "spree_shipments"."promo_total" AS t1_r13, "spree_shipments"."included_tax_total" AS t1_r14, "spree_shipments"."pre_tax_amount" AS t1_r15, "spree_shipments"."taxable_adjustment_total" AS t1_r16, "spree_shipments"."non_taxable_adjustment_total" AS t1_r17, "spree_orders"."id" AS t2_r0, "spree_orders"."number" AS t2_r1, "spree_orders"."item_total" AS t2_r2, "spree_orders"."total" AS t2_r3, "spree_orders"."state" AS t2_r4, "spree_orders"."adjustment_total" AS t2_r5, "spree_orders"."user_id" AS t2_r6, "spree_orders"."completed_at" AS t2_r7, "spree_orders"."bill_address_id" AS t2_r8, "spree_orders"."ship_address_id" AS t2_r9, "spree_orders"."payment_total" AS t2_r10, "spree_orders"."shipment_state" AS t2_r11, "spree_orders"."payment_state" AS t2_r12, "spree_orders"."email" AS t2_r13, "spree_orders"."special_instructions" AS t2_r14, "spree_orders"."created_at" AS t2_r15, "spree_orders"."updated_at" AS t2_r16, "spree_orders"."currency" AS t2_r17, "spree_orders"."last_ip_address" AS t2_r18, "spree_orders"."created_by_id" AS t2_r19, "spree_orders"."shipment_total" AS t2_r20, "spree_orders"."additional_tax_total" AS t2_r21, "spree_orders"."promo_total" AS t2_r22, "spree_orders"."channel" AS t2_r23, "spree_orders"."included_tax_total" AS t2_r24, "spree_orders"."item_count" AS t2_r25, "spree_orders"."approver_id" AS t2_r26, "spree_orders"."approved_at" AS t2_r27, "spree_orders"."confirmation_delivered" AS t2_r28, "spree_orders"."considered_risky" AS t2_r29, "spree_orders"."guest_token" AS t2_r30, "spree_orders"."canceled_at" AS t2_r31, "spree_orders"."canceler_id" AS t2_r32, "spree_orders"."store_id" AS t2_r33, "spree_orders"."state_lock_version" AS t2_r34, "spree_orders"."taxable_adjustment_total" AS t2_r35, "spree_orders"."non_taxable_adjustment_total" AS t2_r36 FROM "spree_inventory_units" LEFT OUTER JOIN "spree_shipments" ON "spree_shipments"."id" = "spree_inventory_units"."shipment_id" LEFT OUTER JOIN "spree_orders" ON "spree_orders"."id" = "spree_inventory_units"."order_id" WHERE ("spree_shipments"."state" != $1) AND "spree_inventory_units"."variant_id" = $2 AND ("spree_orders"."completed_at" IS NOT NULL) AND "spree_inventory_units"."state" = $3 ORDER BY spree_orders.completed_at ASC[0m  [["state", "canceled"], ["variant_id", 23], ["state", "backordered"]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 23], ["id", 23], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 10], ["updated_at", "2017-07-26 11:02:04.231110"], ["id", 23]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:04.234557' WHERE "spree_variants"."id" = $1[0m  [["id", 23]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:04.238647' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:04.248515' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:04.254107' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::StockItem Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1[0m  [["variant_id", 24]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_movements" ("stock_item_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["stock_item_id", 24], ["quantity", 10], ["created_at", "2017-07-26 11:02:04.263647"], ["updated_at", "2017-07-26 11:02:04.263647"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[37mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 24], ["LIMIT", 1]]
  [1m[35mSQL (2.1ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_shipments"."id" AS t1_r0, "spree_shipments"."tracking" AS t1_r1, "spree_shipments"."number" AS t1_r2, "spree_shipments"."cost" AS t1_r3, "spree_shipments"."shipped_at" AS t1_r4, "spree_shipments"."order_id" AS t1_r5, "spree_shipments"."address_id" AS t1_r6, "spree_shipments"."state" AS t1_r7, "spree_shipments"."created_at" AS t1_r8, "spree_shipments"."updated_at" AS t1_r9, "spree_shipments"."stock_location_id" AS t1_r10, "spree_shipments"."adjustment_total" AS t1_r11, "spree_shipments"."additional_tax_total" AS t1_r12, "spree_shipments"."promo_total" AS t1_r13, "spree_shipments"."included_tax_total" AS t1_r14, "spree_shipments"."pre_tax_amount" AS t1_r15, "spree_shipments"."taxable_adjustment_total" AS t1_r16, "spree_shipments"."non_taxable_adjustment_total" AS t1_r17, "spree_orders"."id" AS t2_r0, "spree_orders"."number" AS t2_r1, "spree_orders"."item_total" AS t2_r2, "spree_orders"."total" AS t2_r3, "spree_orders"."state" AS t2_r4, "spree_orders"."adjustment_total" AS t2_r5, "spree_orders"."user_id" AS t2_r6, "spree_orders"."completed_at" AS t2_r7, "spree_orders"."bill_address_id" AS t2_r8, "spree_orders"."ship_address_id" AS t2_r9, "spree_orders"."payment_total" AS t2_r10, "spree_orders"."shipment_state" AS t2_r11, "spree_orders"."payment_state" AS t2_r12, "spree_orders"."email" AS t2_r13, "spree_orders"."special_instructions" AS t2_r14, "spree_orders"."created_at" AS t2_r15, "spree_orders"."updated_at" AS t2_r16, "spree_orders"."currency" AS t2_r17, "spree_orders"."last_ip_address" AS t2_r18, "spree_orders"."created_by_id" AS t2_r19, "spree_orders"."shipment_total" AS t2_r20, "spree_orders"."additional_tax_total" AS t2_r21, "spree_orders"."promo_total" AS t2_r22, "spree_orders"."channel" AS t2_r23, "spree_orders"."included_tax_total" AS t2_r24, "spree_orders"."item_count" AS t2_r25, "spree_orders"."approver_id" AS t2_r26, "spree_orders"."approved_at" AS t2_r27, "spree_orders"."confirmation_delivered" AS t2_r28, "spree_orders"."considered_risky" AS t2_r29, "spree_orders"."guest_token" AS t2_r30, "spree_orders"."canceled_at" AS t2_r31, "spree_orders"."canceler_id" AS t2_r32, "spree_orders"."store_id" AS t2_r33, "spree_orders"."state_lock_version" AS t2_r34, "spree_orders"."taxable_adjustment_total" AS t2_r35, "spree_orders"."non_taxable_adjustment_total" AS t2_r36 FROM "spree_inventory_units" LEFT OUTER JOIN "spree_shipments" ON "spree_shipments"."id" = "spree_inventory_units"."shipment_id" LEFT OUTER JOIN "spree_orders" ON "spree_orders"."id" = "spree_inventory_units"."order_id" WHERE ("spree_shipments"."state" != $1) AND "spree_inventory_units"."variant_id" = $2 AND ("spree_orders"."completed_at" IS NOT NULL) AND "spree_inventory_units"."state" = $3 ORDER BY spree_orders.completed_at ASC[0m  [["state", "canceled"], ["variant_id", 24], ["state", "backordered"]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 24], ["id", 24], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 10], ["updated_at", "2017-07-26 11:02:04.284903"], ["id", 24]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:04.287980' WHERE "spree_variants"."id" = $1[0m  [["id", 24]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:04.292605' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:04.303091' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:04.308961' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::StockItem Load (0.5ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1[0m  [["variant_id", 25]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_movements" ("stock_item_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["stock_item_id", 25], ["quantity", 10], ["created_at", "2017-07-26 11:02:04.318917"], ["updated_at", "2017-07-26 11:02:04.318917"]]
  [1m[36mSpree::Preference Load (1.0ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[37mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 25], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_shipments"."id" AS t1_r0, "spree_shipments"."tracking" AS t1_r1, "spree_shipments"."number" AS t1_r2, "spree_shipments"."cost" AS t1_r3, "spree_shipments"."shipped_at" AS t1_r4, "spree_shipments"."order_id" AS t1_r5, "spree_shipments"."address_id" AS t1_r6, "spree_shipments"."state" AS t1_r7, "spree_shipments"."created_at" AS t1_r8, "spree_shipments"."updated_at" AS t1_r9, "spree_shipments"."stock_location_id" AS t1_r10, "spree_shipments"."adjustment_total" AS t1_r11, "spree_shipments"."additional_tax_total" AS t1_r12, "spree_shipments"."promo_total" AS t1_r13, "spree_shipments"."included_tax_total" AS t1_r14, "spree_shipments"."pre_tax_amount" AS t1_r15, "spree_shipments"."taxable_adjustment_total" AS t1_r16, "spree_shipments"."non_taxable_adjustment_total" AS t1_r17, "spree_orders"."id" AS t2_r0, "spree_orders"."number" AS t2_r1, "spree_orders"."item_total" AS t2_r2, "spree_orders"."total" AS t2_r3, "spree_orders"."state" AS t2_r4, "spree_orders"."adjustment_total" AS t2_r5, "spree_orders"."user_id" AS t2_r6, "spree_orders"."completed_at" AS t2_r7, "spree_orders"."bill_address_id" AS t2_r8, "spree_orders"."ship_address_id" AS t2_r9, "spree_orders"."payment_total" AS t2_r10, "spree_orders"."shipment_state" AS t2_r11, "spree_orders"."payment_state" AS t2_r12, "spree_orders"."email" AS t2_r13, "spree_orders"."special_instructions" AS t2_r14, "spree_orders"."created_at" AS t2_r15, "spree_orders"."updated_at" AS t2_r16, "spree_orders"."currency" AS t2_r17, "spree_orders"."last_ip_address" AS t2_r18, "spree_orders"."created_by_id" AS t2_r19, "spree_orders"."shipment_total" AS t2_r20, "spree_orders"."additional_tax_total" AS t2_r21, "spree_orders"."promo_total" AS t2_r22, "spree_orders"."channel" AS t2_r23, "spree_orders"."included_tax_total" AS t2_r24, "spree_orders"."item_count" AS t2_r25, "spree_orders"."approver_id" AS t2_r26, "spree_orders"."approved_at" AS t2_r27, "spree_orders"."confirmation_delivered" AS t2_r28, "spree_orders"."considered_risky" AS t2_r29, "spree_orders"."guest_token" AS t2_r30, "spree_orders"."canceled_at" AS t2_r31, "spree_orders"."canceler_id" AS t2_r32, "spree_orders"."store_id" AS t2_r33, "spree_orders"."state_lock_version" AS t2_r34, "spree_orders"."taxable_adjustment_total" AS t2_r35, "spree_orders"."non_taxable_adjustment_total" AS t2_r36 FROM "spree_inventory_units" LEFT OUTER JOIN "spree_shipments" ON "spree_shipments"."id" = "spree_inventory_units"."shipment_id" LEFT OUTER JOIN "spree_orders" ON "spree_orders"."id" = "spree_inventory_units"."order_id" WHERE ("spree_shipments"."state" != $1) AND "spree_inventory_units"."variant_id" = $2 AND ("spree_orders"."completed_at" IS NOT NULL) AND "spree_inventory_units"."state" = $3 ORDER BY spree_orders.completed_at ASC[0m  [["state", "canceled"], ["variant_id", 25], ["state", "backordered"]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 25], ["id", 25], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 10], ["updated_at", "2017-07-26 11:02:04.338545"], ["id", 25]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:04.341840' WHERE "spree_variants"."id" = $1[0m  [["id", 25]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:04.345717' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (1.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:04.355209' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:04.361746' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::StockItem Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1[0m  [["variant_id", 26]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_movements" ("stock_item_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["stock_item_id", 26], ["quantity", 10], ["created_at", "2017-07-26 11:02:04.370670"], ["updated_at", "2017-07-26 11:02:04.370670"]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[37mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 26], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_shipments"."id" AS t1_r0, "spree_shipments"."tracking" AS t1_r1, "spree_shipments"."number" AS t1_r2, "spree_shipments"."cost" AS t1_r3, "spree_shipments"."shipped_at" AS t1_r4, "spree_shipments"."order_id" AS t1_r5, "spree_shipments"."address_id" AS t1_r6, "spree_shipments"."state" AS t1_r7, "spree_shipments"."created_at" AS t1_r8, "spree_shipments"."updated_at" AS t1_r9, "spree_shipments"."stock_location_id" AS t1_r10, "spree_shipments"."adjustment_total" AS t1_r11, "spree_shipments"."additional_tax_total" AS t1_r12, "spree_shipments"."promo_total" AS t1_r13, "spree_shipments"."included_tax_total" AS t1_r14, "spree_shipments"."pre_tax_amount" AS t1_r15, "spree_shipments"."taxable_adjustment_total" AS t1_r16, "spree_shipments"."non_taxable_adjustment_total" AS t1_r17, "spree_orders"."id" AS t2_r0, "spree_orders"."number" AS t2_r1, "spree_orders"."item_total" AS t2_r2, "spree_orders"."total" AS t2_r3, "spree_orders"."state" AS t2_r4, "spree_orders"."adjustment_total" AS t2_r5, "spree_orders"."user_id" AS t2_r6, "spree_orders"."completed_at" AS t2_r7, "spree_orders"."bill_address_id" AS t2_r8, "spree_orders"."ship_address_id" AS t2_r9, "spree_orders"."payment_total" AS t2_r10, "spree_orders"."shipment_state" AS t2_r11, "spree_orders"."payment_state" AS t2_r12, "spree_orders"."email" AS t2_r13, "spree_orders"."special_instructions" AS t2_r14, "spree_orders"."created_at" AS t2_r15, "spree_orders"."updated_at" AS t2_r16, "spree_orders"."currency" AS t2_r17, "spree_orders"."last_ip_address" AS t2_r18, "spree_orders"."created_by_id" AS t2_r19, "spree_orders"."shipment_total" AS t2_r20, "spree_orders"."additional_tax_total" AS t2_r21, "spree_orders"."promo_total" AS t2_r22, "spree_orders"."channel" AS t2_r23, "spree_orders"."included_tax_total" AS t2_r24, "spree_orders"."item_count" AS t2_r25, "spree_orders"."approver_id" AS t2_r26, "spree_orders"."approved_at" AS t2_r27, "spree_orders"."confirmation_delivered" AS t2_r28, "spree_orders"."considered_risky" AS t2_r29, "spree_orders"."guest_token" AS t2_r30, "spree_orders"."canceled_at" AS t2_r31, "spree_orders"."canceler_id" AS t2_r32, "spree_orders"."store_id" AS t2_r33, "spree_orders"."state_lock_version" AS t2_r34, "spree_orders"."taxable_adjustment_total" AS t2_r35, "spree_orders"."non_taxable_adjustment_total" AS t2_r36 FROM "spree_inventory_units" LEFT OUTER JOIN "spree_shipments" ON "spree_shipments"."id" = "spree_inventory_units"."shipment_id" LEFT OUTER JOIN "spree_orders" ON "spree_orders"."id" = "spree_inventory_units"."order_id" WHERE ("spree_shipments"."state" != $1) AND "spree_inventory_units"."variant_id" = $2 AND ("spree_orders"."completed_at" IS NOT NULL) AND "spree_inventory_units"."state" = $3 ORDER BY spree_orders.completed_at ASC[0m  [["state", "canceled"], ["variant_id", 26], ["state", "backordered"]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 26], ["id", 26], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 10], ["updated_at", "2017-07-26 11:02:04.390331"], ["id", 26]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:04.393611' WHERE "spree_variants"."id" = $1[0m  [["id", 26]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:04.398097' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:04.407443' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:04.413450' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 3], ["is_master", "f"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 1], ["is_master", "f"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1[0m  [["variant_id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_movements" ("stock_item_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["stock_item_id", 1], ["quantity", 10], ["created_at", "2017-07-26 11:02:04.434080"], ["updated_at", "2017-07-26 11:02:04.434080"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[37mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.8ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_shipments"."id" AS t1_r0, "spree_shipments"."tracking" AS t1_r1, "spree_shipments"."number" AS t1_r2, "spree_shipments"."cost" AS t1_r3, "spree_shipments"."shipped_at" AS t1_r4, "spree_shipments"."order_id" AS t1_r5, "spree_shipments"."address_id" AS t1_r6, "spree_shipments"."state" AS t1_r7, "spree_shipments"."created_at" AS t1_r8, "spree_shipments"."updated_at" AS t1_r9, "spree_shipments"."stock_location_id" AS t1_r10, "spree_shipments"."adjustment_total" AS t1_r11, "spree_shipments"."additional_tax_total" AS t1_r12, "spree_shipments"."promo_total" AS t1_r13, "spree_shipments"."included_tax_total" AS t1_r14, "spree_shipments"."pre_tax_amount" AS t1_r15, "spree_shipments"."taxable_adjustment_total" AS t1_r16, "spree_shipments"."non_taxable_adjustment_total" AS t1_r17, "spree_orders"."id" AS t2_r0, "spree_orders"."number" AS t2_r1, "spree_orders"."item_total" AS t2_r2, "spree_orders"."total" AS t2_r3, "spree_orders"."state" AS t2_r4, "spree_orders"."adjustment_total" AS t2_r5, "spree_orders"."user_id" AS t2_r6, "spree_orders"."completed_at" AS t2_r7, "spree_orders"."bill_address_id" AS t2_r8, "spree_orders"."ship_address_id" AS t2_r9, "spree_orders"."payment_total" AS t2_r10, "spree_orders"."shipment_state" AS t2_r11, "spree_orders"."payment_state" AS t2_r12, "spree_orders"."email" AS t2_r13, "spree_orders"."special_instructions" AS t2_r14, "spree_orders"."created_at" AS t2_r15, "spree_orders"."updated_at" AS t2_r16, "spree_orders"."currency" AS t2_r17, "spree_orders"."last_ip_address" AS t2_r18, "spree_orders"."created_by_id" AS t2_r19, "spree_orders"."shipment_total" AS t2_r20, "spree_orders"."additional_tax_total" AS t2_r21, "spree_orders"."promo_total" AS t2_r22, "spree_orders"."channel" AS t2_r23, "spree_orders"."included_tax_total" AS t2_r24, "spree_orders"."item_count" AS t2_r25, "spree_orders"."approver_id" AS t2_r26, "spree_orders"."approved_at" AS t2_r27, "spree_orders"."confirmation_delivered" AS t2_r28, "spree_orders"."considered_risky" AS t2_r29, "spree_orders"."guest_token" AS t2_r30, "spree_orders"."canceled_at" AS t2_r31, "spree_orders"."canceler_id" AS t2_r32, "spree_orders"."store_id" AS t2_r33, "spree_orders"."state_lock_version" AS t2_r34, "spree_orders"."taxable_adjustment_total" AS t2_r35, "spree_orders"."non_taxable_adjustment_total" AS t2_r36 FROM "spree_inventory_units" LEFT OUTER JOIN "spree_shipments" ON "spree_shipments"."id" = "spree_inventory_units"."shipment_id" LEFT OUTER JOIN "spree_orders" ON "spree_orders"."id" = "spree_inventory_units"."order_id" WHERE ("spree_shipments"."state" != $1) AND "spree_inventory_units"."variant_id" = $2 AND ("spree_orders"."completed_at" IS NOT NULL) AND "spree_inventory_units"."state" = $3 ORDER BY spree_orders.completed_at ASC[0m  [["state", "canceled"], ["variant_id", 1], ["state", "backordered"]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 1], ["id", 1], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 10], ["updated_at", "2017-07-26 11:02:04.462369"], ["id", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:04.465069' WHERE "spree_variants"."id" = $1[0m  [["id", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:04.468086' WHERE "spree_products"."id" = $1[0m  [["id", 1]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 1]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:04.474917' WHERE "spree_taxons"."id" IN (2, 11, 1, 3)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:04.479811' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 2], ["is_master", "f"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1[0m  [["variant_id", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_movements" ("stock_item_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["stock_item_id", 2], ["quantity", 10], ["created_at", "2017-07-26 11:02:04.491014"], ["updated_at", "2017-07-26 11:02:04.491014"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[37mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_shipments"."id" AS t1_r0, "spree_shipments"."tracking" AS t1_r1, "spree_shipments"."number" AS t1_r2, "spree_shipments"."cost" AS t1_r3, "spree_shipments"."shipped_at" AS t1_r4, "spree_shipments"."order_id" AS t1_r5, "spree_shipments"."address_id" AS t1_r6, "spree_shipments"."state" AS t1_r7, "spree_shipments"."created_at" AS t1_r8, "spree_shipments"."updated_at" AS t1_r9, "spree_shipments"."stock_location_id" AS t1_r10, "spree_shipments"."adjustment_total" AS t1_r11, "spree_shipments"."additional_tax_total" AS t1_r12, "spree_shipments"."promo_total" AS t1_r13, "spree_shipments"."included_tax_total" AS t1_r14, "spree_shipments"."pre_tax_amount" AS t1_r15, "spree_shipments"."taxable_adjustment_total" AS t1_r16, "spree_shipments"."non_taxable_adjustment_total" AS t1_r17, "spree_orders"."id" AS t2_r0, "spree_orders"."number" AS t2_r1, "spree_orders"."item_total" AS t2_r2, "spree_orders"."total" AS t2_r3, "spree_orders"."state" AS t2_r4, "spree_orders"."adjustment_total" AS t2_r5, "spree_orders"."user_id" AS t2_r6, "spree_orders"."completed_at" AS t2_r7, "spree_orders"."bill_address_id" AS t2_r8, "spree_orders"."ship_address_id" AS t2_r9, "spree_orders"."payment_total" AS t2_r10, "spree_orders"."shipment_state" AS t2_r11, "spree_orders"."payment_state" AS t2_r12, "spree_orders"."email" AS t2_r13, "spree_orders"."special_instructions" AS t2_r14, "spree_orders"."created_at" AS t2_r15, "spree_orders"."updated_at" AS t2_r16, "spree_orders"."currency" AS t2_r17, "spree_orders"."last_ip_address" AS t2_r18, "spree_orders"."created_by_id" AS t2_r19, "spree_orders"."shipment_total" AS t2_r20, "spree_orders"."additional_tax_total" AS t2_r21, "spree_orders"."promo_total" AS t2_r22, "spree_orders"."channel" AS t2_r23, "spree_orders"."included_tax_total" AS t2_r24, "spree_orders"."item_count" AS t2_r25, "spree_orders"."approver_id" AS t2_r26, "spree_orders"."approved_at" AS t2_r27, "spree_orders"."confirmation_delivered" AS t2_r28, "spree_orders"."considered_risky" AS t2_r29, "spree_orders"."guest_token" AS t2_r30, "spree_orders"."canceled_at" AS t2_r31, "spree_orders"."canceler_id" AS t2_r32, "spree_orders"."store_id" AS t2_r33, "spree_orders"."state_lock_version" AS t2_r34, "spree_orders"."taxable_adjustment_total" AS t2_r35, "spree_orders"."non_taxable_adjustment_total" AS t2_r36 FROM "spree_inventory_units" LEFT OUTER JOIN "spree_shipments" ON "spree_shipments"."id" = "spree_inventory_units"."shipment_id" LEFT OUTER JOIN "spree_orders" ON "spree_orders"."id" = "spree_inventory_units"."order_id" WHERE ("spree_shipments"."state" != $1) AND "spree_inventory_units"."variant_id" = $2 AND ("spree_orders"."completed_at" IS NOT NULL) AND "spree_inventory_units"."state" = $3 ORDER BY spree_orders.completed_at ASC[0m  [["state", "canceled"], ["variant_id", 2], ["state", "backordered"]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 2], ["id", 2], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 10], ["updated_at", "2017-07-26 11:02:04.504033"], ["id", 2]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:04.506513' WHERE "spree_variants"."id" = $1[0m  [["id", 2]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:04.509714' WHERE "spree_products"."id" = $1[0m  [["id", 2]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 2]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:04.516718' WHERE "spree_taxons"."id" IN (2, 11, 1, 3)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:04.520815' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 4], ["is_master", "f"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.5ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1[0m  [["variant_id", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_movements" ("stock_item_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["stock_item_id", 4], ["quantity", 10], ["created_at", "2017-07-26 11:02:04.532304"], ["updated_at", "2017-07-26 11:02:04.532304"]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[37mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_shipments"."id" AS t1_r0, "spree_shipments"."tracking" AS t1_r1, "spree_shipments"."number" AS t1_r2, "spree_shipments"."cost" AS t1_r3, "spree_shipments"."shipped_at" AS t1_r4, "spree_shipments"."order_id" AS t1_r5, "spree_shipments"."address_id" AS t1_r6, "spree_shipments"."state" AS t1_r7, "spree_shipments"."created_at" AS t1_r8, "spree_shipments"."updated_at" AS t1_r9, "spree_shipments"."stock_location_id" AS t1_r10, "spree_shipments"."adjustment_total" AS t1_r11, "spree_shipments"."additional_tax_total" AS t1_r12, "spree_shipments"."promo_total" AS t1_r13, "spree_shipments"."included_tax_total" AS t1_r14, "spree_shipments"."pre_tax_amount" AS t1_r15, "spree_shipments"."taxable_adjustment_total" AS t1_r16, "spree_shipments"."non_taxable_adjustment_total" AS t1_r17, "spree_orders"."id" AS t2_r0, "spree_orders"."number" AS t2_r1, "spree_orders"."item_total" AS t2_r2, "spree_orders"."total" AS t2_r3, "spree_orders"."state" AS t2_r4, "spree_orders"."adjustment_total" AS t2_r5, "spree_orders"."user_id" AS t2_r6, "spree_orders"."completed_at" AS t2_r7, "spree_orders"."bill_address_id" AS t2_r8, "spree_orders"."ship_address_id" AS t2_r9, "spree_orders"."payment_total" AS t2_r10, "spree_orders"."shipment_state" AS t2_r11, "spree_orders"."payment_state" AS t2_r12, "spree_orders"."email" AS t2_r13, "spree_orders"."special_instructions" AS t2_r14, "spree_orders"."created_at" AS t2_r15, "spree_orders"."updated_at" AS t2_r16, "spree_orders"."currency" AS t2_r17, "spree_orders"."last_ip_address" AS t2_r18, "spree_orders"."created_by_id" AS t2_r19, "spree_orders"."shipment_total" AS t2_r20, "spree_orders"."additional_tax_total" AS t2_r21, "spree_orders"."promo_total" AS t2_r22, "spree_orders"."channel" AS t2_r23, "spree_orders"."included_tax_total" AS t2_r24, "spree_orders"."item_count" AS t2_r25, "spree_orders"."approver_id" AS t2_r26, "spree_orders"."approved_at" AS t2_r27, "spree_orders"."confirmation_delivered" AS t2_r28, "spree_orders"."considered_risky" AS t2_r29, "spree_orders"."guest_token" AS t2_r30, "spree_orders"."canceled_at" AS t2_r31, "spree_orders"."canceler_id" AS t2_r32, "spree_orders"."store_id" AS t2_r33, "spree_orders"."state_lock_version" AS t2_r34, "spree_orders"."taxable_adjustment_total" AS t2_r35, "spree_orders"."non_taxable_adjustment_total" AS t2_r36 FROM "spree_inventory_units" LEFT OUTER JOIN "spree_shipments" ON "spree_shipments"."id" = "spree_inventory_units"."shipment_id" LEFT OUTER JOIN "spree_orders" ON "spree_orders"."id" = "spree_inventory_units"."order_id" WHERE ("spree_shipments"."state" != $1) AND "spree_inventory_units"."variant_id" = $2 AND ("spree_orders"."completed_at" IS NOT NULL) AND "spree_inventory_units"."state" = $3 ORDER BY spree_orders.completed_at ASC[0m  [["state", "canceled"], ["variant_id", 4], ["state", "backordered"]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 4], ["id", 4], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 10], ["updated_at", "2017-07-26 11:02:04.545870"], ["id", 4]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:04.548363' WHERE "spree_variants"."id" = $1[0m  [["id", 4]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:04.551354' WHERE "spree_products"."id" = $1[0m  [["id", 4]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 4]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:04.558768' WHERE "spree_taxons"."id" IN (1, 5, 6, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:04.562881' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 13], ["is_master", "f"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1[0m  [["variant_id", 13]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_movements" ("stock_item_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["stock_item_id", 13], ["quantity", 10], ["created_at", "2017-07-26 11:02:04.573757"], ["updated_at", "2017-07-26 11:02:04.573757"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[37mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35mSQL (1.8ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_shipments"."id" AS t1_r0, "spree_shipments"."tracking" AS t1_r1, "spree_shipments"."number" AS t1_r2, "spree_shipments"."cost" AS t1_r3, "spree_shipments"."shipped_at" AS t1_r4, "spree_shipments"."order_id" AS t1_r5, "spree_shipments"."address_id" AS t1_r6, "spree_shipments"."state" AS t1_r7, "spree_shipments"."created_at" AS t1_r8, "spree_shipments"."updated_at" AS t1_r9, "spree_shipments"."stock_location_id" AS t1_r10, "spree_shipments"."adjustment_total" AS t1_r11, "spree_shipments"."additional_tax_total" AS t1_r12, "spree_shipments"."promo_total" AS t1_r13, "spree_shipments"."included_tax_total" AS t1_r14, "spree_shipments"."pre_tax_amount" AS t1_r15, "spree_shipments"."taxable_adjustment_total" AS t1_r16, "spree_shipments"."non_taxable_adjustment_total" AS t1_r17, "spree_orders"."id" AS t2_r0, "spree_orders"."number" AS t2_r1, "spree_orders"."item_total" AS t2_r2, "spree_orders"."total" AS t2_r3, "spree_orders"."state" AS t2_r4, "spree_orders"."adjustment_total" AS t2_r5, "spree_orders"."user_id" AS t2_r6, "spree_orders"."completed_at" AS t2_r7, "spree_orders"."bill_address_id" AS t2_r8, "spree_orders"."ship_address_id" AS t2_r9, "spree_orders"."payment_total" AS t2_r10, "spree_orders"."shipment_state" AS t2_r11, "spree_orders"."payment_state" AS t2_r12, "spree_orders"."email" AS t2_r13, "spree_orders"."special_instructions" AS t2_r14, "spree_orders"."created_at" AS t2_r15, "spree_orders"."updated_at" AS t2_r16, "spree_orders"."currency" AS t2_r17, "spree_orders"."last_ip_address" AS t2_r18, "spree_orders"."created_by_id" AS t2_r19, "spree_orders"."shipment_total" AS t2_r20, "spree_orders"."additional_tax_total" AS t2_r21, "spree_orders"."promo_total" AS t2_r22, "spree_orders"."channel" AS t2_r23, "spree_orders"."included_tax_total" AS t2_r24, "spree_orders"."item_count" AS t2_r25, "spree_orders"."approver_id" AS t2_r26, "spree_orders"."approved_at" AS t2_r27, "spree_orders"."confirmation_delivered" AS t2_r28, "spree_orders"."considered_risky" AS t2_r29, "spree_orders"."guest_token" AS t2_r30, "spree_orders"."canceled_at" AS t2_r31, "spree_orders"."canceler_id" AS t2_r32, "spree_orders"."store_id" AS t2_r33, "spree_orders"."state_lock_version" AS t2_r34, "spree_orders"."taxable_adjustment_total" AS t2_r35, "spree_orders"."non_taxable_adjustment_total" AS t2_r36 FROM "spree_inventory_units" LEFT OUTER JOIN "spree_shipments" ON "spree_shipments"."id" = "spree_inventory_units"."shipment_id" LEFT OUTER JOIN "spree_orders" ON "spree_orders"."id" = "spree_inventory_units"."order_id" WHERE ("spree_shipments"."state" != $1) AND "spree_inventory_units"."variant_id" = $2 AND ("spree_orders"."completed_at" IS NOT NULL) AND "spree_inventory_units"."state" = $3 ORDER BY spree_orders.completed_at ASC[0m  [["state", "canceled"], ["variant_id", 13], ["state", "backordered"]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 13], ["id", 13], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 10], ["updated_at", "2017-07-26 11:02:04.587258"], ["id", 13]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:04.589736' WHERE "spree_variants"."id" = $1[0m  [["id", 13]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:04.592962' WHERE "spree_products"."id" = $1[0m  [["id", 13]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 13]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:04.599750' WHERE "spree_taxons"."id" IN (1, 4, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:04.603991' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 5], ["is_master", "f"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1[0m  [["variant_id", 5]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_movements" ("stock_item_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["stock_item_id", 5], ["quantity", 10], ["created_at", "2017-07-26 11:02:04.614952"], ["updated_at", "2017-07-26 11:02:04.614952"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[37mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_shipments"."id" AS t1_r0, "spree_shipments"."tracking" AS t1_r1, "spree_shipments"."number" AS t1_r2, "spree_shipments"."cost" AS t1_r3, "spree_shipments"."shipped_at" AS t1_r4, "spree_shipments"."order_id" AS t1_r5, "spree_shipments"."address_id" AS t1_r6, "spree_shipments"."state" AS t1_r7, "spree_shipments"."created_at" AS t1_r8, "spree_shipments"."updated_at" AS t1_r9, "spree_shipments"."stock_location_id" AS t1_r10, "spree_shipments"."adjustment_total" AS t1_r11, "spree_shipments"."additional_tax_total" AS t1_r12, "spree_shipments"."promo_total" AS t1_r13, "spree_shipments"."included_tax_total" AS t1_r14, "spree_shipments"."pre_tax_amount" AS t1_r15, "spree_shipments"."taxable_adjustment_total" AS t1_r16, "spree_shipments"."non_taxable_adjustment_total" AS t1_r17, "spree_orders"."id" AS t2_r0, "spree_orders"."number" AS t2_r1, "spree_orders"."item_total" AS t2_r2, "spree_orders"."total" AS t2_r3, "spree_orders"."state" AS t2_r4, "spree_orders"."adjustment_total" AS t2_r5, "spree_orders"."user_id" AS t2_r6, "spree_orders"."completed_at" AS t2_r7, "spree_orders"."bill_address_id" AS t2_r8, "spree_orders"."ship_address_id" AS t2_r9, "spree_orders"."payment_total" AS t2_r10, "spree_orders"."shipment_state" AS t2_r11, "spree_orders"."payment_state" AS t2_r12, "spree_orders"."email" AS t2_r13, "spree_orders"."special_instructions" AS t2_r14, "spree_orders"."created_at" AS t2_r15, "spree_orders"."updated_at" AS t2_r16, "spree_orders"."currency" AS t2_r17, "spree_orders"."last_ip_address" AS t2_r18, "spree_orders"."created_by_id" AS t2_r19, "spree_orders"."shipment_total" AS t2_r20, "spree_orders"."additional_tax_total" AS t2_r21, "spree_orders"."promo_total" AS t2_r22, "spree_orders"."channel" AS t2_r23, "spree_orders"."included_tax_total" AS t2_r24, "spree_orders"."item_count" AS t2_r25, "spree_orders"."approver_id" AS t2_r26, "spree_orders"."approved_at" AS t2_r27, "spree_orders"."confirmation_delivered" AS t2_r28, "spree_orders"."considered_risky" AS t2_r29, "spree_orders"."guest_token" AS t2_r30, "spree_orders"."canceled_at" AS t2_r31, "spree_orders"."canceler_id" AS t2_r32, "spree_orders"."store_id" AS t2_r33, "spree_orders"."state_lock_version" AS t2_r34, "spree_orders"."taxable_adjustment_total" AS t2_r35, "spree_orders"."non_taxable_adjustment_total" AS t2_r36 FROM "spree_inventory_units" LEFT OUTER JOIN "spree_shipments" ON "spree_shipments"."id" = "spree_inventory_units"."shipment_id" LEFT OUTER JOIN "spree_orders" ON "spree_orders"."id" = "spree_inventory_units"."order_id" WHERE ("spree_shipments"."state" != $1) AND "spree_inventory_units"."variant_id" = $2 AND ("spree_orders"."completed_at" IS NOT NULL) AND "spree_inventory_units"."state" = $3 ORDER BY spree_orders.completed_at ASC[0m  [["state", "canceled"], ["variant_id", 5], ["state", "backordered"]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 5], ["id", 5], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 10], ["updated_at", "2017-07-26 11:02:04.629369"], ["id", 5]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:04.632101' WHERE "spree_variants"."id" = $1[0m  [["id", 5]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:04.635116' WHERE "spree_products"."id" = $1[0m  [["id", 5]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 5]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:04.643232' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:04.647514' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 14], ["is_master", "f"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.5ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1[0m  [["variant_id", 14]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_movements" ("stock_item_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["stock_item_id", 14], ["quantity", 10], ["created_at", "2017-07-26 11:02:04.658792"], ["updated_at", "2017-07-26 11:02:04.658792"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[37mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_shipments"."id" AS t1_r0, "spree_shipments"."tracking" AS t1_r1, "spree_shipments"."number" AS t1_r2, "spree_shipments"."cost" AS t1_r3, "spree_shipments"."shipped_at" AS t1_r4, "spree_shipments"."order_id" AS t1_r5, "spree_shipments"."address_id" AS t1_r6, "spree_shipments"."state" AS t1_r7, "spree_shipments"."created_at" AS t1_r8, "spree_shipments"."updated_at" AS t1_r9, "spree_shipments"."stock_location_id" AS t1_r10, "spree_shipments"."adjustment_total" AS t1_r11, "spree_shipments"."additional_tax_total" AS t1_r12, "spree_shipments"."promo_total" AS t1_r13, "spree_shipments"."included_tax_total" AS t1_r14, "spree_shipments"."pre_tax_amount" AS t1_r15, "spree_shipments"."taxable_adjustment_total" AS t1_r16, "spree_shipments"."non_taxable_adjustment_total" AS t1_r17, "spree_orders"."id" AS t2_r0, "spree_orders"."number" AS t2_r1, "spree_orders"."item_total" AS t2_r2, "spree_orders"."total" AS t2_r3, "spree_orders"."state" AS t2_r4, "spree_orders"."adjustment_total" AS t2_r5, "spree_orders"."user_id" AS t2_r6, "spree_orders"."completed_at" AS t2_r7, "spree_orders"."bill_address_id" AS t2_r8, "spree_orders"."ship_address_id" AS t2_r9, "spree_orders"."payment_total" AS t2_r10, "spree_orders"."shipment_state" AS t2_r11, "spree_orders"."payment_state" AS t2_r12, "spree_orders"."email" AS t2_r13, "spree_orders"."special_instructions" AS t2_r14, "spree_orders"."created_at" AS t2_r15, "spree_orders"."updated_at" AS t2_r16, "spree_orders"."currency" AS t2_r17, "spree_orders"."last_ip_address" AS t2_r18, "spree_orders"."created_by_id" AS t2_r19, "spree_orders"."shipment_total" AS t2_r20, "spree_orders"."additional_tax_total" AS t2_r21, "spree_orders"."promo_total" AS t2_r22, "spree_orders"."channel" AS t2_r23, "spree_orders"."included_tax_total" AS t2_r24, "spree_orders"."item_count" AS t2_r25, "spree_orders"."approver_id" AS t2_r26, "spree_orders"."approved_at" AS t2_r27, "spree_orders"."confirmation_delivered" AS t2_r28, "spree_orders"."considered_risky" AS t2_r29, "spree_orders"."guest_token" AS t2_r30, "spree_orders"."canceled_at" AS t2_r31, "spree_orders"."canceler_id" AS t2_r32, "spree_orders"."store_id" AS t2_r33, "spree_orders"."state_lock_version" AS t2_r34, "spree_orders"."taxable_adjustment_total" AS t2_r35, "spree_orders"."non_taxable_adjustment_total" AS t2_r36 FROM "spree_inventory_units" LEFT OUTER JOIN "spree_shipments" ON "spree_shipments"."id" = "spree_inventory_units"."shipment_id" LEFT OUTER JOIN "spree_orders" ON "spree_orders"."id" = "spree_inventory_units"."order_id" WHERE ("spree_shipments"."state" != $1) AND "spree_inventory_units"."variant_id" = $2 AND ("spree_orders"."completed_at" IS NOT NULL) AND "spree_inventory_units"."state" = $3 ORDER BY spree_orders.completed_at ASC[0m  [["state", "canceled"], ["variant_id", 14], ["state", "backordered"]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 14], ["id", 14], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 10], ["updated_at", "2017-07-26 11:02:04.672473"], ["id", 14]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:04.675790' WHERE "spree_variants"."id" = $1[0m  [["id", 14]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:04.678928' WHERE "spree_products"."id" = $1[0m  [["id", 14]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 14]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:04.685644' WHERE "spree_taxons"."id" IN (2, 11, 1, 4)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:04.690957' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 7], ["is_master", "f"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1[0m  [["variant_id", 7]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_movements" ("stock_item_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["stock_item_id", 7], ["quantity", 10], ["created_at", "2017-07-26 11:02:04.702579"], ["updated_at", "2017-07-26 11:02:04.702579"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[37mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (1.9ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_shipments"."id" AS t1_r0, "spree_shipments"."tracking" AS t1_r1, "spree_shipments"."number" AS t1_r2, "spree_shipments"."cost" AS t1_r3, "spree_shipments"."shipped_at" AS t1_r4, "spree_shipments"."order_id" AS t1_r5, "spree_shipments"."address_id" AS t1_r6, "spree_shipments"."state" AS t1_r7, "spree_shipments"."created_at" AS t1_r8, "spree_shipments"."updated_at" AS t1_r9, "spree_shipments"."stock_location_id" AS t1_r10, "spree_shipments"."adjustment_total" AS t1_r11, "spree_shipments"."additional_tax_total" AS t1_r12, "spree_shipments"."promo_total" AS t1_r13, "spree_shipments"."included_tax_total" AS t1_r14, "spree_shipments"."pre_tax_amount" AS t1_r15, "spree_shipments"."taxable_adjustment_total" AS t1_r16, "spree_shipments"."non_taxable_adjustment_total" AS t1_r17, "spree_orders"."id" AS t2_r0, "spree_orders"."number" AS t2_r1, "spree_orders"."item_total" AS t2_r2, "spree_orders"."total" AS t2_r3, "spree_orders"."state" AS t2_r4, "spree_orders"."adjustment_total" AS t2_r5, "spree_orders"."user_id" AS t2_r6, "spree_orders"."completed_at" AS t2_r7, "spree_orders"."bill_address_id" AS t2_r8, "spree_orders"."ship_address_id" AS t2_r9, "spree_orders"."payment_total" AS t2_r10, "spree_orders"."shipment_state" AS t2_r11, "spree_orders"."payment_state" AS t2_r12, "spree_orders"."email" AS t2_r13, "spree_orders"."special_instructions" AS t2_r14, "spree_orders"."created_at" AS t2_r15, "spree_orders"."updated_at" AS t2_r16, "spree_orders"."currency" AS t2_r17, "spree_orders"."last_ip_address" AS t2_r18, "spree_orders"."created_by_id" AS t2_r19, "spree_orders"."shipment_total" AS t2_r20, "spree_orders"."additional_tax_total" AS t2_r21, "spree_orders"."promo_total" AS t2_r22, "spree_orders"."channel" AS t2_r23, "spree_orders"."included_tax_total" AS t2_r24, "spree_orders"."item_count" AS t2_r25, "spree_orders"."approver_id" AS t2_r26, "spree_orders"."approved_at" AS t2_r27, "spree_orders"."confirmation_delivered" AS t2_r28, "spree_orders"."considered_risky" AS t2_r29, "spree_orders"."guest_token" AS t2_r30, "spree_orders"."canceled_at" AS t2_r31, "spree_orders"."canceler_id" AS t2_r32, "spree_orders"."store_id" AS t2_r33, "spree_orders"."state_lock_version" AS t2_r34, "spree_orders"."taxable_adjustment_total" AS t2_r35, "spree_orders"."non_taxable_adjustment_total" AS t2_r36 FROM "spree_inventory_units" LEFT OUTER JOIN "spree_shipments" ON "spree_shipments"."id" = "spree_inventory_units"."shipment_id" LEFT OUTER JOIN "spree_orders" ON "spree_orders"."id" = "spree_inventory_units"."order_id" WHERE ("spree_shipments"."state" != $1) AND "spree_inventory_units"."variant_id" = $2 AND ("spree_orders"."completed_at" IS NOT NULL) AND "spree_inventory_units"."state" = $3 ORDER BY spree_orders.completed_at ASC[0m  [["state", "canceled"], ["variant_id", 7], ["state", "backordered"]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 7], ["id", 7], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 10], ["updated_at", "2017-07-26 11:02:04.716045"], ["id", 7]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:04.718509' WHERE "spree_variants"."id" = $1[0m  [["id", 7]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:04.721980' WHERE "spree_products"."id" = $1[0m  [["id", 7]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 7]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 16) AND ("spree_taxons"."rgt" >= 17) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:04.729366' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 9)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 16) AND ("spree_taxons"."rgt" >= 17) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:04.733496' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 6], ["is_master", "f"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1[0m  [["variant_id", 6]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_movements" ("stock_item_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["stock_item_id", 6], ["quantity", 10], ["created_at", "2017-07-26 11:02:04.744557"], ["updated_at", "2017-07-26 11:02:04.744557"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[37mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_shipments"."id" AS t1_r0, "spree_shipments"."tracking" AS t1_r1, "spree_shipments"."number" AS t1_r2, "spree_shipments"."cost" AS t1_r3, "spree_shipments"."shipped_at" AS t1_r4, "spree_shipments"."order_id" AS t1_r5, "spree_shipments"."address_id" AS t1_r6, "spree_shipments"."state" AS t1_r7, "spree_shipments"."created_at" AS t1_r8, "spree_shipments"."updated_at" AS t1_r9, "spree_shipments"."stock_location_id" AS t1_r10, "spree_shipments"."adjustment_total" AS t1_r11, "spree_shipments"."additional_tax_total" AS t1_r12, "spree_shipments"."promo_total" AS t1_r13, "spree_shipments"."included_tax_total" AS t1_r14, "spree_shipments"."pre_tax_amount" AS t1_r15, "spree_shipments"."taxable_adjustment_total" AS t1_r16, "spree_shipments"."non_taxable_adjustment_total" AS t1_r17, "spree_orders"."id" AS t2_r0, "spree_orders"."number" AS t2_r1, "spree_orders"."item_total" AS t2_r2, "spree_orders"."total" AS t2_r3, "spree_orders"."state" AS t2_r4, "spree_orders"."adjustment_total" AS t2_r5, "spree_orders"."user_id" AS t2_r6, "spree_orders"."completed_at" AS t2_r7, "spree_orders"."bill_address_id" AS t2_r8, "spree_orders"."ship_address_id" AS t2_r9, "spree_orders"."payment_total" AS t2_r10, "spree_orders"."shipment_state" AS t2_r11, "spree_orders"."payment_state" AS t2_r12, "spree_orders"."email" AS t2_r13, "spree_orders"."special_instructions" AS t2_r14, "spree_orders"."created_at" AS t2_r15, "spree_orders"."updated_at" AS t2_r16, "spree_orders"."currency" AS t2_r17, "spree_orders"."last_ip_address" AS t2_r18, "spree_orders"."created_by_id" AS t2_r19, "spree_orders"."shipment_total" AS t2_r20, "spree_orders"."additional_tax_total" AS t2_r21, "spree_orders"."promo_total" AS t2_r22, "spree_orders"."channel" AS t2_r23, "spree_orders"."included_tax_total" AS t2_r24, "spree_orders"."item_count" AS t2_r25, "spree_orders"."approver_id" AS t2_r26, "spree_orders"."approved_at" AS t2_r27, "spree_orders"."confirmation_delivered" AS t2_r28, "spree_orders"."considered_risky" AS t2_r29, "spree_orders"."guest_token" AS t2_r30, "spree_orders"."canceled_at" AS t2_r31, "spree_orders"."canceler_id" AS t2_r32, "spree_orders"."store_id" AS t2_r33, "spree_orders"."state_lock_version" AS t2_r34, "spree_orders"."taxable_adjustment_total" AS t2_r35, "spree_orders"."non_taxable_adjustment_total" AS t2_r36 FROM "spree_inventory_units" LEFT OUTER JOIN "spree_shipments" ON "spree_shipments"."id" = "spree_inventory_units"."shipment_id" LEFT OUTER JOIN "spree_orders" ON "spree_orders"."id" = "spree_inventory_units"."order_id" WHERE ("spree_shipments"."state" != $1) AND "spree_inventory_units"."variant_id" = $2 AND ("spree_orders"."completed_at" IS NOT NULL) AND "spree_inventory_units"."state" = $3 ORDER BY spree_orders.completed_at ASC[0m  [["state", "canceled"], ["variant_id", 6], ["state", "backordered"]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 6], ["id", 6], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 10], ["updated_at", "2017-07-26 11:02:04.758040"], ["id", 6]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:04.760608' WHERE "spree_variants"."id" = $1[0m  [["id", 6]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:04.763801' WHERE "spree_products"."id" = $1[0m  [["id", 6]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 6]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 14) AND ("spree_taxons"."rgt" >= 15) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:04.770997' WHERE "spree_taxons"."id" IN (2, 8, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 14) AND ("spree_taxons"."rgt" >= 15) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:04.775279' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 8], ["is_master", "f"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1[0m  [["variant_id", 8]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_movements" ("stock_item_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["stock_item_id", 8], ["quantity", 10], ["created_at", "2017-07-26 11:02:04.786366"], ["updated_at", "2017-07-26 11:02:04.786366"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.7ms)[0m  [1m[37mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_shipments"."id" AS t1_r0, "spree_shipments"."tracking" AS t1_r1, "spree_shipments"."number" AS t1_r2, "spree_shipments"."cost" AS t1_r3, "spree_shipments"."shipped_at" AS t1_r4, "spree_shipments"."order_id" AS t1_r5, "spree_shipments"."address_id" AS t1_r6, "spree_shipments"."state" AS t1_r7, "spree_shipments"."created_at" AS t1_r8, "spree_shipments"."updated_at" AS t1_r9, "spree_shipments"."stock_location_id" AS t1_r10, "spree_shipments"."adjustment_total" AS t1_r11, "spree_shipments"."additional_tax_total" AS t1_r12, "spree_shipments"."promo_total" AS t1_r13, "spree_shipments"."included_tax_total" AS t1_r14, "spree_shipments"."pre_tax_amount" AS t1_r15, "spree_shipments"."taxable_adjustment_total" AS t1_r16, "spree_shipments"."non_taxable_adjustment_total" AS t1_r17, "spree_orders"."id" AS t2_r0, "spree_orders"."number" AS t2_r1, "spree_orders"."item_total" AS t2_r2, "spree_orders"."total" AS t2_r3, "spree_orders"."state" AS t2_r4, "spree_orders"."adjustment_total" AS t2_r5, "spree_orders"."user_id" AS t2_r6, "spree_orders"."completed_at" AS t2_r7, "spree_orders"."bill_address_id" AS t2_r8, "spree_orders"."ship_address_id" AS t2_r9, "spree_orders"."payment_total" AS t2_r10, "spree_orders"."shipment_state" AS t2_r11, "spree_orders"."payment_state" AS t2_r12, "spree_orders"."email" AS t2_r13, "spree_orders"."special_instructions" AS t2_r14, "spree_orders"."created_at" AS t2_r15, "spree_orders"."updated_at" AS t2_r16, "spree_orders"."currency" AS t2_r17, "spree_orders"."last_ip_address" AS t2_r18, "spree_orders"."created_by_id" AS t2_r19, "spree_orders"."shipment_total" AS t2_r20, "spree_orders"."additional_tax_total" AS t2_r21, "spree_orders"."promo_total" AS t2_r22, "spree_orders"."channel" AS t2_r23, "spree_orders"."included_tax_total" AS t2_r24, "spree_orders"."item_count" AS t2_r25, "spree_orders"."approver_id" AS t2_r26, "spree_orders"."approved_at" AS t2_r27, "spree_orders"."confirmation_delivered" AS t2_r28, "spree_orders"."considered_risky" AS t2_r29, "spree_orders"."guest_token" AS t2_r30, "spree_orders"."canceled_at" AS t2_r31, "spree_orders"."canceler_id" AS t2_r32, "spree_orders"."store_id" AS t2_r33, "spree_orders"."state_lock_version" AS t2_r34, "spree_orders"."taxable_adjustment_total" AS t2_r35, "spree_orders"."non_taxable_adjustment_total" AS t2_r36 FROM "spree_inventory_units" LEFT OUTER JOIN "spree_shipments" ON "spree_shipments"."id" = "spree_inventory_units"."shipment_id" LEFT OUTER JOIN "spree_orders" ON "spree_orders"."id" = "spree_inventory_units"."order_id" WHERE ("spree_shipments"."state" != $1) AND "spree_inventory_units"."variant_id" = $2 AND ("spree_orders"."completed_at" IS NOT NULL) AND "spree_inventory_units"."state" = $3 ORDER BY spree_orders.completed_at ASC[0m  [["state", "canceled"], ["variant_id", 8], ["state", "backordered"]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 8], ["id", 8], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 10], ["updated_at", "2017-07-26 11:02:04.800376"], ["id", 8]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:04.802782' WHERE "spree_variants"."id" = $1[0m  [["id", 8]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:04.805840' WHERE "spree_products"."id" = $1[0m  [["id", 8]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 8]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:04.813290' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 10)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:04.817351' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 15], ["is_master", "f"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1[0m  [["variant_id", 15]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_movements" ("stock_item_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["stock_item_id", 15], ["quantity", 10], ["created_at", "2017-07-26 11:02:04.828022"], ["updated_at", "2017-07-26 11:02:04.828022"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.5ms)[0m  [1m[37mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35mSQL (2.0ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_shipments"."id" AS t1_r0, "spree_shipments"."tracking" AS t1_r1, "spree_shipments"."number" AS t1_r2, "spree_shipments"."cost" AS t1_r3, "spree_shipments"."shipped_at" AS t1_r4, "spree_shipments"."order_id" AS t1_r5, "spree_shipments"."address_id" AS t1_r6, "spree_shipments"."state" AS t1_r7, "spree_shipments"."created_at" AS t1_r8, "spree_shipments"."updated_at" AS t1_r9, "spree_shipments"."stock_location_id" AS t1_r10, "spree_shipments"."adjustment_total" AS t1_r11, "spree_shipments"."additional_tax_total" AS t1_r12, "spree_shipments"."promo_total" AS t1_r13, "spree_shipments"."included_tax_total" AS t1_r14, "spree_shipments"."pre_tax_amount" AS t1_r15, "spree_shipments"."taxable_adjustment_total" AS t1_r16, "spree_shipments"."non_taxable_adjustment_total" AS t1_r17, "spree_orders"."id" AS t2_r0, "spree_orders"."number" AS t2_r1, "spree_orders"."item_total" AS t2_r2, "spree_orders"."total" AS t2_r3, "spree_orders"."state" AS t2_r4, "spree_orders"."adjustment_total" AS t2_r5, "spree_orders"."user_id" AS t2_r6, "spree_orders"."completed_at" AS t2_r7, "spree_orders"."bill_address_id" AS t2_r8, "spree_orders"."ship_address_id" AS t2_r9, "spree_orders"."payment_total" AS t2_r10, "spree_orders"."shipment_state" AS t2_r11, "spree_orders"."payment_state" AS t2_r12, "spree_orders"."email" AS t2_r13, "spree_orders"."special_instructions" AS t2_r14, "spree_orders"."created_at" AS t2_r15, "spree_orders"."updated_at" AS t2_r16, "spree_orders"."currency" AS t2_r17, "spree_orders"."last_ip_address" AS t2_r18, "spree_orders"."created_by_id" AS t2_r19, "spree_orders"."shipment_total" AS t2_r20, "spree_orders"."additional_tax_total" AS t2_r21, "spree_orders"."promo_total" AS t2_r22, "spree_orders"."channel" AS t2_r23, "spree_orders"."included_tax_total" AS t2_r24, "spree_orders"."item_count" AS t2_r25, "spree_orders"."approver_id" AS t2_r26, "spree_orders"."approved_at" AS t2_r27, "spree_orders"."confirmation_delivered" AS t2_r28, "spree_orders"."considered_risky" AS t2_r29, "spree_orders"."guest_token" AS t2_r30, "spree_orders"."canceled_at" AS t2_r31, "spree_orders"."canceler_id" AS t2_r32, "spree_orders"."store_id" AS t2_r33, "spree_orders"."state_lock_version" AS t2_r34, "spree_orders"."taxable_adjustment_total" AS t2_r35, "spree_orders"."non_taxable_adjustment_total" AS t2_r36 FROM "spree_inventory_units" LEFT OUTER JOIN "spree_shipments" ON "spree_shipments"."id" = "spree_inventory_units"."shipment_id" LEFT OUTER JOIN "spree_orders" ON "spree_orders"."id" = "spree_inventory_units"."order_id" WHERE ("spree_shipments"."state" != $1) AND "spree_inventory_units"."variant_id" = $2 AND ("spree_orders"."completed_at" IS NOT NULL) AND "spree_inventory_units"."state" = $3 ORDER BY spree_orders.completed_at ASC[0m  [["state", "canceled"], ["variant_id", 15], ["state", "backordered"]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 15], ["id", 15], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 10], ["updated_at", "2017-07-26 11:02:04.841783"], ["id", 15]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:04.844219' WHERE "spree_variants"."id" = $1[0m  [["id", 15]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:04.847288' WHERE "spree_products"."id" = $1[0m  [["id", 15]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 15]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:04.854211' WHERE "spree_taxons"."id" IN (1, 4, 2, 10)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:04.858308' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 9], ["is_master", "f"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1[0m  [["variant_id", 9]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_movements" ("stock_item_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["stock_item_id", 9], ["quantity", 10], ["created_at", "2017-07-26 11:02:04.869187"], ["updated_at", "2017-07-26 11:02:04.869187"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.5ms)[0m  [1m[37mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_shipments"."id" AS t1_r0, "spree_shipments"."tracking" AS t1_r1, "spree_shipments"."number" AS t1_r2, "spree_shipments"."cost" AS t1_r3, "spree_shipments"."shipped_at" AS t1_r4, "spree_shipments"."order_id" AS t1_r5, "spree_shipments"."address_id" AS t1_r6, "spree_shipments"."state" AS t1_r7, "spree_shipments"."created_at" AS t1_r8, "spree_shipments"."updated_at" AS t1_r9, "spree_shipments"."stock_location_id" AS t1_r10, "spree_shipments"."adjustment_total" AS t1_r11, "spree_shipments"."additional_tax_total" AS t1_r12, "spree_shipments"."promo_total" AS t1_r13, "spree_shipments"."included_tax_total" AS t1_r14, "spree_shipments"."pre_tax_amount" AS t1_r15, "spree_shipments"."taxable_adjustment_total" AS t1_r16, "spree_shipments"."non_taxable_adjustment_total" AS t1_r17, "spree_orders"."id" AS t2_r0, "spree_orders"."number" AS t2_r1, "spree_orders"."item_total" AS t2_r2, "spree_orders"."total" AS t2_r3, "spree_orders"."state" AS t2_r4, "spree_orders"."adjustment_total" AS t2_r5, "spree_orders"."user_id" AS t2_r6, "spree_orders"."completed_at" AS t2_r7, "spree_orders"."bill_address_id" AS t2_r8, "spree_orders"."ship_address_id" AS t2_r9, "spree_orders"."payment_total" AS t2_r10, "spree_orders"."shipment_state" AS t2_r11, "spree_orders"."payment_state" AS t2_r12, "spree_orders"."email" AS t2_r13, "spree_orders"."special_instructions" AS t2_r14, "spree_orders"."created_at" AS t2_r15, "spree_orders"."updated_at" AS t2_r16, "spree_orders"."currency" AS t2_r17, "spree_orders"."last_ip_address" AS t2_r18, "spree_orders"."created_by_id" AS t2_r19, "spree_orders"."shipment_total" AS t2_r20, "spree_orders"."additional_tax_total" AS t2_r21, "spree_orders"."promo_total" AS t2_r22, "spree_orders"."channel" AS t2_r23, "spree_orders"."included_tax_total" AS t2_r24, "spree_orders"."item_count" AS t2_r25, "spree_orders"."approver_id" AS t2_r26, "spree_orders"."approved_at" AS t2_r27, "spree_orders"."confirmation_delivered" AS t2_r28, "spree_orders"."considered_risky" AS t2_r29, "spree_orders"."guest_token" AS t2_r30, "spree_orders"."canceled_at" AS t2_r31, "spree_orders"."canceler_id" AS t2_r32, "spree_orders"."store_id" AS t2_r33, "spree_orders"."state_lock_version" AS t2_r34, "spree_orders"."taxable_adjustment_total" AS t2_r35, "spree_orders"."non_taxable_adjustment_total" AS t2_r36 FROM "spree_inventory_units" LEFT OUTER JOIN "spree_shipments" ON "spree_shipments"."id" = "spree_inventory_units"."shipment_id" LEFT OUTER JOIN "spree_orders" ON "spree_orders"."id" = "spree_inventory_units"."order_id" WHERE ("spree_shipments"."state" != $1) AND "spree_inventory_units"."variant_id" = $2 AND ("spree_orders"."completed_at" IS NOT NULL) AND "spree_inventory_units"."state" = $3 ORDER BY spree_orders.completed_at ASC[0m  [["state", "canceled"], ["variant_id", 9], ["state", "backordered"]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 9], ["id", 9], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 10], ["updated_at", "2017-07-26 11:02:04.882775"], ["id", 9]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:04.885362' WHERE "spree_variants"."id" = $1[0m  [["id", 9]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:04.888449' WHERE "spree_products"."id" = $1[0m  [["id", 9]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 9]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:04.895449' WHERE "spree_taxons"."id" IN (2, 10, 1, 5, 6)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:04.899604' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 16], ["is_master", "f"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1[0m  [["variant_id", 16]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_movements" ("stock_item_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["stock_item_id", 16], ["quantity", 10], ["created_at", "2017-07-26 11:02:04.910535"], ["updated_at", "2017-07-26 11:02:04.910535"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[37mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 16], ["LIMIT", 1]]
  [1m[35mSQL (1.8ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_shipments"."id" AS t1_r0, "spree_shipments"."tracking" AS t1_r1, "spree_shipments"."number" AS t1_r2, "spree_shipments"."cost" AS t1_r3, "spree_shipments"."shipped_at" AS t1_r4, "spree_shipments"."order_id" AS t1_r5, "spree_shipments"."address_id" AS t1_r6, "spree_shipments"."state" AS t1_r7, "spree_shipments"."created_at" AS t1_r8, "spree_shipments"."updated_at" AS t1_r9, "spree_shipments"."stock_location_id" AS t1_r10, "spree_shipments"."adjustment_total" AS t1_r11, "spree_shipments"."additional_tax_total" AS t1_r12, "spree_shipments"."promo_total" AS t1_r13, "spree_shipments"."included_tax_total" AS t1_r14, "spree_shipments"."pre_tax_amount" AS t1_r15, "spree_shipments"."taxable_adjustment_total" AS t1_r16, "spree_shipments"."non_taxable_adjustment_total" AS t1_r17, "spree_orders"."id" AS t2_r0, "spree_orders"."number" AS t2_r1, "spree_orders"."item_total" AS t2_r2, "spree_orders"."total" AS t2_r3, "spree_orders"."state" AS t2_r4, "spree_orders"."adjustment_total" AS t2_r5, "spree_orders"."user_id" AS t2_r6, "spree_orders"."completed_at" AS t2_r7, "spree_orders"."bill_address_id" AS t2_r8, "spree_orders"."ship_address_id" AS t2_r9, "spree_orders"."payment_total" AS t2_r10, "spree_orders"."shipment_state" AS t2_r11, "spree_orders"."payment_state" AS t2_r12, "spree_orders"."email" AS t2_r13, "spree_orders"."special_instructions" AS t2_r14, "spree_orders"."created_at" AS t2_r15, "spree_orders"."updated_at" AS t2_r16, "spree_orders"."currency" AS t2_r17, "spree_orders"."last_ip_address" AS t2_r18, "spree_orders"."created_by_id" AS t2_r19, "spree_orders"."shipment_total" AS t2_r20, "spree_orders"."additional_tax_total" AS t2_r21, "spree_orders"."promo_total" AS t2_r22, "spree_orders"."channel" AS t2_r23, "spree_orders"."included_tax_total" AS t2_r24, "spree_orders"."item_count" AS t2_r25, "spree_orders"."approver_id" AS t2_r26, "spree_orders"."approved_at" AS t2_r27, "spree_orders"."confirmation_delivered" AS t2_r28, "spree_orders"."considered_risky" AS t2_r29, "spree_orders"."guest_token" AS t2_r30, "spree_orders"."canceled_at" AS t2_r31, "spree_orders"."canceler_id" AS t2_r32, "spree_orders"."store_id" AS t2_r33, "spree_orders"."state_lock_version" AS t2_r34, "spree_orders"."taxable_adjustment_total" AS t2_r35, "spree_orders"."non_taxable_adjustment_total" AS t2_r36 FROM "spree_inventory_units" LEFT OUTER JOIN "spree_shipments" ON "spree_shipments"."id" = "spree_inventory_units"."shipment_id" LEFT OUTER JOIN "spree_orders" ON "spree_orders"."id" = "spree_inventory_units"."order_id" WHERE ("spree_shipments"."state" != $1) AND "spree_inventory_units"."variant_id" = $2 AND ("spree_orders"."completed_at" IS NOT NULL) AND "spree_inventory_units"."state" = $3 ORDER BY spree_orders.completed_at ASC[0m  [["state", "canceled"], ["variant_id", 16], ["state", "backordered"]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 16], ["id", 16], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 10], ["updated_at", "2017-07-26 11:02:04.924779"], ["id", 16]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:04.927224' WHERE "spree_variants"."id" = $1[0m  [["id", 16]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:04.930649' WHERE "spree_products"."id" = $1[0m  [["id", 16]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 16]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:04.937591' WHERE "spree_taxons"."id" IN (1, 4, 2, 10)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:04.941749' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 10], ["is_master", "f"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1[0m  [["variant_id", 10]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_stock_movements" ("stock_item_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["stock_item_id", 10], ["quantity", 10], ["created_at", "2017-07-26 11:02:04.952210"], ["updated_at", "2017-07-26 11:02:04.952210"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[37mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_shipments"."id" AS t1_r0, "spree_shipments"."tracking" AS t1_r1, "spree_shipments"."number" AS t1_r2, "spree_shipments"."cost" AS t1_r3, "spree_shipments"."shipped_at" AS t1_r4, "spree_shipments"."order_id" AS t1_r5, "spree_shipments"."address_id" AS t1_r6, "spree_shipments"."state" AS t1_r7, "spree_shipments"."created_at" AS t1_r8, "spree_shipments"."updated_at" AS t1_r9, "spree_shipments"."stock_location_id" AS t1_r10, "spree_shipments"."adjustment_total" AS t1_r11, "spree_shipments"."additional_tax_total" AS t1_r12, "spree_shipments"."promo_total" AS t1_r13, "spree_shipments"."included_tax_total" AS t1_r14, "spree_shipments"."pre_tax_amount" AS t1_r15, "spree_shipments"."taxable_adjustment_total" AS t1_r16, "spree_shipments"."non_taxable_adjustment_total" AS t1_r17, "spree_orders"."id" AS t2_r0, "spree_orders"."number" AS t2_r1, "spree_orders"."item_total" AS t2_r2, "spree_orders"."total" AS t2_r3, "spree_orders"."state" AS t2_r4, "spree_orders"."adjustment_total" AS t2_r5, "spree_orders"."user_id" AS t2_r6, "spree_orders"."completed_at" AS t2_r7, "spree_orders"."bill_address_id" AS t2_r8, "spree_orders"."ship_address_id" AS t2_r9, "spree_orders"."payment_total" AS t2_r10, "spree_orders"."shipment_state" AS t2_r11, "spree_orders"."payment_state" AS t2_r12, "spree_orders"."email" AS t2_r13, "spree_orders"."special_instructions" AS t2_r14, "spree_orders"."created_at" AS t2_r15, "spree_orders"."updated_at" AS t2_r16, "spree_orders"."currency" AS t2_r17, "spree_orders"."last_ip_address" AS t2_r18, "spree_orders"."created_by_id" AS t2_r19, "spree_orders"."shipment_total" AS t2_r20, "spree_orders"."additional_tax_total" AS t2_r21, "spree_orders"."promo_total" AS t2_r22, "spree_orders"."channel" AS t2_r23, "spree_orders"."included_tax_total" AS t2_r24, "spree_orders"."item_count" AS t2_r25, "spree_orders"."approver_id" AS t2_r26, "spree_orders"."approved_at" AS t2_r27, "spree_orders"."confirmation_delivered" AS t2_r28, "spree_orders"."considered_risky" AS t2_r29, "spree_orders"."guest_token" AS t2_r30, "spree_orders"."canceled_at" AS t2_r31, "spree_orders"."canceler_id" AS t2_r32, "spree_orders"."store_id" AS t2_r33, "spree_orders"."state_lock_version" AS t2_r34, "spree_orders"."taxable_adjustment_total" AS t2_r35, "spree_orders"."non_taxable_adjustment_total" AS t2_r36 FROM "spree_inventory_units" LEFT OUTER JOIN "spree_shipments" ON "spree_shipments"."id" = "spree_inventory_units"."shipment_id" LEFT OUTER JOIN "spree_orders" ON "spree_orders"."id" = "spree_inventory_units"."order_id" WHERE ("spree_shipments"."state" != $1) AND "spree_inventory_units"."variant_id" = $2 AND ("spree_orders"."completed_at" IS NOT NULL) AND "spree_inventory_units"."state" = $3 ORDER BY spree_orders.completed_at ASC[0m  [["state", "canceled"], ["variant_id", 10], ["state", "backordered"]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 10], ["id", 10], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 10], ["updated_at", "2017-07-26 11:02:04.965965"], ["id", 10]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:04.968404' WHERE "spree_variants"."id" = $1[0m  [["id", 10]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:04.971613' WHERE "spree_products"."id" = $1[0m  [["id", 10]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 10]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:04.978921' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 10)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:04.983032' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 11], ["is_master", "f"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1[0m  [["variant_id", 11]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_stock_movements" ("stock_item_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["stock_item_id", 11], ["quantity", 10], ["created_at", "2017-07-26 11:02:04.994061"], ["updated_at", "2017-07-26 11:02:04.994061"]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[37mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_shipments"."id" AS t1_r0, "spree_shipments"."tracking" AS t1_r1, "spree_shipments"."number" AS t1_r2, "spree_shipments"."cost" AS t1_r3, "spree_shipments"."shipped_at" AS t1_r4, "spree_shipments"."order_id" AS t1_r5, "spree_shipments"."address_id" AS t1_r6, "spree_shipments"."state" AS t1_r7, "spree_shipments"."created_at" AS t1_r8, "spree_shipments"."updated_at" AS t1_r9, "spree_shipments"."stock_location_id" AS t1_r10, "spree_shipments"."adjustment_total" AS t1_r11, "spree_shipments"."additional_tax_total" AS t1_r12, "spree_shipments"."promo_total" AS t1_r13, "spree_shipments"."included_tax_total" AS t1_r14, "spree_shipments"."pre_tax_amount" AS t1_r15, "spree_shipments"."taxable_adjustment_total" AS t1_r16, "spree_shipments"."non_taxable_adjustment_total" AS t1_r17, "spree_orders"."id" AS t2_r0, "spree_orders"."number" AS t2_r1, "spree_orders"."item_total" AS t2_r2, "spree_orders"."total" AS t2_r3, "spree_orders"."state" AS t2_r4, "spree_orders"."adjustment_total" AS t2_r5, "spree_orders"."user_id" AS t2_r6, "spree_orders"."completed_at" AS t2_r7, "spree_orders"."bill_address_id" AS t2_r8, "spree_orders"."ship_address_id" AS t2_r9, "spree_orders"."payment_total" AS t2_r10, "spree_orders"."shipment_state" AS t2_r11, "spree_orders"."payment_state" AS t2_r12, "spree_orders"."email" AS t2_r13, "spree_orders"."special_instructions" AS t2_r14, "spree_orders"."created_at" AS t2_r15, "spree_orders"."updated_at" AS t2_r16, "spree_orders"."currency" AS t2_r17, "spree_orders"."last_ip_address" AS t2_r18, "spree_orders"."created_by_id" AS t2_r19, "spree_orders"."shipment_total" AS t2_r20, "spree_orders"."additional_tax_total" AS t2_r21, "spree_orders"."promo_total" AS t2_r22, "spree_orders"."channel" AS t2_r23, "spree_orders"."included_tax_total" AS t2_r24, "spree_orders"."item_count" AS t2_r25, "spree_orders"."approver_id" AS t2_r26, "spree_orders"."approved_at" AS t2_r27, "spree_orders"."confirmation_delivered" AS t2_r28, "spree_orders"."considered_risky" AS t2_r29, "spree_orders"."guest_token" AS t2_r30, "spree_orders"."canceled_at" AS t2_r31, "spree_orders"."canceler_id" AS t2_r32, "spree_orders"."store_id" AS t2_r33, "spree_orders"."state_lock_version" AS t2_r34, "spree_orders"."taxable_adjustment_total" AS t2_r35, "spree_orders"."non_taxable_adjustment_total" AS t2_r36 FROM "spree_inventory_units" LEFT OUTER JOIN "spree_shipments" ON "spree_shipments"."id" = "spree_inventory_units"."shipment_id" LEFT OUTER JOIN "spree_orders" ON "spree_orders"."id" = "spree_inventory_units"."order_id" WHERE ("spree_shipments"."state" != $1) AND "spree_inventory_units"."variant_id" = $2 AND ("spree_orders"."completed_at" IS NOT NULL) AND "spree_inventory_units"."state" = $3 ORDER BY spree_orders.completed_at ASC[0m  [["state", "canceled"], ["variant_id", 11], ["state", "backordered"]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 11], ["id", 11], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 10], ["updated_at", "2017-07-26 11:02:05.008229"], ["id", 11]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:05.010710' WHERE "spree_variants"."id" = $1[0m  [["id", 11]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:05.014276' WHERE "spree_products"."id" = $1[0m  [["id", 11]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 11]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:05.021595' WHERE "spree_taxons"."id" IN (2, 10, 1, 3)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:05.025783' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 12], ["is_master", "f"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.4ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1[0m  [["variant_id", 12]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_stock_movements" ("stock_item_id", "quantity", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["stock_item_id", 12], ["quantity", 10], ["created_at", "2017-07-26 11:02:05.036962"], ["updated_at", "2017-07-26 11:02:05.036962"]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[37mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35mSQL (1.9ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_shipments"."id" AS t1_r0, "spree_shipments"."tracking" AS t1_r1, "spree_shipments"."number" AS t1_r2, "spree_shipments"."cost" AS t1_r3, "spree_shipments"."shipped_at" AS t1_r4, "spree_shipments"."order_id" AS t1_r5, "spree_shipments"."address_id" AS t1_r6, "spree_shipments"."state" AS t1_r7, "spree_shipments"."created_at" AS t1_r8, "spree_shipments"."updated_at" AS t1_r9, "spree_shipments"."stock_location_id" AS t1_r10, "spree_shipments"."adjustment_total" AS t1_r11, "spree_shipments"."additional_tax_total" AS t1_r12, "spree_shipments"."promo_total" AS t1_r13, "spree_shipments"."included_tax_total" AS t1_r14, "spree_shipments"."pre_tax_amount" AS t1_r15, "spree_shipments"."taxable_adjustment_total" AS t1_r16, "spree_shipments"."non_taxable_adjustment_total" AS t1_r17, "spree_orders"."id" AS t2_r0, "spree_orders"."number" AS t2_r1, "spree_orders"."item_total" AS t2_r2, "spree_orders"."total" AS t2_r3, "spree_orders"."state" AS t2_r4, "spree_orders"."adjustment_total" AS t2_r5, "spree_orders"."user_id" AS t2_r6, "spree_orders"."completed_at" AS t2_r7, "spree_orders"."bill_address_id" AS t2_r8, "spree_orders"."ship_address_id" AS t2_r9, "spree_orders"."payment_total" AS t2_r10, "spree_orders"."shipment_state" AS t2_r11, "spree_orders"."payment_state" AS t2_r12, "spree_orders"."email" AS t2_r13, "spree_orders"."special_instructions" AS t2_r14, "spree_orders"."created_at" AS t2_r15, "spree_orders"."updated_at" AS t2_r16, "spree_orders"."currency" AS t2_r17, "spree_orders"."last_ip_address" AS t2_r18, "spree_orders"."created_by_id" AS t2_r19, "spree_orders"."shipment_total" AS t2_r20, "spree_orders"."additional_tax_total" AS t2_r21, "spree_orders"."promo_total" AS t2_r22, "spree_orders"."channel" AS t2_r23, "spree_orders"."included_tax_total" AS t2_r24, "spree_orders"."item_count" AS t2_r25, "spree_orders"."approver_id" AS t2_r26, "spree_orders"."approved_at" AS t2_r27, "spree_orders"."confirmation_delivered" AS t2_r28, "spree_orders"."considered_risky" AS t2_r29, "spree_orders"."guest_token" AS t2_r30, "spree_orders"."canceled_at" AS t2_r31, "spree_orders"."canceler_id" AS t2_r32, "spree_orders"."store_id" AS t2_r33, "spree_orders"."state_lock_version" AS t2_r34, "spree_orders"."taxable_adjustment_total" AS t2_r35, "spree_orders"."non_taxable_adjustment_total" AS t2_r36 FROM "spree_inventory_units" LEFT OUTER JOIN "spree_shipments" ON "spree_shipments"."id" = "spree_inventory_units"."shipment_id" LEFT OUTER JOIN "spree_orders" ON "spree_orders"."id" = "spree_inventory_units"."order_id" WHERE ("spree_shipments"."state" != $1) AND "spree_inventory_units"."variant_id" = $2 AND ("spree_orders"."completed_at" IS NOT NULL) AND "spree_inventory_units"."state" = $3 ORDER BY spree_orders.completed_at ASC[0m  [["state", "canceled"], ["variant_id", 12], ["state", "backordered"]]
  [1m[36mSpree::StockLocation Load (0.4ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 12], ["id", 12], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 10], ["updated_at", "2017-07-26 11:02:05.050971"], ["id", 12]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:05.053441' WHERE "spree_variants"."id" = $1[0m  [["id", 12]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:05.056692' WHERE "spree_products"."id" = $1[0m  [["id", 12]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 12]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:05.063757' WHERE "spree_taxons"."id" IN (2, 10, 1, 3)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:05.068320' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Baseball Jersey"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Tote"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Bag"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Jr. Spaghetti"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Mug"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Ringer T-Shirt"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Stein"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Baseball Jersey"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Stein"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Jr. Spaghetti"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Mug"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Ringer T-Shirt"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Tote"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Spree Bag"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby Baseball Jersey"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Apache Baseball Jersey"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 1], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 2], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 3], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 4], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 13], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 5], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 14], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 7], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 6], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 12], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 11], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 10], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 9], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 8], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 15], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 16], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 ORDER BY "spree_variants"."position" ASC[0m  [["product_id", 3], ["is_master", "f"]]
  [1m[36mSpree::OptionValue Load (0.6ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" INNER JOIN "spree_option_value_variants" ON "spree_option_values"."id" = "spree_option_value_variants"."option_value_id" WHERE "spree_option_value_variants"."variant_id" = $1[0m  [["variant_id", 17]]
  [1m[36mSpree::OptionType Load (0.4ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.3ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Image Exists (15.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 17], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_baseball_jersey_red.png"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-rmwcvb.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-11mx1y.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-11mx1y.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-11mx1y.png[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/8b99c86fadf490f6e7b9faac0c0368af20170726-45509-1ba62go'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-11mx1y.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-11mx1y.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-11mx1y.png[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/8b99c86fadf490f6e7b9faac0c0368af20170726-45509-7n3oxx'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-11mx1y.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-11mx1y.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-11mx1y.png[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/8b99c86fadf490f6e7b9faac0c0368af20170726-45509-9f3wcm'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-11mx1y.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-11mx1y.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-11mx1y.png[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/8b99c86fadf490f6e7b9faac0c0368af20170726-45509-1lddgff'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-1vibfhg.png'
  [1m[36mSpree::Asset Load (0.9ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 17], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 17], ["attachment_file_size", 44463], ["position", 1], ["attachment_content_type", "image/png"], ["attachment_file_name", "ror_baseball_jersey_red.png"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:05.228434"], ["created_at", "2017-07-26 11:02:05.588729"], ["updated_at", "2017-07-26 11:02:05.588729"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:05.598504' WHERE "spree_variants"."id" = $1[0m  [["id", 17]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:05.609657' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:05.617236' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:05.621665' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 17], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_baseball_jersey_back_red.png"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-v56k7c.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-jo97wt.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-jo97wt.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-jo97wt.png[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/59efb11bbc3e77efd3ca575fb63abfb120170726-45509-18or8th'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-jo97wt.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-jo97wt.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-jo97wt.png[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/59efb11bbc3e77efd3ca575fb63abfb120170726-45509-1x100fj'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-jo97wt.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-jo97wt.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-jo97wt.png[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/59efb11bbc3e77efd3ca575fb63abfb120170726-45509-p3lbhm'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-jo97wt.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-jo97wt.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-jo97wt.png[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/59efb11bbc3e77efd3ca575fb63abfb120170726-45509-jt7eph'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-1cykndr.png'
  [1m[36mSpree::Asset Load (1.1ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 17], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 17], ["attachment_file_size", 36895], ["position", 2], ["attachment_content_type", "image/png"], ["attachment_file_name", "ror_baseball_jersey_back_red.png"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:05.635690"], ["created_at", "2017-07-26 11:02:05.927624"], ["updated_at", "2017-07-26 11:02:05.927624"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:05.936528' WHERE "spree_variants"."id" = $1[0m  [["id", 17]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:05.946734' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:05.958733' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:05.966678' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::OptionValue Load (1.0ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" INNER JOIN "spree_option_value_variants" ON "spree_option_values"."id" = "spree_option_value_variants"."option_value_id" WHERE "spree_option_value_variants"."variant_id" = $1[0m  [["variant_id", 18]]
  [1m[36mSpree::OptionType Load (0.4ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.4ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Image Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 18], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_baseball_jersey_blue.png"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-1wqwvzt.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-n46u12.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-n46u12.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-n46u12.png[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3d90acb517a4b31351907ff2a304094f20170726-45509-1izf19y'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-n46u12.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-n46u12.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-n46u12.png[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3d90acb517a4b31351907ff2a304094f20170726-45509-u3hiyp'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-n46u12.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-n46u12.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-n46u12.png[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3d90acb517a4b31351907ff2a304094f20170726-45509-sus51r'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-n46u12.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-n46u12.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-n46u12.png[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3d90acb517a4b31351907ff2a304094f20170726-45509-1i99j6e'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-18ppmgn.png'
  [1m[36mSpree::Asset Load (0.7ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 18], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 18], ["attachment_file_size", 46277], ["position", 1], ["attachment_content_type", "image/png"], ["attachment_file_name", "ror_baseball_jersey_blue.png"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:05.994368"], ["created_at", "2017-07-26 11:02:06.337370"], ["updated_at", "2017-07-26 11:02:06.337370"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:06.346244' WHERE "spree_variants"."id" = $1[0m  [["id", 18]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:06.358264' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (1.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:06.370823' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (5.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (16.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (2.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:06.399738' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 18], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_baseball_jersey_back_blue.png"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-vtvip7.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-1ojnwm3.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-1ojnwm3.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-1ojnwm3.png[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/7290deda6ed45480623545bde32f308320170726-45509-2ct0u5'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-1ojnwm3.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-1ojnwm3.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-1ojnwm3.png[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/7290deda6ed45480623545bde32f308320170726-45509-1i8s4cg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-1ojnwm3.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-1ojnwm3.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-1ojnwm3.png[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/7290deda6ed45480623545bde32f308320170726-45509-j6nmzw'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-1ojnwm3.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-1ojnwm3.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-1ojnwm3.png[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/7290deda6ed45480623545bde32f308320170726-45509-daef15'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-bx0p7q.png'
  [1m[36mSpree::Asset Load (0.8ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 18], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 18], ["attachment_file_size", 38424], ["position", 2], ["attachment_content_type", "image/png"], ["attachment_file_name", "ror_baseball_jersey_back_blue.png"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:06.416971"], ["created_at", "2017-07-26 11:02:06.745530"], ["updated_at", "2017-07-26 11:02:06.745530"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:06.753696' WHERE "spree_variants"."id" = $1[0m  [["id", 18]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:06.764125' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (2.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (1.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:06.778670' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (7.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:06.792613' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::OptionValue Load (1.2ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" INNER JOIN "spree_option_value_variants" ON "spree_option_values"."id" = "spree_option_value_variants"."option_value_id" WHERE "spree_option_value_variants"."variant_id" = $1[0m  [["variant_id", 19]]
  [1m[36mSpree::OptionType Load (0.4ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.4ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Image Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 19], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_baseball_jersey_green.png"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-ie5d1n.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-2d8tm6.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-2d8tm6.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-2d8tm6.png[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/0bf7f693467704289262048ba2f13ebf20170726-45509-1xnxchn'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-2d8tm6.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-2d8tm6.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-2d8tm6.png[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/0bf7f693467704289262048ba2f13ebf20170726-45509-1tqw4ro'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-2d8tm6.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-2d8tm6.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-2d8tm6.png[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/0bf7f693467704289262048ba2f13ebf20170726-45509-vktyu9'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-2d8tm6.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-2d8tm6.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-2d8tm6.png[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/0bf7f693467704289262048ba2f13ebf20170726-45509-bdo1zr'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-19cl085.png'
  [1m[36mSpree::Asset Load (0.7ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 19], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 19], ["attachment_file_size", 45744], ["position", 1], ["attachment_content_type", "image/png"], ["attachment_file_name", "ror_baseball_jersey_green.png"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:06.813034"], ["created_at", "2017-07-26 11:02:07.104412"], ["updated_at", "2017-07-26 11:02:07.104412"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:07.112427' WHERE "spree_variants"."id" = $1[0m  [["id", 19]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:07.121127' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:07.129609' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:07.136254' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 19], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_baseball_jersey_back_green.png"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-syct38.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-ku5fz4.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-ku5fz4.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-ku5fz4.png[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/13af92f472414071f8073e0413b6dcb220170726-45509-1tvan01'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-ku5fz4.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-ku5fz4.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-ku5fz4.png[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/13af92f472414071f8073e0413b6dcb220170726-45509-163sd5k'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-ku5fz4.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-ku5fz4.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-ku5fz4.png[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/13af92f472414071f8073e0413b6dcb220170726-45509-e0o7i8'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-ku5fz4.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-ku5fz4.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-ku5fz4.png[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/13af92f472414071f8073e0413b6dcb220170726-45509-tvrcom'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-4loln5.png'
  [1m[36mSpree::Asset Load (0.7ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 19], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 19], ["attachment_file_size", 39641], ["position", 2], ["attachment_content_type", "image/png"], ["attachment_file_name", "ror_baseball_jersey_back_green.png"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:07.149071"], ["created_at", "2017-07-26 11:02:07.508516"], ["updated_at", "2017-07-26 11:02:07.508516"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:07.515757' WHERE "spree_variants"."id" = $1[0m  [["id", 19]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:07.526107' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:07.535317' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (2.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:07.542644' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::OptionValue Load (1.5ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" INNER JOIN "spree_option_value_variants" ON "spree_option_values"."id" = "spree_option_value_variants"."option_value_id" WHERE "spree_option_value_variants"."variant_id" = $1[0m  [["variant_id", 20]]
  [1m[36mSpree::OptionType Load (0.4ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.5ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Image Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 20], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_baseball_jersey_red.png"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-mce1s3.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-1f511cr.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-1f511cr.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-1f511cr.png[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e45fc9471db90058cad3155b4460d9dc20170726-45509-38gh4f'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-1f511cr.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-1f511cr.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-1f511cr.png[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e45fc9471db90058cad3155b4460d9dc20170726-45509-m8hdf0'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-1f511cr.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-1f511cr.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-1f511cr.png[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e45fc9471db90058cad3155b4460d9dc20170726-45509-1kpz3f3'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-1f511cr.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-1f511cr.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-1f511cr.png[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e45fc9471db90058cad3155b4460d9dc20170726-45509-1smh82x'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-ji42yz.png'
  [1m[36mSpree::Asset Load (0.8ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 20], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 20], ["attachment_file_size", 44463], ["position", 1], ["attachment_content_type", "image/png"], ["attachment_file_name", "ror_baseball_jersey_red.png"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:07.569272"], ["created_at", "2017-07-26 11:02:07.856284"], ["updated_at", "2017-07-26 11:02:07.856284"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:07.863772' WHERE "spree_variants"."id" = $1[0m  [["id", 20]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:07.873138' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:07.881390' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:07.888550' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 20], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_baseball_jersey_back_red.png"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-4ils03.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-isjd9b.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-isjd9b.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-isjd9b.png[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/cf2eed86109a6644ffb9759937e8ca6a20170726-45509-1liqdvz'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-isjd9b.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-isjd9b.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-isjd9b.png[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/cf2eed86109a6644ffb9759937e8ca6a20170726-45509-pw4kn6'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-isjd9b.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-isjd9b.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-isjd9b.png[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/cf2eed86109a6644ffb9759937e8ca6a20170726-45509-ty7slp'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-isjd9b.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-isjd9b.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-isjd9b.png[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/cf2eed86109a6644ffb9759937e8ca6a20170726-45509-g71ql1'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-1ohga8q.png'
  [1m[36mSpree::Asset Load (0.8ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 20], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 20], ["attachment_file_size", 36895], ["position", 2], ["attachment_content_type", "image/png"], ["attachment_file_name", "ror_baseball_jersey_back_red.png"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:07.901101"], ["created_at", "2017-07-26 11:02:08.197564"], ["updated_at", "2017-07-26 11:02:08.197564"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:08.204776' WHERE "spree_variants"."id" = $1[0m  [["id", 20]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:08.214508' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:08.224046' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:08.231480' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (5.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::OptionValue Load (1.7ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" INNER JOIN "spree_option_value_variants" ON "spree_option_values"."id" = "spree_option_value_variants"."option_value_id" WHERE "spree_option_value_variants"."variant_id" = $1[0m  [["variant_id", 21]]
  [1m[36mSpree::OptionType Load (0.4ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.6ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Image Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 21], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_baseball_jersey_blue.png"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-zkpxm9.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-1p1nx8h.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-1p1nx8h.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-1p1nx8h.png[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9bfa393ff2fc12a7ef459bbbba15e46920170726-45509-11agj95'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-1p1nx8h.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-1p1nx8h.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-1p1nx8h.png[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9bfa393ff2fc12a7ef459bbbba15e46920170726-45509-2emtcp'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-1p1nx8h.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-1p1nx8h.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-1p1nx8h.png[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9bfa393ff2fc12a7ef459bbbba15e46920170726-45509-35tb6z'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-1p1nx8h.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-1p1nx8h.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-1p1nx8h.png[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9bfa393ff2fc12a7ef459bbbba15e46920170726-45509-1w60z0i'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-1sd3poi.png'
  [1m[36mSpree::Asset Load (0.8ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 21], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 21], ["attachment_file_size", 46277], ["position", 1], ["attachment_content_type", "image/png"], ["attachment_file_name", "ror_baseball_jersey_blue.png"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:08.255747"], ["created_at", "2017-07-26 11:02:08.555564"], ["updated_at", "2017-07-26 11:02:08.555564"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:08.562307' WHERE "spree_variants"."id" = $1[0m  [["id", 21]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:08.573336' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:08.582901' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:08.590038' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (5.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 21], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_baseball_jersey_back_blue.png"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-1x7jf8k.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-ema6pk.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-ema6pk.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-ema6pk.png[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/687b5c26c0e6f80e8cf1fd1cb773d42e20170726-45509-c2968z'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-ema6pk.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-ema6pk.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-ema6pk.png[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/687b5c26c0e6f80e8cf1fd1cb773d42e20170726-45509-197ck7d'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-ema6pk.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-ema6pk.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-ema6pk.png[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/687b5c26c0e6f80e8cf1fd1cb773d42e20170726-45509-3kbeew'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-ema6pk.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-ema6pk.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-ema6pk.png[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/687b5c26c0e6f80e8cf1fd1cb773d42e20170726-45509-upwqf4'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-lvr240.png'
  [1m[36mSpree::Asset Load (0.8ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 21], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 21], ["attachment_file_size", 38424], ["position", 2], ["attachment_content_type", "image/png"], ["attachment_file_name", "ror_baseball_jersey_back_blue.png"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:08.602679"], ["created_at", "2017-07-26 11:02:08.890302"], ["updated_at", "2017-07-26 11:02:08.890302"]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:08.897124' WHERE "spree_variants"."id" = $1[0m  [["id", 21]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:08.905860' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:08.914441' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (3.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:08.924600' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (30.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::OptionValue Load (0.8ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" INNER JOIN "spree_option_value_variants" ON "spree_option_values"."id" = "spree_option_value_variants"."option_value_id" WHERE "spree_option_value_variants"."variant_id" = $1[0m  [["variant_id", 22]]
  [1m[36mSpree::OptionType Load (0.3ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.3ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Image Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 22], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_baseball_jersey_green.png"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-stqnoa.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-ng1p81.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-ng1p81.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-ng1p81.png[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/aaf507ef3c7df5df58eea43fc0fa43b320170726-45509-aokgxr'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-ng1p81.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-ng1p81.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-ng1p81.png[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/aaf507ef3c7df5df58eea43fc0fa43b320170726-45509-1gcqbsr'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-ng1p81.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-ng1p81.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-ng1p81.png[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/aaf507ef3c7df5df58eea43fc0fa43b320170726-45509-1ti515k'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-ng1p81.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-ng1p81.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-ng1p81.png[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/aaf507ef3c7df5df58eea43fc0fa43b320170726-45509-1n1gw8y'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-11d54cj.png'
  [1m[36mSpree::Asset Load (0.8ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 22], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 22], ["attachment_file_size", 45744], ["position", 1], ["attachment_content_type", "image/png"], ["attachment_file_name", "ror_baseball_jersey_green.png"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:08.969299"], ["created_at", "2017-07-26 11:02:09.245320"], ["updated_at", "2017-07-26 11:02:09.245320"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:09.252688' WHERE "spree_variants"."id" = $1[0m  [["id", 22]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:09.261121' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:09.268674' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:09.275775' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 22], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_baseball_jersey_back_green.png"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-juz4p0.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-1bx6bpp.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-1bx6bpp.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-1bx6bpp.png[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/639f7f672ac65a3e8650b8db4fba353320170726-45509-1gh25id'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-1bx6bpp.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-1bx6bpp.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-1bx6bpp.png[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/639f7f672ac65a3e8650b8db4fba353320170726-45509-q4u3zx'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-1bx6bpp.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-1bx6bpp.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-1bx6bpp.png[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/639f7f672ac65a3e8650b8db4fba353320170726-45509-78zk6q'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-1bx6bpp.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-1bx6bpp.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-1bx6bpp.png[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/639f7f672ac65a3e8650b8db4fba353320170726-45509-1at2apc'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-nxhnr4.png'
  [1m[36mSpree::Asset Load (0.8ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 22], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 22], ["attachment_file_size", 39641], ["position", 2], ["attachment_content_type", "image/png"], ["attachment_file_name", "ror_baseball_jersey_back_green.png"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:09.289466"], ["created_at", "2017-07-26 11:02:09.610147"], ["updated_at", "2017-07-26 11:02:09.610147"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:09.617444' WHERE "spree_variants"."id" = $1[0m  [["id", 22]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:09.628642' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:09.638811' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.4ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:09.646551' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::OptionValue Load (1.2ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" INNER JOIN "spree_option_value_variants" ON "spree_option_values"."id" = "spree_option_value_variants"."option_value_id" WHERE "spree_option_value_variants"."variant_id" = $1[0m  [["variant_id", 23]]
  [1m[36mSpree::OptionType Load (0.6ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.4ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Image Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 23], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_baseball_jersey_red.png"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-1cgieg0.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-1ub4o93.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-1ub4o93.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-1ub4o93.png[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9af91ad528d93ce32f5dad4ea588d57a20170726-45509-1cq0ti4'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-1ub4o93.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-1ub4o93.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-1ub4o93.png[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9af91ad528d93ce32f5dad4ea588d57a20170726-45509-1355lh2'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-1ub4o93.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-1ub4o93.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-1ub4o93.png[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9af91ad528d93ce32f5dad4ea588d57a20170726-45509-1y8zegp'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-1ub4o93.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-1ub4o93.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-1ub4o93.png[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9af91ad528d93ce32f5dad4ea588d57a20170726-45509-qnrtvr'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3795ef68cc89a3126304645e4fe52eb520170726-45509-1kz4nc3.png'
  [1m[36mSpree::Asset Load (0.8ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 23], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 23], ["attachment_file_size", 44463], ["position", 1], ["attachment_content_type", "image/png"], ["attachment_file_name", "ror_baseball_jersey_red.png"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:09.670013"], ["created_at", "2017-07-26 11:02:09.955004"], ["updated_at", "2017-07-26 11:02:09.955004"]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:09.962326' WHERE "spree_variants"."id" = $1[0m  [["id", 23]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:09.971469' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:09.979543' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:09.986534' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 23], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_baseball_jersey_back_red.png"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-1ynh1m5.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-g83yzx.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-g83yzx.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-g83yzx.png[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/873532d0b85d505fb3882affadf6f4e620170726-45509-10f25ly'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-g83yzx.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-g83yzx.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-g83yzx.png[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/873532d0b85d505fb3882affadf6f4e620170726-45509-1u0u3zz'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-g83yzx.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-g83yzx.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-g83yzx.png[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/873532d0b85d505fb3882affadf6f4e620170726-45509-gmh0du'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-g83yzx.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-g83yzx.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-g83yzx.png[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/873532d0b85d505fb3882affadf6f4e620170726-45509-1szjw3l'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6849d5b3bf649a456a0f15a0569ad6ff20170726-45509-1ppbt3o.png'
  [1m[36mSpree::Asset Load (0.7ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 23], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 23], ["attachment_file_size", 36895], ["position", 2], ["attachment_content_type", "image/png"], ["attachment_file_name", "ror_baseball_jersey_back_red.png"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:09.999918"], ["created_at", "2017-07-26 11:02:10.288649"], ["updated_at", "2017-07-26 11:02:10.288649"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:10.296339' WHERE "spree_variants"."id" = $1[0m  [["id", 23]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:10.305850' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:10.314268' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:10.321544' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::OptionValue Load (1.1ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" INNER JOIN "spree_option_value_variants" ON "spree_option_values"."id" = "spree_option_value_variants"."option_value_id" WHERE "spree_option_value_variants"."variant_id" = $1[0m  [["variant_id", 24]]
  [1m[36mSpree::OptionType Load (0.4ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.4ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Image Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 24], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_baseball_jersey_blue.png"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-6xfcz1.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-eg0z2o.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-eg0z2o.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-eg0z2o.png[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/7e97b0d5df5de2d2e23f0bd2f3489f0f20170726-45509-qrynfs'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-eg0z2o.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-eg0z2o.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-eg0z2o.png[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/7e97b0d5df5de2d2e23f0bd2f3489f0f20170726-45509-10inkv3'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-eg0z2o.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-eg0z2o.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-eg0z2o.png[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/7e97b0d5df5de2d2e23f0bd2f3489f0f20170726-45509-yjx2hr'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-eg0z2o.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-eg0z2o.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-eg0z2o.png[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/7e97b0d5df5de2d2e23f0bd2f3489f0f20170726-45509-pdt878'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e6cc9e95e796ac3d29b88842df4b8cf320170726-45509-7ou8er.png'
  [1m[36mSpree::Asset Load (0.7ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 24], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 24], ["attachment_file_size", 46277], ["position", 1], ["attachment_content_type", "image/png"], ["attachment_file_name", "ror_baseball_jersey_blue.png"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:10.345152"], ["created_at", "2017-07-26 11:02:10.701495"], ["updated_at", "2017-07-26 11:02:10.701495"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:10.709103' WHERE "spree_variants"."id" = $1[0m  [["id", 24]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:10.718561' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:10.727461' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:10.734066' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 24], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_baseball_jersey_back_blue.png"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-13ipbaw.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-ti61qa.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-ti61qa.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-ti61qa.png[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3733ede652649418d2e2e97d3564d8fd20170726-45509-5ru6pm'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-ti61qa.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-ti61qa.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-ti61qa.png[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3733ede652649418d2e2e97d3564d8fd20170726-45509-zb76t7'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-ti61qa.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-ti61qa.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-ti61qa.png[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3733ede652649418d2e2e97d3564d8fd20170726-45509-f8vznh'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-ti61qa.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-ti61qa.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-ti61qa.png[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3733ede652649418d2e2e97d3564d8fd20170726-45509-1hyrik1'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d439c91c15710774352c3f9e527fd81620170726-45509-3bnza9.png'
  [1m[36mSpree::Asset Load (0.8ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 24], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 24], ["attachment_file_size", 38424], ["position", 2], ["attachment_content_type", "image/png"], ["attachment_file_name", "ror_baseball_jersey_back_blue.png"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:10.749704"], ["created_at", "2017-07-26 11:02:11.041813"], ["updated_at", "2017-07-26 11:02:11.041813"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:11.049564' WHERE "spree_variants"."id" = $1[0m  [["id", 24]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:11.059261' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:11.068071' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:11.074100' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::OptionValue Load (1.0ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" INNER JOIN "spree_option_value_variants" ON "spree_option_values"."id" = "spree_option_value_variants"."option_value_id" WHERE "spree_option_value_variants"."variant_id" = $1[0m  [["variant_id", 25]]
  [1m[36mSpree::OptionType Load (0.4ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.4ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Image Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 25], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_baseball_jersey_green.png"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-qrqdvx.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-ww3h0d.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-ww3h0d.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-ww3h0d.png[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/bba4f4c9ee214e71ba74f035b382a3ea20170726-45509-exnu6y'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-ww3h0d.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-ww3h0d.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-ww3h0d.png[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/bba4f4c9ee214e71ba74f035b382a3ea20170726-45509-m9qsj1'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-ww3h0d.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-ww3h0d.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-ww3h0d.png[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/bba4f4c9ee214e71ba74f035b382a3ea20170726-45509-mewj37'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-ww3h0d.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-ww3h0d.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-ww3h0d.png[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/bba4f4c9ee214e71ba74f035b382a3ea20170726-45509-1hbx0r2'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-zkyi38.png'
  [1m[36mSpree::Asset Load (0.7ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 25], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 25], ["attachment_file_size", 45744], ["position", 1], ["attachment_content_type", "image/png"], ["attachment_file_name", "ror_baseball_jersey_green.png"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:11.094967"], ["created_at", "2017-07-26 11:02:11.399421"], ["updated_at", "2017-07-26 11:02:11.399421"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:11.407159' WHERE "spree_variants"."id" = $1[0m  [["id", 25]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:11.416121' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:11.424442' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:11.431752' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 25], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_baseball_jersey_back_green.png"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-1ivhocn.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-1td1bb9.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-1td1bb9.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-1td1bb9.png[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f1f28690a03877010cac886a524feef720170726-45509-5aqoob'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-1td1bb9.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-1td1bb9.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-1td1bb9.png[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f1f28690a03877010cac886a524feef720170726-45509-hscf9'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-1td1bb9.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-1td1bb9.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-1td1bb9.png[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f1f28690a03877010cac886a524feef720170726-45509-1m4t8y1'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-1td1bb9.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-1td1bb9.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-1td1bb9.png[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f1f28690a03877010cac886a524feef720170726-45509-14frbgn'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-tt2i4p.png'
  [1m[36mSpree::Asset Load (0.7ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 25], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 25], ["attachment_file_size", 39641], ["position", 2], ["attachment_content_type", "image/png"], ["attachment_file_name", "ror_baseball_jersey_back_green.png"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:11.444976"], ["created_at", "2017-07-26 11:02:11.795422"], ["updated_at", "2017-07-26 11:02:11.795422"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:11.803820' WHERE "spree_variants"."id" = $1[0m  [["id", 25]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:11.813765' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:11.822179' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:11.829620' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::OptionValue Load (1.1ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" INNER JOIN "spree_option_value_variants" ON "spree_option_values"."id" = "spree_option_value_variants"."option_value_id" WHERE "spree_option_value_variants"."variant_id" = $1[0m  [["variant_id", 26]]
  [1m[36mSpree::OptionType Load (0.4ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.5ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Image Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 26], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_baseball_jersey_green.png"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-33iqf4.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-1nenzor.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-1nenzor.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-1nenzor.png[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/7a684ec94fb036784cffc8e8f99b407f20170726-45509-q73wbh'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-1nenzor.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-1nenzor.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-1nenzor.png[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/7a684ec94fb036784cffc8e8f99b407f20170726-45509-1malrjm'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-1nenzor.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-1nenzor.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-1nenzor.png[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/7a684ec94fb036784cffc8e8f99b407f20170726-45509-1s9wf8b'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-1nenzor.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-1nenzor.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-1nenzor.png[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/7a684ec94fb036784cffc8e8f99b407f20170726-45509-1n5lufj'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/818072e8b6daec3ca2cfe7f53c222f7f20170726-45509-9fbsj2.png'
  [1m[36mSpree::Asset Load (0.9ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 26], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 26], ["attachment_file_size", 45744], ["position", 1], ["attachment_content_type", "image/png"], ["attachment_file_name", "ror_baseball_jersey_green.png"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:11.856370"], ["created_at", "2017-07-26 11:02:12.152233"], ["updated_at", "2017-07-26 11:02:12.152233"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:12.160321' WHERE "spree_variants"."id" = $1[0m  [["id", 26]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:12.171171' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:12.185865' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:12.192112' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 26], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_baseball_jersey_back_green.png"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-1yyfye1.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-sme48m.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-sme48m.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-sme48m.png[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6b218adf87bed27fe3b640c95e8a16c120170726-45509-18xarh2'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-sme48m.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-sme48m.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-sme48m.png[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6b218adf87bed27fe3b640c95e8a16c120170726-45509-c9v9gi'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-sme48m.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-sme48m.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-sme48m.png[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6b218adf87bed27fe3b640c95e8a16c120170726-45509-785v9v'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-sme48m.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-sme48m.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-sme48m.png[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6b218adf87bed27fe3b640c95e8a16c120170726-45509-1qxxc1i'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3cda7e6bda847bd4b51dedbe69ab444a20170726-45509-12lvm59.png'
  [1m[36mSpree::Asset Load (0.8ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 26], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 26], ["attachment_file_size", 39641], ["position", 2], ["attachment_content_type", "image/png"], ["attachment_file_name", "ror_baseball_jersey_back_green.png"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:12.199924"], ["created_at", "2017-07-26 11:02:12.493789"], ["updated_at", "2017-07-26 11:02:12.493789"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:12.502612' WHERE "spree_variants"."id" = $1[0m  [["id", 26]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:12.515580' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:12.541695' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:12.548194' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (16.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 1], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_tote.jpeg"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/4399c2183b159d3171fdc7cb8c18e7b920170726-45509-h72792.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/4399c2183b159d3171fdc7cb8c18e7b920170726-45509-1jsp3lv.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/4399c2183b159d3171fdc7cb8c18e7b920170726-45509-1jsp3lv.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/4399c2183b159d3171fdc7cb8c18e7b920170726-45509-1jsp3lv.jpeg[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/cca2f06308d315bdc491c426663b083620170726-45509-1ndqgyn'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/4399c2183b159d3171fdc7cb8c18e7b920170726-45509-1jsp3lv.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/4399c2183b159d3171fdc7cb8c18e7b920170726-45509-1jsp3lv.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/4399c2183b159d3171fdc7cb8c18e7b920170726-45509-1jsp3lv.jpeg[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/cca2f06308d315bdc491c426663b083620170726-45509-aahdv4'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/4399c2183b159d3171fdc7cb8c18e7b920170726-45509-1jsp3lv.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/4399c2183b159d3171fdc7cb8c18e7b920170726-45509-1jsp3lv.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/4399c2183b159d3171fdc7cb8c18e7b920170726-45509-1jsp3lv.jpeg[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/cca2f06308d315bdc491c426663b083620170726-45509-n5usi2'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/4399c2183b159d3171fdc7cb8c18e7b920170726-45509-1jsp3lv.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/4399c2183b159d3171fdc7cb8c18e7b920170726-45509-1jsp3lv.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/4399c2183b159d3171fdc7cb8c18e7b920170726-45509-1jsp3lv.jpeg[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/cca2f06308d315bdc491c426663b083620170726-45509-1r90k4i'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/4399c2183b159d3171fdc7cb8c18e7b920170726-45509-1kfccp7.jpeg'
  [1m[36mSpree::Asset Load (0.9ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 1], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 1], ["attachment_file_size", 31490], ["position", 1], ["attachment_content_type", "image/jpeg"], ["attachment_file_name", "ror_tote.jpeg"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:12.572689"], ["created_at", "2017-07-26 11:02:12.928404"], ["updated_at", "2017-07-26 11:02:12.928404"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:12.936533' WHERE "spree_variants"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:12.946692' WHERE "spree_products"."id" = $1[0m  [["id", 1]]
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 1]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:12.959293' WHERE "spree_taxons"."id" IN (2, 11, 1, 3)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:12.964469' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 1], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_tote_back.jpeg"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/98717a2793e5d7b94a82e0ecdd77647620170726-45509-14vzfgm.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/98717a2793e5d7b94a82e0ecdd77647620170726-45509-jy72hw.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/98717a2793e5d7b94a82e0ecdd77647620170726-45509-jy72hw.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/98717a2793e5d7b94a82e0ecdd77647620170726-45509-jy72hw.jpeg[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/1aebd6b9802df018b016e06a1075439f20170726-45509-19lo2dg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/98717a2793e5d7b94a82e0ecdd77647620170726-45509-jy72hw.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/98717a2793e5d7b94a82e0ecdd77647620170726-45509-jy72hw.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/98717a2793e5d7b94a82e0ecdd77647620170726-45509-jy72hw.jpeg[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/1aebd6b9802df018b016e06a1075439f20170726-45509-1ciy3x1'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/98717a2793e5d7b94a82e0ecdd77647620170726-45509-jy72hw.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/98717a2793e5d7b94a82e0ecdd77647620170726-45509-jy72hw.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/98717a2793e5d7b94a82e0ecdd77647620170726-45509-jy72hw.jpeg[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/1aebd6b9802df018b016e06a1075439f20170726-45509-41fbbz'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/98717a2793e5d7b94a82e0ecdd77647620170726-45509-jy72hw.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/98717a2793e5d7b94a82e0ecdd77647620170726-45509-jy72hw.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/98717a2793e5d7b94a82e0ecdd77647620170726-45509-jy72hw.jpeg[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/1aebd6b9802df018b016e06a1075439f20170726-45509-umv1xd'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/98717a2793e5d7b94a82e0ecdd77647620170726-45509-1rma6xa.jpeg'
  [1m[36mSpree::Asset Load (0.7ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 1], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 1], ["attachment_file_size", 28620], ["position", 2], ["attachment_content_type", "image/jpeg"], ["attachment_file_name", "ror_tote_back.jpeg"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:12.981341"], ["created_at", "2017-07-26 11:02:13.291849"], ["updated_at", "2017-07-26 11:02:13.291849"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:13.301496' WHERE "spree_variants"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:13.311898' WHERE "spree_products"."id" = $1[0m  [["id", 1]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 1]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:13.324490' WHERE "spree_taxons"."id" IN (2, 11, 1, 3)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.4ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:13.333174' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 2], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_bag.jpeg"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/32ac2aec94a04fe84f2ff3fc839cec2620170726-45509-o8vplx.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/32ac2aec94a04fe84f2ff3fc839cec2620170726-45509-1k0xjt2.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/32ac2aec94a04fe84f2ff3fc839cec2620170726-45509-1k0xjt2.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/32ac2aec94a04fe84f2ff3fc839cec2620170726-45509-1k0xjt2.jpeg[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/40e9eac89e1c9fb1ab71cda0887d0d2520170726-45509-1aaxdrv'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/32ac2aec94a04fe84f2ff3fc839cec2620170726-45509-1k0xjt2.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/32ac2aec94a04fe84f2ff3fc839cec2620170726-45509-1k0xjt2.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/32ac2aec94a04fe84f2ff3fc839cec2620170726-45509-1k0xjt2.jpeg[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/40e9eac89e1c9fb1ab71cda0887d0d2520170726-45509-y37a2l'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/32ac2aec94a04fe84f2ff3fc839cec2620170726-45509-1k0xjt2.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/32ac2aec94a04fe84f2ff3fc839cec2620170726-45509-1k0xjt2.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/32ac2aec94a04fe84f2ff3fc839cec2620170726-45509-1k0xjt2.jpeg[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/40e9eac89e1c9fb1ab71cda0887d0d2520170726-45509-sawgo1'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/32ac2aec94a04fe84f2ff3fc839cec2620170726-45509-1k0xjt2.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/32ac2aec94a04fe84f2ff3fc839cec2620170726-45509-1k0xjt2.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/32ac2aec94a04fe84f2ff3fc839cec2620170726-45509-1k0xjt2.jpeg[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/40e9eac89e1c9fb1ab71cda0887d0d2520170726-45509-1cx09lt'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/32ac2aec94a04fe84f2ff3fc839cec2620170726-45509-30nu2o.jpeg'
  [1m[36mSpree::Asset Load (0.7ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 2], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 2], ["attachment_file_size", 28230], ["position", 1], ["attachment_content_type", "image/jpeg"], ["attachment_file_name", "ror_bag.jpeg"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:13.347944"], ["created_at", "2017-07-26 11:02:13.646766"], ["updated_at", "2017-07-26 11:02:13.646766"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:13.654146' WHERE "spree_variants"."id" = $1[0m  [["id", 2]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:13.663321' WHERE "spree_products"."id" = $1[0m  [["id", 2]]
  [1m[36mSpree::Taxon Load (1.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 2]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:13.675279' WHERE "spree_taxons"."id" IN (2, 11, 1, 3)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:13.682997' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 3], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_baseball.jpeg"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3ff7cd7359d22526d264ddc49bad2f2b20170726-45509-15behw7.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3ff7cd7359d22526d264ddc49bad2f2b20170726-45509-1r86pgf.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3ff7cd7359d22526d264ddc49bad2f2b20170726-45509-1r86pgf.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3ff7cd7359d22526d264ddc49bad2f2b20170726-45509-1r86pgf.jpeg[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/729cd742852237cd17d12b070307d4dd20170726-45509-50hmfw'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3ff7cd7359d22526d264ddc49bad2f2b20170726-45509-1r86pgf.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3ff7cd7359d22526d264ddc49bad2f2b20170726-45509-1r86pgf.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3ff7cd7359d22526d264ddc49bad2f2b20170726-45509-1r86pgf.jpeg[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/729cd742852237cd17d12b070307d4dd20170726-45509-f8tzlk'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3ff7cd7359d22526d264ddc49bad2f2b20170726-45509-1r86pgf.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3ff7cd7359d22526d264ddc49bad2f2b20170726-45509-1r86pgf.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3ff7cd7359d22526d264ddc49bad2f2b20170726-45509-1r86pgf.jpeg[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/729cd742852237cd17d12b070307d4dd20170726-45509-olle8w'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3ff7cd7359d22526d264ddc49bad2f2b20170726-45509-1r86pgf.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3ff7cd7359d22526d264ddc49bad2f2b20170726-45509-1r86pgf.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3ff7cd7359d22526d264ddc49bad2f2b20170726-45509-1r86pgf.jpeg[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/729cd742852237cd17d12b070307d4dd20170726-45509-1sqv6h0'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3ff7cd7359d22526d264ddc49bad2f2b20170726-45509-1cjbyy3.jpeg'
  [1m[36mSpree::Asset Load (0.7ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 3], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 3], ["attachment_file_size", 27626], ["position", 1], ["attachment_content_type", "image/jpeg"], ["attachment_file_name", "ror_baseball.jpeg"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:13.700600"], ["created_at", "2017-07-26 11:02:14.016794"], ["updated_at", "2017-07-26 11:02:14.016794"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:14.024225' WHERE "spree_variants"."id" = $1[0m  [["id", 3]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:14.036334' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:14.050807' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:14.057677' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 3], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_baseball_back.jpeg"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e8fc4d65310b7a308aa8bae3f7dc710720170726-45509-y3zj5e.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e8fc4d65310b7a308aa8bae3f7dc710720170726-45509-bfzm4v.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e8fc4d65310b7a308aa8bae3f7dc710720170726-45509-bfzm4v.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e8fc4d65310b7a308aa8bae3f7dc710720170726-45509-bfzm4v.jpeg[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/1f7fc59a1207f52b4f363bbcf774f16420170726-45509-1lezg6z'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e8fc4d65310b7a308aa8bae3f7dc710720170726-45509-bfzm4v.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e8fc4d65310b7a308aa8bae3f7dc710720170726-45509-bfzm4v.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e8fc4d65310b7a308aa8bae3f7dc710720170726-45509-bfzm4v.jpeg[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/1f7fc59a1207f52b4f363bbcf774f16420170726-45509-ab9qgj'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e8fc4d65310b7a308aa8bae3f7dc710720170726-45509-bfzm4v.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e8fc4d65310b7a308aa8bae3f7dc710720170726-45509-bfzm4v.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e8fc4d65310b7a308aa8bae3f7dc710720170726-45509-bfzm4v.jpeg[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/1f7fc59a1207f52b4f363bbcf774f16420170726-45509-wpe3s2'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e8fc4d65310b7a308aa8bae3f7dc710720170726-45509-bfzm4v.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e8fc4d65310b7a308aa8bae3f7dc710720170726-45509-bfzm4v.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e8fc4d65310b7a308aa8bae3f7dc710720170726-45509-bfzm4v.jpeg[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/1f7fc59a1207f52b4f363bbcf774f16420170726-45509-149km4u'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/e8fc4d65310b7a308aa8bae3f7dc710720170726-45509-trdeha.jpeg'
  [1m[36mSpree::Asset Load (0.8ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 3], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 3], ["attachment_file_size", 23490], ["position", 2], ["attachment_content_type", "image/jpeg"], ["attachment_file_name", "ror_baseball_back.jpeg"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:14.072035"], ["created_at", "2017-07-26 11:02:14.363840"], ["updated_at", "2017-07-26 11:02:14.363840"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:14.371232' WHERE "spree_variants"."id" = $1[0m  [["id", 3]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:14.380825' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:14.393998' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:14.401260' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 4], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_jr_spaghetti.jpeg"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/66c55491db6fa55c68091b1fa2f9de9320170726-45509-1e476bc.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/66c55491db6fa55c68091b1fa2f9de9320170726-45509-1kc3jiy.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/66c55491db6fa55c68091b1fa2f9de9320170726-45509-1kc3jiy.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/66c55491db6fa55c68091b1fa2f9de9320170726-45509-1kc3jiy.jpeg[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d23b76d8d7b31e9ad8614792165b6db220170726-45509-rlauiv'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/66c55491db6fa55c68091b1fa2f9de9320170726-45509-1kc3jiy.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/66c55491db6fa55c68091b1fa2f9de9320170726-45509-1kc3jiy.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/66c55491db6fa55c68091b1fa2f9de9320170726-45509-1kc3jiy.jpeg[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d23b76d8d7b31e9ad8614792165b6db220170726-45509-t42veo'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/66c55491db6fa55c68091b1fa2f9de9320170726-45509-1kc3jiy.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/66c55491db6fa55c68091b1fa2f9de9320170726-45509-1kc3jiy.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/66c55491db6fa55c68091b1fa2f9de9320170726-45509-1kc3jiy.jpeg[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d23b76d8d7b31e9ad8614792165b6db220170726-45509-17yybq8'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/66c55491db6fa55c68091b1fa2f9de9320170726-45509-1kc3jiy.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/66c55491db6fa55c68091b1fa2f9de9320170726-45509-1kc3jiy.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/66c55491db6fa55c68091b1fa2f9de9320170726-45509-1kc3jiy.jpeg[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d23b76d8d7b31e9ad8614792165b6db220170726-45509-10nywgj'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/66c55491db6fa55c68091b1fa2f9de9320170726-45509-1u8k0ny.jpeg'
  [1m[36mSpree::Asset Load (0.8ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 4], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 4], ["attachment_file_size", 14083], ["position", 1], ["attachment_content_type", "image/jpeg"], ["attachment_file_name", "ror_jr_spaghetti.jpeg"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:14.417062"], ["created_at", "2017-07-26 11:02:14.709268"], ["updated_at", "2017-07-26 11:02:14.709268"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:14.716421' WHERE "spree_variants"."id" = $1[0m  [["id", 4]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:14.730236' WHERE "spree_products"."id" = $1[0m  [["id", 4]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 4]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:14.744382' WHERE "spree_taxons"."id" IN (2, 11, 1, 5, 6)[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:14.751595' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 13], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_mug.jpeg"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/dd66c4d275ef408652e8e54925c1c91f20170726-45509-t32uta.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/dd66c4d275ef408652e8e54925c1c91f20170726-45509-zlx35t.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/dd66c4d275ef408652e8e54925c1c91f20170726-45509-zlx35t.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/dd66c4d275ef408652e8e54925c1c91f20170726-45509-zlx35t.jpeg[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/75593cc4371e722b4c917d8661a0adf820170726-45509-126ifmq'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/dd66c4d275ef408652e8e54925c1c91f20170726-45509-zlx35t.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/dd66c4d275ef408652e8e54925c1c91f20170726-45509-zlx35t.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/dd66c4d275ef408652e8e54925c1c91f20170726-45509-zlx35t.jpeg[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/75593cc4371e722b4c917d8661a0adf820170726-45509-5qv2ok'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/dd66c4d275ef408652e8e54925c1c91f20170726-45509-zlx35t.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/dd66c4d275ef408652e8e54925c1c91f20170726-45509-zlx35t.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/dd66c4d275ef408652e8e54925c1c91f20170726-45509-zlx35t.jpeg[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/75593cc4371e722b4c917d8661a0adf820170726-45509-1smke7f'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/dd66c4d275ef408652e8e54925c1c91f20170726-45509-zlx35t.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/dd66c4d275ef408652e8e54925c1c91f20170726-45509-zlx35t.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/dd66c4d275ef408652e8e54925c1c91f20170726-45509-zlx35t.jpeg[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/75593cc4371e722b4c917d8661a0adf820170726-45509-2azp9'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/dd66c4d275ef408652e8e54925c1c91f20170726-45509-ljgwsp.jpeg'
  [1m[36mSpree::Asset Load (0.8ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 13], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 13], ["attachment_file_size", 20026], ["position", 1], ["attachment_content_type", "image/jpeg"], ["attachment_file_name", "ror_mug.jpeg"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:14.765072"], ["created_at", "2017-07-26 11:02:15.115444"], ["updated_at", "2017-07-26 11:02:15.115444"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:15.122696' WHERE "spree_variants"."id" = $1[0m  [["id", 13]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:15.137320' WHERE "spree_products"."id" = $1[0m  [["id", 13]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 13]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:15.148963' WHERE "spree_taxons"."id" IN (2, 11, 1, 4)[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:15.155336' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 13], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_mug_back.jpeg"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/8f7eadc829bb49baae8515fd70935b1320170726-45509-97gwbs.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/8f7eadc829bb49baae8515fd70935b1320170726-45509-1yc3ymh.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/8f7eadc829bb49baae8515fd70935b1320170726-45509-1yc3ymh.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/8f7eadc829bb49baae8515fd70935b1320170726-45509-1yc3ymh.jpeg[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/69e157fed6a4d372809539088cd2298c20170726-45509-ec8r20'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/8f7eadc829bb49baae8515fd70935b1320170726-45509-1yc3ymh.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/8f7eadc829bb49baae8515fd70935b1320170726-45509-1yc3ymh.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/8f7eadc829bb49baae8515fd70935b1320170726-45509-1yc3ymh.jpeg[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/69e157fed6a4d372809539088cd2298c20170726-45509-rxar7q'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/8f7eadc829bb49baae8515fd70935b1320170726-45509-1yc3ymh.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/8f7eadc829bb49baae8515fd70935b1320170726-45509-1yc3ymh.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/8f7eadc829bb49baae8515fd70935b1320170726-45509-1yc3ymh.jpeg[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/69e157fed6a4d372809539088cd2298c20170726-45509-1sl5ffd'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/8f7eadc829bb49baae8515fd70935b1320170726-45509-1yc3ymh.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/8f7eadc829bb49baae8515fd70935b1320170726-45509-1yc3ymh.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/8f7eadc829bb49baae8515fd70935b1320170726-45509-1yc3ymh.jpeg[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/69e157fed6a4d372809539088cd2298c20170726-45509-1gnpuem'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/8f7eadc829bb49baae8515fd70935b1320170726-45509-p2k2cb.jpeg'
  [1m[36mSpree::Asset Load (0.7ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 13], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 13], ["attachment_file_size", 10929], ["position", 2], ["attachment_content_type", "image/jpeg"], ["attachment_file_name", "ror_mug_back.jpeg"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:15.170581"], ["created_at", "2017-07-26 11:02:15.457615"], ["updated_at", "2017-07-26 11:02:15.457615"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:15.464670' WHERE "spree_variants"."id" = $1[0m  [["id", 13]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:15.477401' WHERE "spree_products"."id" = $1[0m  [["id", 13]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 13]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:15.487218' WHERE "spree_taxons"."id" IN (2, 11, 1, 4)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:15.491664' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (6.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 5], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_ringer.jpeg"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/5866a24b3e1f5f2d125f7efaabf0135320170726-45509-1ty4hq9.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/5866a24b3e1f5f2d125f7efaabf0135320170726-45509-1hhtop6.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/5866a24b3e1f5f2d125f7efaabf0135320170726-45509-1hhtop6.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/5866a24b3e1f5f2d125f7efaabf0135320170726-45509-1hhtop6.jpeg[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6115b15926613abf1915e9407d02399720170726-45509-1bacv37'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/5866a24b3e1f5f2d125f7efaabf0135320170726-45509-1hhtop6.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/5866a24b3e1f5f2d125f7efaabf0135320170726-45509-1hhtop6.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/5866a24b3e1f5f2d125f7efaabf0135320170726-45509-1hhtop6.jpeg[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6115b15926613abf1915e9407d02399720170726-45509-bwh8we'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/5866a24b3e1f5f2d125f7efaabf0135320170726-45509-1hhtop6.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/5866a24b3e1f5f2d125f7efaabf0135320170726-45509-1hhtop6.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/5866a24b3e1f5f2d125f7efaabf0135320170726-45509-1hhtop6.jpeg[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6115b15926613abf1915e9407d02399720170726-45509-1fag802'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/5866a24b3e1f5f2d125f7efaabf0135320170726-45509-1hhtop6.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/5866a24b3e1f5f2d125f7efaabf0135320170726-45509-1hhtop6.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/5866a24b3e1f5f2d125f7efaabf0135320170726-45509-1hhtop6.jpeg[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/6115b15926613abf1915e9407d02399720170726-45509-3jec6z'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/5866a24b3e1f5f2d125f7efaabf0135320170726-45509-1o658tv.jpeg'
  [1m[36mSpree::Asset Load (1.0ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 5], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 5], ["attachment_file_size", 18252], ["position", 1], ["attachment_content_type", "image/jpeg"], ["attachment_file_name", "ror_ringer.jpeg"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:15.506695"], ["created_at", "2017-07-26 11:02:15.813343"], ["updated_at", "2017-07-26 11:02:15.813343"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:15.821477' WHERE "spree_variants"."id" = $1[0m  [["id", 5]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:15.833847' WHERE "spree_products"."id" = $1[0m  [["id", 5]]
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 5]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (2.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:15.847987' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:15.853392' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 5], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_ringer_back.jpeg"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/406d7c07f49d7338c9daf1e1cf8b1e8820170726-45509-1qtrl87.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/406d7c07f49d7338c9daf1e1cf8b1e8820170726-45509-13aauez.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/406d7c07f49d7338c9daf1e1cf8b1e8820170726-45509-13aauez.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/406d7c07f49d7338c9daf1e1cf8b1e8820170726-45509-13aauez.jpeg[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/7addf95230a5426f4223dfd433a2fc2620170726-45509-1k2al01'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/406d7c07f49d7338c9daf1e1cf8b1e8820170726-45509-13aauez.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/406d7c07f49d7338c9daf1e1cf8b1e8820170726-45509-13aauez.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/406d7c07f49d7338c9daf1e1cf8b1e8820170726-45509-13aauez.jpeg[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/7addf95230a5426f4223dfd433a2fc2620170726-45509-12ho9lv'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/406d7c07f49d7338c9daf1e1cf8b1e8820170726-45509-13aauez.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/406d7c07f49d7338c9daf1e1cf8b1e8820170726-45509-13aauez.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/406d7c07f49d7338c9daf1e1cf8b1e8820170726-45509-13aauez.jpeg[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/7addf95230a5426f4223dfd433a2fc2620170726-45509-fceku3'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/406d7c07f49d7338c9daf1e1cf8b1e8820170726-45509-13aauez.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/406d7c07f49d7338c9daf1e1cf8b1e8820170726-45509-13aauez.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/406d7c07f49d7338c9daf1e1cf8b1e8820170726-45509-13aauez.jpeg[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/7addf95230a5426f4223dfd433a2fc2620170726-45509-72cf4m'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/406d7c07f49d7338c9daf1e1cf8b1e8820170726-45509-1r3vqkx.jpeg'
  [1m[36mSpree::Asset Load (0.9ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 5], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 5], ["attachment_file_size", 13276], ["position", 2], ["attachment_content_type", "image/jpeg"], ["attachment_file_name", "ror_ringer_back.jpeg"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:15.867379"], ["created_at", "2017-07-26 11:02:16.204195"], ["updated_at", "2017-07-26 11:02:16.204195"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:16.212020' WHERE "spree_variants"."id" = $1[0m  [["id", 5]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:16.224745' WHERE "spree_products"."id" = $1[0m  [["id", 5]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 5]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:16.237942' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 11)[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:16.244869' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 14], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_stein.jpeg"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/cd8c00608390c59a61a8f682a3bea8f520170726-45509-9bp43x.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/cd8c00608390c59a61a8f682a3bea8f520170726-45509-5cnzt3.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/cd8c00608390c59a61a8f682a3bea8f520170726-45509-5cnzt3.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/cd8c00608390c59a61a8f682a3bea8f520170726-45509-5cnzt3.jpeg[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/2279eb27bcc2cc390c40097c4814922120170726-45509-1gwzkdl'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/cd8c00608390c59a61a8f682a3bea8f520170726-45509-5cnzt3.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/cd8c00608390c59a61a8f682a3bea8f520170726-45509-5cnzt3.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/cd8c00608390c59a61a8f682a3bea8f520170726-45509-5cnzt3.jpeg[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/2279eb27bcc2cc390c40097c4814922120170726-45509-1w8d6ls'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/cd8c00608390c59a61a8f682a3bea8f520170726-45509-5cnzt3.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/cd8c00608390c59a61a8f682a3bea8f520170726-45509-5cnzt3.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/cd8c00608390c59a61a8f682a3bea8f520170726-45509-5cnzt3.jpeg[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/2279eb27bcc2cc390c40097c4814922120170726-45509-1lbsbyf'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/cd8c00608390c59a61a8f682a3bea8f520170726-45509-5cnzt3.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/cd8c00608390c59a61a8f682a3bea8f520170726-45509-5cnzt3.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/cd8c00608390c59a61a8f682a3bea8f520170726-45509-5cnzt3.jpeg[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/2279eb27bcc2cc390c40097c4814922120170726-45509-vya8pu'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/cd8c00608390c59a61a8f682a3bea8f520170726-45509-vi2sy0.jpeg'
  [1m[36mSpree::Asset Load (0.7ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 14], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 14], ["attachment_file_size", 20714], ["position", 1], ["attachment_content_type", "image/jpeg"], ["attachment_file_name", "ror_stein.jpeg"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:16.261732"], ["created_at", "2017-07-26 11:02:16.564828"], ["updated_at", "2017-07-26 11:02:16.564828"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:16.572463' WHERE "spree_variants"."id" = $1[0m  [["id", 14]]
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:16.588545' WHERE "spree_products"."id" = $1[0m  [["id", 14]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 14]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:16.605033' WHERE "spree_taxons"."id" IN (1, 4, 2, 11)[0m
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:16.612291' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 14], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ror_stein_back.jpeg"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9ecf0b8a7c75f9a1381e5990dab6602920170726-45509-nrvs7f.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9ecf0b8a7c75f9a1381e5990dab6602920170726-45509-1eggen.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9ecf0b8a7c75f9a1381e5990dab6602920170726-45509-1eggen.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9ecf0b8a7c75f9a1381e5990dab6602920170726-45509-1eggen.jpeg[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/1d582f83abf2674f7598be09dbc627bc20170726-45509-1qq7u66'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9ecf0b8a7c75f9a1381e5990dab6602920170726-45509-1eggen.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9ecf0b8a7c75f9a1381e5990dab6602920170726-45509-1eggen.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9ecf0b8a7c75f9a1381e5990dab6602920170726-45509-1eggen.jpeg[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/1d582f83abf2674f7598be09dbc627bc20170726-45509-1go3ui6'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9ecf0b8a7c75f9a1381e5990dab6602920170726-45509-1eggen.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9ecf0b8a7c75f9a1381e5990dab6602920170726-45509-1eggen.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9ecf0b8a7c75f9a1381e5990dab6602920170726-45509-1eggen.jpeg[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/1d582f83abf2674f7598be09dbc627bc20170726-45509-1htv3fl'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9ecf0b8a7c75f9a1381e5990dab6602920170726-45509-1eggen.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9ecf0b8a7c75f9a1381e5990dab6602920170726-45509-1eggen.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9ecf0b8a7c75f9a1381e5990dab6602920170726-45509-1eggen.jpeg[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/1d582f83abf2674f7598be09dbc627bc20170726-45509-ftzi03'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9ecf0b8a7c75f9a1381e5990dab6602920170726-45509-19oc0f2.jpeg'
  [1m[36mSpree::Asset Load (0.8ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 14], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 14], ["attachment_file_size", 20619], ["position", 2], ["attachment_content_type", "image/jpeg"], ["attachment_file_name", "ror_stein_back.jpeg"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:16.626504"], ["created_at", "2017-07-26 11:02:16.925922"], ["updated_at", "2017-07-26 11:02:16.925922"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:16.934032' WHERE "spree_variants"."id" = $1[0m  [["id", 14]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:16.948103' WHERE "spree_products"."id" = $1[0m  [["id", 14]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 14]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:16.960337' WHERE "spree_taxons"."id" IN (1, 4, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:16.967017' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 7], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "apache_baseball.png"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-45509-oj7a2g.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-45509-1iv6v0x.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-45509-1iv6v0x.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-45509-1iv6v0x.png[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d4ecdceb845e0daab760fdc5f54be3cd20170726-45509-oxqhf6'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-45509-1iv6v0x.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-45509-1iv6v0x.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-45509-1iv6v0x.png[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d4ecdceb845e0daab760fdc5f54be3cd20170726-45509-55zyz3'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-45509-1iv6v0x.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-45509-1iv6v0x.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-45509-1iv6v0x.png[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d4ecdceb845e0daab760fdc5f54be3cd20170726-45509-5odj03'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-45509-1iv6v0x.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-45509-1iv6v0x.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-45509-1iv6v0x.png[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d4ecdceb845e0daab760fdc5f54be3cd20170726-45509-webxor'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-45509-1gxvxx7.png'
  [1m[36mSpree::Asset Load (0.7ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 7], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 7], ["attachment_file_size", 123779], ["position", 1], ["attachment_content_type", "image/png"], ["attachment_file_name", "apache_baseball.png"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:16.984639"], ["created_at", "2017-07-26 11:02:17.434673"], ["updated_at", "2017-07-26 11:02:17.434673"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:17.441947' WHERE "spree_variants"."id" = $1[0m  [["id", 7]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:17.456865' WHERE "spree_products"."id" = $1[0m  [["id", 7]]
  [1m[36mSpree::Taxon Load (1.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 7]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 16) AND ("spree_taxons"."rgt" >= 17) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:17.467551' WHERE "spree_taxons"."id" IN (2, 9, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 16) AND ("spree_taxons"."rgt" >= 17) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:17.472118' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 6], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "ruby_baseball.png"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/68fe4bd8dad5891f5d050aad56a1710820170726-45509-1p7osf5.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/68fe4bd8dad5891f5d050aad56a1710820170726-45509-tu9q3r.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/68fe4bd8dad5891f5d050aad56a1710820170726-45509-tu9q3r.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/68fe4bd8dad5891f5d050aad56a1710820170726-45509-tu9q3r.png[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/a3bf945957c0e6f1304fcf1532a170c220170726-45509-lqi71t'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/68fe4bd8dad5891f5d050aad56a1710820170726-45509-tu9q3r.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/68fe4bd8dad5891f5d050aad56a1710820170726-45509-tu9q3r.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/68fe4bd8dad5891f5d050aad56a1710820170726-45509-tu9q3r.png[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/a3bf945957c0e6f1304fcf1532a170c220170726-45509-ipczm2'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/68fe4bd8dad5891f5d050aad56a1710820170726-45509-tu9q3r.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/68fe4bd8dad5891f5d050aad56a1710820170726-45509-tu9q3r.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/68fe4bd8dad5891f5d050aad56a1710820170726-45509-tu9q3r.png[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/a3bf945957c0e6f1304fcf1532a170c220170726-45509-1mkjkkg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/68fe4bd8dad5891f5d050aad56a1710820170726-45509-tu9q3r.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/68fe4bd8dad5891f5d050aad56a1710820170726-45509-tu9q3r.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/68fe4bd8dad5891f5d050aad56a1710820170726-45509-tu9q3r.png[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/a3bf945957c0e6f1304fcf1532a170c220170726-45509-h8tfaq'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/68fe4bd8dad5891f5d050aad56a1710820170726-45509-16l1rbc.png'
  [1m[36mSpree::Asset Load (0.7ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 6], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 6], ["attachment_file_size", 138622], ["position", 1], ["attachment_content_type", "image/png"], ["attachment_file_name", "ruby_baseball.png"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:17.490340"], ["created_at", "2017-07-26 11:02:17.946524"], ["updated_at", "2017-07-26 11:02:17.946524"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:17.953922' WHERE "spree_variants"."id" = $1[0m  [["id", 6]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:17.968915' WHERE "spree_products"."id" = $1[0m  [["id", 6]]
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 6]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 14) AND ("spree_taxons"."rgt" >= 15) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:17.979642' WHERE "spree_taxons"."id" IN (2, 8, 1, 5, 7)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 14) AND ("spree_taxons"."rgt" >= 15) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:17.984091' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 12], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "spree_bag.jpeg"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f0f666801445ce70a062df3ebffbc53020170726-45509-1vdox5t.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f0f666801445ce70a062df3ebffbc53020170726-45509-dc0l8d.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f0f666801445ce70a062df3ebffbc53020170726-45509-dc0l8d.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f0f666801445ce70a062df3ebffbc53020170726-45509-dc0l8d.jpeg[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3ce93e4b9c715eb45e4ab45f0fe2a21f20170726-45509-19fwdkx'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f0f666801445ce70a062df3ebffbc53020170726-45509-dc0l8d.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f0f666801445ce70a062df3ebffbc53020170726-45509-dc0l8d.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f0f666801445ce70a062df3ebffbc53020170726-45509-dc0l8d.jpeg[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3ce93e4b9c715eb45e4ab45f0fe2a21f20170726-45509-1fec776'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f0f666801445ce70a062df3ebffbc53020170726-45509-dc0l8d.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f0f666801445ce70a062df3ebffbc53020170726-45509-dc0l8d.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f0f666801445ce70a062df3ebffbc53020170726-45509-dc0l8d.jpeg[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3ce93e4b9c715eb45e4ab45f0fe2a21f20170726-45509-1d2d0ux'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f0f666801445ce70a062df3ebffbc53020170726-45509-dc0l8d.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f0f666801445ce70a062df3ebffbc53020170726-45509-dc0l8d.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f0f666801445ce70a062df3ebffbc53020170726-45509-dc0l8d.jpeg[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3ce93e4b9c715eb45e4ab45f0fe2a21f20170726-45509-1wkephm'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f0f666801445ce70a062df3ebffbc53020170726-45509-1sty5e9.jpeg'
  [1m[36mSpree::Asset Load (0.8ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 12], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 12], ["attachment_file_size", 38369], ["position", 1], ["attachment_content_type", "image/jpeg"], ["attachment_file_name", "spree_bag.jpeg"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:18.002424"], ["created_at", "2017-07-26 11:02:18.391011"], ["updated_at", "2017-07-26 11:02:18.391011"]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:18.399097' WHERE "spree_variants"."id" = $1[0m  [["id", 12]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:18.413483' WHERE "spree_products"."id" = $1[0m  [["id", 12]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 12]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:18.427190' WHERE "spree_taxons"."id" IN (1, 3, 2, 10)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:18.434079' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 11], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "spree_tote_front.jpeg"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/b59e194835ba7d4532633a5c3df26ed120170726-45509-zoswd6.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/b59e194835ba7d4532633a5c3df26ed120170726-45509-bao9js.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/b59e194835ba7d4532633a5c3df26ed120170726-45509-bao9js.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/b59e194835ba7d4532633a5c3df26ed120170726-45509-bao9js.jpeg[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/5cf73f4e6079f3fb8d0379c50dc6853b20170726-45509-1gyyby2'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/b59e194835ba7d4532633a5c3df26ed120170726-45509-bao9js.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/b59e194835ba7d4532633a5c3df26ed120170726-45509-bao9js.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/b59e194835ba7d4532633a5c3df26ed120170726-45509-bao9js.jpeg[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/5cf73f4e6079f3fb8d0379c50dc6853b20170726-45509-13cmo8j'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/b59e194835ba7d4532633a5c3df26ed120170726-45509-bao9js.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/b59e194835ba7d4532633a5c3df26ed120170726-45509-bao9js.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/b59e194835ba7d4532633a5c3df26ed120170726-45509-bao9js.jpeg[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/5cf73f4e6079f3fb8d0379c50dc6853b20170726-45509-w1eb2p'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/b59e194835ba7d4532633a5c3df26ed120170726-45509-bao9js.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/b59e194835ba7d4532633a5c3df26ed120170726-45509-bao9js.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/b59e194835ba7d4532633a5c3df26ed120170726-45509-bao9js.jpeg[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/5cf73f4e6079f3fb8d0379c50dc6853b20170726-45509-qook5p'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/b59e194835ba7d4532633a5c3df26ed120170726-45509-7cbdor.jpeg'
  [1m[36mSpree::Asset Load (0.7ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 11], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 11], ["attachment_file_size", 44579], ["position", 1], ["attachment_content_type", "image/jpeg"], ["attachment_file_name", "spree_tote_front.jpeg"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:18.450181"], ["created_at", "2017-07-26 11:02:18.815913"], ["updated_at", "2017-07-26 11:02:18.815913"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:18.823441' WHERE "spree_variants"."id" = $1[0m  [["id", 11]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:18.836647' WHERE "spree_products"."id" = $1[0m  [["id", 11]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 11]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:18.847786' WHERE "spree_taxons"."id" IN (1, 3, 2, 10)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:18.852750' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 11], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "spree_tote_back.jpeg"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/0715bbfad0d076d8fdc26f73e1b316a020170726-45509-1mzo9ha.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/0715bbfad0d076d8fdc26f73e1b316a020170726-45509-1f3y7jm.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/0715bbfad0d076d8fdc26f73e1b316a020170726-45509-1f3y7jm.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/0715bbfad0d076d8fdc26f73e1b316a020170726-45509-1f3y7jm.jpeg[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/dd09be93bda14072d93d7714dac92aa220170726-45509-jxbrut'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/0715bbfad0d076d8fdc26f73e1b316a020170726-45509-1f3y7jm.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/0715bbfad0d076d8fdc26f73e1b316a020170726-45509-1f3y7jm.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/0715bbfad0d076d8fdc26f73e1b316a020170726-45509-1f3y7jm.jpeg[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/dd09be93bda14072d93d7714dac92aa220170726-45509-tyu69e'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/0715bbfad0d076d8fdc26f73e1b316a020170726-45509-1f3y7jm.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/0715bbfad0d076d8fdc26f73e1b316a020170726-45509-1f3y7jm.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/0715bbfad0d076d8fdc26f73e1b316a020170726-45509-1f3y7jm.jpeg[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/dd09be93bda14072d93d7714dac92aa220170726-45509-8a4eao'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/0715bbfad0d076d8fdc26f73e1b316a020170726-45509-1f3y7jm.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/0715bbfad0d076d8fdc26f73e1b316a020170726-45509-1f3y7jm.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/0715bbfad0d076d8fdc26f73e1b316a020170726-45509-1f3y7jm.jpeg[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/dd09be93bda14072d93d7714dac92aa220170726-45509-14e0l6w'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/0715bbfad0d076d8fdc26f73e1b316a020170726-45509-1j4t1sx.jpeg'
  [1m[36mSpree::Asset Load (0.7ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 11], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 11], ["attachment_file_size", 16947], ["position", 2], ["attachment_content_type", "image/jpeg"], ["attachment_file_name", "spree_tote_back.jpeg"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:18.867211"], ["created_at", "2017-07-26 11:02:19.220567"], ["updated_at", "2017-07-26 11:02:19.220567"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:19.237895' WHERE "spree_variants"."id" = $1[0m  [["id", 11]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:19.252047' WHERE "spree_products"."id" = $1[0m  [["id", 11]]
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 11]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:19.264499' WHERE "spree_taxons"."id" IN (1, 3, 2, 10)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:19.271662' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 10], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "spree_ringer_t.jpeg"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d3ce636f00687ef1e0c06cc060466af320170726-45509-ty2zfv.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d3ce636f00687ef1e0c06cc060466af320170726-45509-g2i55y.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d3ce636f00687ef1e0c06cc060466af320170726-45509-g2i55y.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d3ce636f00687ef1e0c06cc060466af320170726-45509-g2i55y.jpeg[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/18eeed250a496220febec6976f97166920170726-45509-1mx9m54'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d3ce636f00687ef1e0c06cc060466af320170726-45509-g2i55y.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d3ce636f00687ef1e0c06cc060466af320170726-45509-g2i55y.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d3ce636f00687ef1e0c06cc060466af320170726-45509-g2i55y.jpeg[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/18eeed250a496220febec6976f97166920170726-45509-151f5qm'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d3ce636f00687ef1e0c06cc060466af320170726-45509-g2i55y.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d3ce636f00687ef1e0c06cc060466af320170726-45509-g2i55y.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d3ce636f00687ef1e0c06cc060466af320170726-45509-g2i55y.jpeg[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/18eeed250a496220febec6976f97166920170726-45509-y9n3nr'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d3ce636f00687ef1e0c06cc060466af320170726-45509-g2i55y.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d3ce636f00687ef1e0c06cc060466af320170726-45509-g2i55y.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d3ce636f00687ef1e0c06cc060466af320170726-45509-g2i55y.jpeg[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/18eeed250a496220febec6976f97166920170726-45509-1qs9pml'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d3ce636f00687ef1e0c06cc060466af320170726-45509-2o8m48.jpeg'
  [1m[36mSpree::Asset Load (0.7ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 10], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 10], ["attachment_file_size", 17641], ["position", 1], ["attachment_content_type", "image/jpeg"], ["attachment_file_name", "spree_ringer_t.jpeg"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:19.282889"], ["created_at", "2017-07-26 11:02:19.642701"], ["updated_at", "2017-07-26 11:02:19.642701"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:19.650944' WHERE "spree_variants"."id" = $1[0m  [["id", 10]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:19.668082' WHERE "spree_products"."id" = $1[0m  [["id", 10]]
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 10]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:19.680156' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 10)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:19.687383' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (5.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 10], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "spree_ringer_t_back.jpeg"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9cb2861dcc267a295b7ca61b5da833fd20170726-45509-1cfrsy4.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9cb2861dcc267a295b7ca61b5da833fd20170726-45509-16v9qfa.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9cb2861dcc267a295b7ca61b5da833fd20170726-45509-16v9qfa.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9cb2861dcc267a295b7ca61b5da833fd20170726-45509-16v9qfa.jpeg[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3efdb1ba73a964ddc769db88cb7a653220170726-45509-g08xzj'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9cb2861dcc267a295b7ca61b5da833fd20170726-45509-16v9qfa.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9cb2861dcc267a295b7ca61b5da833fd20170726-45509-16v9qfa.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9cb2861dcc267a295b7ca61b5da833fd20170726-45509-16v9qfa.jpeg[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3efdb1ba73a964ddc769db88cb7a653220170726-45509-1qvb2k8'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9cb2861dcc267a295b7ca61b5da833fd20170726-45509-16v9qfa.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9cb2861dcc267a295b7ca61b5da833fd20170726-45509-16v9qfa.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9cb2861dcc267a295b7ca61b5da833fd20170726-45509-16v9qfa.jpeg[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3efdb1ba73a964ddc769db88cb7a653220170726-45509-1j3g0wu'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9cb2861dcc267a295b7ca61b5da833fd20170726-45509-16v9qfa.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9cb2861dcc267a295b7ca61b5da833fd20170726-45509-16v9qfa.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9cb2861dcc267a295b7ca61b5da833fd20170726-45509-16v9qfa.jpeg[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/3efdb1ba73a964ddc769db88cb7a653220170726-45509-1l4ymxx'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9cb2861dcc267a295b7ca61b5da833fd20170726-45509-1v70yce.jpeg'
  [1m[36mSpree::Asset Load (0.8ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 10], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 10], ["attachment_file_size", 10514], ["position", 2], ["attachment_content_type", "image/jpeg"], ["attachment_file_name", "spree_ringer_t_back.jpeg"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:19.701034"], ["created_at", "2017-07-26 11:02:20.036294"], ["updated_at", "2017-07-26 11:02:20.036294"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:20.045478' WHERE "spree_variants"."id" = $1[0m  [["id", 10]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:20.060002' WHERE "spree_products"."id" = $1[0m  [["id", 10]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 10]]
  [1m[36mSpree::Taxon Load (1.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:20.071971' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 10)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:20.078410' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 9], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "spree_spaghetti.jpeg"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d55b9b46b0285b9ca16c31f3ddb9e8e720170726-45509-5bj3te.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d55b9b46b0285b9ca16c31f3ddb9e8e720170726-45509-1ae28c8.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d55b9b46b0285b9ca16c31f3ddb9e8e720170726-45509-1ae28c8.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d55b9b46b0285b9ca16c31f3ddb9e8e720170726-45509-1ae28c8.jpeg[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/66477908579a6bc0ee7ef09440a3931320170726-45509-1430h0w'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d55b9b46b0285b9ca16c31f3ddb9e8e720170726-45509-1ae28c8.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d55b9b46b0285b9ca16c31f3ddb9e8e720170726-45509-1ae28c8.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d55b9b46b0285b9ca16c31f3ddb9e8e720170726-45509-1ae28c8.jpeg[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/66477908579a6bc0ee7ef09440a3931320170726-45509-1svqhoz'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d55b9b46b0285b9ca16c31f3ddb9e8e720170726-45509-1ae28c8.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d55b9b46b0285b9ca16c31f3ddb9e8e720170726-45509-1ae28c8.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d55b9b46b0285b9ca16c31f3ddb9e8e720170726-45509-1ae28c8.jpeg[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/66477908579a6bc0ee7ef09440a3931320170726-45509-119jhig'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d55b9b46b0285b9ca16c31f3ddb9e8e720170726-45509-1ae28c8.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d55b9b46b0285b9ca16c31f3ddb9e8e720170726-45509-1ae28c8.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d55b9b46b0285b9ca16c31f3ddb9e8e720170726-45509-1ae28c8.jpeg[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/66477908579a6bc0ee7ef09440a3931320170726-45509-15d3ztj'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/d55b9b46b0285b9ca16c31f3ddb9e8e720170726-45509-1qwksfv.jpeg'
  [1m[36mSpree::Asset Load (0.8ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 9], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 9], ["attachment_file_size", 5898], ["position", 1], ["attachment_content_type", "image/jpeg"], ["attachment_file_name", "spree_spaghetti.jpeg"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:20.094848"], ["created_at", "2017-07-26 11:02:20.438912"], ["updated_at", "2017-07-26 11:02:20.438912"]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:20.446740' WHERE "spree_variants"."id" = $1[0m  [["id", 9]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:20.462153' WHERE "spree_products"."id" = $1[0m  [["id", 9]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 9]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:20.473833' WHERE "spree_taxons"."id" IN (1, 5, 6, 2, 10)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:20.481173' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 8], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "spree_jersey.jpeg"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/10020b90b0d1807064823abb90c19b2020170726-45509-xhk8v7.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/10020b90b0d1807064823abb90c19b2020170726-45509-yslq4k.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/10020b90b0d1807064823abb90c19b2020170726-45509-yslq4k.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/10020b90b0d1807064823abb90c19b2020170726-45509-yslq4k.jpeg[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/25c8e63cc5749b953c1b1e85c6a9e9a620170726-45509-1j4i5vp'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/10020b90b0d1807064823abb90c19b2020170726-45509-yslq4k.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/10020b90b0d1807064823abb90c19b2020170726-45509-yslq4k.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/10020b90b0d1807064823abb90c19b2020170726-45509-yslq4k.jpeg[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/25c8e63cc5749b953c1b1e85c6a9e9a620170726-45509-12zzgid'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/10020b90b0d1807064823abb90c19b2020170726-45509-yslq4k.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/10020b90b0d1807064823abb90c19b2020170726-45509-yslq4k.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/10020b90b0d1807064823abb90c19b2020170726-45509-yslq4k.jpeg[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/25c8e63cc5749b953c1b1e85c6a9e9a620170726-45509-1x5wpds'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/10020b90b0d1807064823abb90c19b2020170726-45509-yslq4k.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/10020b90b0d1807064823abb90c19b2020170726-45509-yslq4k.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/10020b90b0d1807064823abb90c19b2020170726-45509-yslq4k.jpeg[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/25c8e63cc5749b953c1b1e85c6a9e9a620170726-45509-4br9yd'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/10020b90b0d1807064823abb90c19b2020170726-45509-jg41c5.jpeg'
  [1m[36mSpree::Asset Load (0.7ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 8], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 8], ["attachment_file_size", 18012], ["position", 1], ["attachment_content_type", "image/jpeg"], ["attachment_file_name", "spree_jersey.jpeg"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:20.497994"], ["created_at", "2017-07-26 11:02:20.863996"], ["updated_at", "2017-07-26 11:02:20.863996"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.5ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:20.871157' WHERE "spree_variants"."id" = $1[0m  [["id", 8]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:20.888461' WHERE "spree_products"."id" = $1[0m  [["id", 8]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 8]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:20.900910' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 10)[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:20.907468' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 8], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "spree_jersey_back.jpeg"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f9d6914bb79dae52c3ca8b24108dee9420170726-45509-1ycqe2q.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f9d6914bb79dae52c3ca8b24108dee9420170726-45509-9d16se.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f9d6914bb79dae52c3ca8b24108dee9420170726-45509-9d16se.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f9d6914bb79dae52c3ca8b24108dee9420170726-45509-9d16se.jpeg[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/8eec1286d3810ad208a31d34aaa9721520170726-45509-2k13sh'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f9d6914bb79dae52c3ca8b24108dee9420170726-45509-9d16se.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f9d6914bb79dae52c3ca8b24108dee9420170726-45509-9d16se.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f9d6914bb79dae52c3ca8b24108dee9420170726-45509-9d16se.jpeg[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/8eec1286d3810ad208a31d34aaa9721520170726-45509-1r6b2bn'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f9d6914bb79dae52c3ca8b24108dee9420170726-45509-9d16se.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f9d6914bb79dae52c3ca8b24108dee9420170726-45509-9d16se.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f9d6914bb79dae52c3ca8b24108dee9420170726-45509-9d16se.jpeg[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/8eec1286d3810ad208a31d34aaa9721520170726-45509-7sl2g5'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f9d6914bb79dae52c3ca8b24108dee9420170726-45509-9d16se.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f9d6914bb79dae52c3ca8b24108dee9420170726-45509-9d16se.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f9d6914bb79dae52c3ca8b24108dee9420170726-45509-9d16se.jpeg[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/8eec1286d3810ad208a31d34aaa9721520170726-45509-tu7u3r'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/f9d6914bb79dae52c3ca8b24108dee9420170726-45509-1akfixe.jpeg'
  [1m[36mSpree::Asset Load (0.7ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 8], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 8], ["attachment_file_size", 17868], ["position", 2], ["attachment_content_type", "image/jpeg"], ["attachment_file_name", "spree_jersey_back.jpeg"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:20.921345"], ["created_at", "2017-07-26 11:02:21.268648"], ["updated_at", "2017-07-26 11:02:21.268648"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.3ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:21.276365' WHERE "spree_variants"."id" = $1[0m  [["id", 8]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:21.290845' WHERE "spree_products"."id" = $1[0m  [["id", 8]]
  [1m[36mSpree::Taxon Load (1.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 8]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:21.303161' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 10)[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:21.310636' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 15], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "spree_stein.jpeg"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/da8caf5d3ddf2713df6bdc8715c458c720170726-45509-l4ms8d.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/da8caf5d3ddf2713df6bdc8715c458c720170726-45509-11laynl.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/da8caf5d3ddf2713df6bdc8715c458c720170726-45509-11laynl.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/da8caf5d3ddf2713df6bdc8715c458c720170726-45509-11laynl.jpeg[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/68115036b54230fe0b01a08348c4fb1420170726-45509-1u2398o'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/da8caf5d3ddf2713df6bdc8715c458c720170726-45509-11laynl.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/da8caf5d3ddf2713df6bdc8715c458c720170726-45509-11laynl.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/da8caf5d3ddf2713df6bdc8715c458c720170726-45509-11laynl.jpeg[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/68115036b54230fe0b01a08348c4fb1420170726-45509-1g6nxay'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/da8caf5d3ddf2713df6bdc8715c458c720170726-45509-11laynl.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/da8caf5d3ddf2713df6bdc8715c458c720170726-45509-11laynl.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/da8caf5d3ddf2713df6bdc8715c458c720170726-45509-11laynl.jpeg[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/68115036b54230fe0b01a08348c4fb1420170726-45509-1lyk6p5'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/da8caf5d3ddf2713df6bdc8715c458c720170726-45509-11laynl.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/da8caf5d3ddf2713df6bdc8715c458c720170726-45509-11laynl.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/da8caf5d3ddf2713df6bdc8715c458c720170726-45509-11laynl.jpeg[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/68115036b54230fe0b01a08348c4fb1420170726-45509-1dk6itf'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/da8caf5d3ddf2713df6bdc8715c458c720170726-45509-1d90njh.jpeg'
  [1m[36mSpree::Asset Load (0.9ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 15], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 15], ["attachment_file_size", 12999], ["position", 1], ["attachment_content_type", "image/jpeg"], ["attachment_file_name", "spree_stein.jpeg"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:21.322695"], ["created_at", "2017-07-26 11:02:21.655439"], ["updated_at", "2017-07-26 11:02:21.655439"]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:21.664666' WHERE "spree_variants"."id" = $1[0m  [["id", 15]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:21.684084' WHERE "spree_products"."id" = $1[0m  [["id", 15]]
  [1m[36mSpree::Taxon Load (1.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 15]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:21.697125' WHERE "spree_taxons"."id" IN (2, 10, 1, 4)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:21.704344' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 15], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "spree_stein_back.jpeg"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/aec18724ccf101baa9616c87339a3e6020170726-45509-1xurie2.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/aec18724ccf101baa9616c87339a3e6020170726-45509-1ajy7jp.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/aec18724ccf101baa9616c87339a3e6020170726-45509-1ajy7jp.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/aec18724ccf101baa9616c87339a3e6020170726-45509-1ajy7jp.jpeg[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/a5790449d8a56facb536eb983c7092b320170726-45509-i2b25p'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/aec18724ccf101baa9616c87339a3e6020170726-45509-1ajy7jp.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/aec18724ccf101baa9616c87339a3e6020170726-45509-1ajy7jp.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/aec18724ccf101baa9616c87339a3e6020170726-45509-1ajy7jp.jpeg[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/a5790449d8a56facb536eb983c7092b320170726-45509-1ocq44w'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/aec18724ccf101baa9616c87339a3e6020170726-45509-1ajy7jp.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/aec18724ccf101baa9616c87339a3e6020170726-45509-1ajy7jp.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/aec18724ccf101baa9616c87339a3e6020170726-45509-1ajy7jp.jpeg[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/a5790449d8a56facb536eb983c7092b320170726-45509-199f1ns'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/aec18724ccf101baa9616c87339a3e6020170726-45509-1ajy7jp.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/aec18724ccf101baa9616c87339a3e6020170726-45509-1ajy7jp.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/aec18724ccf101baa9616c87339a3e6020170726-45509-1ajy7jp.jpeg[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/a5790449d8a56facb536eb983c7092b320170726-45509-arvsnj'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/aec18724ccf101baa9616c87339a3e6020170726-45509-6i7cvh.jpeg'
  [1m[36mSpree::Asset Load (0.7ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 15], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 15], ["attachment_file_size", 12687], ["position", 2], ["attachment_content_type", "image/jpeg"], ["attachment_file_name", "spree_stein_back.jpeg"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:21.715593"], ["created_at", "2017-07-26 11:02:22.052529"], ["updated_at", "2017-07-26 11:02:22.052529"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:22.059834' WHERE "spree_variants"."id" = $1[0m  [["id", 15]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:22.075389' WHERE "spree_products"."id" = $1[0m  [["id", 15]]
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 15]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:22.086334' WHERE "spree_taxons"."id" IN (2, 10, 1, 4)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.4ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:22.092457' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 16], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "spree_mug.jpeg"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/bf3015caff121a52f1666ab36cbb184c20170726-45509-nnooy9.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/bf3015caff121a52f1666ab36cbb184c20170726-45509-1rolwoh.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/bf3015caff121a52f1666ab36cbb184c20170726-45509-1rolwoh.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/bf3015caff121a52f1666ab36cbb184c20170726-45509-1rolwoh.jpeg[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/7bf3fa97a39090c3ddd6c7ccfafec05620170726-45509-1prsxvl'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/bf3015caff121a52f1666ab36cbb184c20170726-45509-1rolwoh.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/bf3015caff121a52f1666ab36cbb184c20170726-45509-1rolwoh.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/bf3015caff121a52f1666ab36cbb184c20170726-45509-1rolwoh.jpeg[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/7bf3fa97a39090c3ddd6c7ccfafec05620170726-45509-15vlqn9'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/bf3015caff121a52f1666ab36cbb184c20170726-45509-1rolwoh.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/bf3015caff121a52f1666ab36cbb184c20170726-45509-1rolwoh.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/bf3015caff121a52f1666ab36cbb184c20170726-45509-1rolwoh.jpeg[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/7bf3fa97a39090c3ddd6c7ccfafec05620170726-45509-ax0wf6'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/bf3015caff121a52f1666ab36cbb184c20170726-45509-1rolwoh.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/bf3015caff121a52f1666ab36cbb184c20170726-45509-1rolwoh.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/bf3015caff121a52f1666ab36cbb184c20170726-45509-1rolwoh.jpeg[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/7bf3fa97a39090c3ddd6c7ccfafec05620170726-45509-1a36rzv'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/bf3015caff121a52f1666ab36cbb184c20170726-45509-x9rml2.jpeg'
  [1m[36mSpree::Asset Load (0.9ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 16], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 16], ["attachment_file_size", 4148], ["position", 1], ["attachment_content_type", "image/jpeg"], ["attachment_file_name", "spree_mug.jpeg"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:22.108360"], ["created_at", "2017-07-26 11:02:22.390378"], ["updated_at", "2017-07-26 11:02:22.390378"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:22.398212' WHERE "spree_variants"."id" = $1[0m  [["id", 16]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:22.413745' WHERE "spree_products"."id" = $1[0m  [["id", 16]]
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 16]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:22.426002' WHERE "spree_taxons"."id" IN (2, 10, 1, 4)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:22.433782' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Image Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND "spree_assets"."attachment_file_name" = $3 LIMIT $4[0m  [["viewable_id", 16], ["viewable_type", "Spree::Variant"], ["attachment_file_name", "spree_mug_back.jpeg"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/97178e2126f1421e09953698a59820d520170726-45509-1sguqbd.jpeg'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/97178e2126f1421e09953698a59820d520170726-45509-6olpd0.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/97178e2126f1421e09953698a59820d520170726-45509-6olpd0.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/97178e2126f1421e09953698a59820d520170726-45509-6olpd0.jpeg[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9f27cf95c487325e07254aea83e3e16620170726-45509-464sz3'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/97178e2126f1421e09953698a59820d520170726-45509-6olpd0.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/97178e2126f1421e09953698a59820d520170726-45509-6olpd0.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/97178e2126f1421e09953698a59820d520170726-45509-6olpd0.jpeg[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9f27cf95c487325e07254aea83e3e16620170726-45509-15pey8k'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/97178e2126f1421e09953698a59820d520170726-45509-6olpd0.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/97178e2126f1421e09953698a59820d520170726-45509-6olpd0.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/97178e2126f1421e09953698a59820d520170726-45509-6olpd0.jpeg[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9f27cf95c487325e07254aea83e3e16620170726-45509-19jiyxj'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/97178e2126f1421e09953698a59820d520170726-45509-6olpd0.jpeg[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/97178e2126f1421e09953698a59820d520170726-45509-6olpd0.jpeg[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/97178e2126f1421e09953698a59820d520170726-45509-6olpd0.jpeg[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/9f27cf95c487325e07254aea83e3e16620170726-45509-gj8h4s'
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/97178e2126f1421e09953698a59820d520170726-45509-9jwzqj.jpeg'
  [1m[36mSpree::Asset Load (0.7ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 16], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 16], ["attachment_file_size", 4428], ["position", 2], ["attachment_content_type", "image/jpeg"], ["attachment_file_name", "spree_mug_back.jpeg"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 11:02:22.443799"], ["created_at", "2017-07-26 11:02:22.711868"], ["updated_at", "2017-07-26 11:02:22.711868"]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:02:22.720609' WHERE "spree_variants"."id" = $1[0m  [["id", 16]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:02:22.733316' WHERE "spree_products"."id" = $1[0m  [["id", 16]]
  [1m[36mSpree::Taxon Load (1.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 16]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:02:22.745238' WHERE "spree_taxons"."id" IN (2, 10, 1, 4)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:02:22.752211' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (2, 1) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (5.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Country Load (0.9ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."iso" = $1 LIMIT $2[0m  [["iso", "US"], ["LIMIT", 1]]
  [1m[36mSpree::State Load (1.9ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."name" = $1 LIMIT $2[0m  [["name", "New York"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/address_requires_state"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  [1m[35mSQL (26.1ms)[0m  [1m[32mINSERT INTO "spree_addresses" ("firstname", "lastname", "address1", "address2", "city", "zipcode", "phone", "state_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["firstname", "Yasuko"], ["lastname", "Hackett"], ["address1", "49250 Ashton Fort"], ["address2", "Apt. 008"], ["city", "Batztown"], ["zipcode", "16804"], ["phone", "848-421-2701 x253"], ["state_id", 3045], ["country_id", 232], ["created_at", "2017-07-26 11:02:22.956739"], ["updated_at", "2017-07-26 11:02:22.956739"]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/address_requires_state"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_addresses" ("firstname", "lastname", "address1", "address2", "city", "zipcode", "phone", "state_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["firstname", "Reta"], ["lastname", "Jast"], ["address1", "3182 Abby Glen"], ["address2", "Apt. 475"], ["city", "Hahnside"], ["zipcode", "16804"], ["phone", "(369)997-3809 x6050"], ["state_id", 3045], ["country_id", 232], ["created_at", "2017-07-26 11:02:22.993690"], ["updated_at", "2017-07-26 11:02:22.993690"]]
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Order Load (1.3ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND "spree_orders"."email" = $2 ORDER BY "spree_orders"."id" ASC LIMIT $3[0m  [["number", "R123456789"], ["email", "spree@example.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Order Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R123456789"], ["LIMIT", 1]]
  [1m[36mSpree::Order Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R123456789"], ["LIMIT", 1]]
  [1m[36mSpree::Order Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND "spree_orders"."email" = $2 AND "spree_orders"."guest_token" = $3 LIMIT $4[0m  [["number", "R123456789"], ["email", "spree@example.com"], ["guest_token", "ZcyGUjwMcDJv1E95RKO_3w1501066943059"], ["LIMIT", 1]]
  [1m[35mSQL (7.6ms)[0m  [1m[32mINSERT INTO "spree_orders" ("number", "item_total", "total", "state", "adjustment_total", "email", "created_at", "updated_at", "currency", "guest_token") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["number", "R123456789"], ["item_total", "150.95"], ["total", "301.9"], ["state", "cart"], ["adjustment_total", "150.95"], ["email", "spree@example.com"], ["created_at", "2017-07-26 11:02:23.058727"], ["updated_at", "2017-07-26 11:02:23.058727"], ["currency", "USD"], ["guest_token", "ZcyGUjwMcDJv1E95RKO_3w1501066943059"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Order Load (1.3ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND "spree_orders"."email" = $2 ORDER BY "spree_orders"."id" ASC LIMIT $3[0m  [["number", "R987654321"], ["email", "spree@example.com"], ["LIMIT", 1]]
  [1m[36mSpree::Address Load (1.0ms)[0m  [1m[34mSELECT  "spree_addresses".* FROM "spree_addresses" ORDER BY "spree_addresses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Address Load (0.6ms)[0m  [1m[34mSELECT  "spree_addresses".* FROM "spree_addresses" ORDER BY "spree_addresses"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Order Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R987654321"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT $2[0m  [["id", 3045], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/address_requires_state"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT $2[0m  [["id", 3045], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/address_requires_state"], ["LIMIT", 1]]
  [1m[36mSpree::Order Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R987654321"], ["LIMIT", 1]]
  [1m[36mSpree::Order Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND "spree_orders"."email" = $2 AND "spree_orders"."guest_token" = $3 LIMIT $4[0m  [["number", "R987654321"], ["email", "spree@example.com"], ["guest_token", "VeJTU8nK7j6nVfvhsn3giA1501066943112"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_orders" ("number", "item_total", "total", "state", "adjustment_total", "bill_address_id", "ship_address_id", "email", "created_at", "updated_at", "currency", "guest_token") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12) RETURNING "id"[0m  [["number", "R987654321"], ["item_total", "15.95"], ["total", "31.9"], ["state", "cart"], ["adjustment_total", "15.95"], ["bill_address_id", 2], ["ship_address_id", 1], ["email", "spree@example.com"], ["created_at", "2017-07-26 11:02:23.112869"], ["updated_at", "2017-07-26 11:02:23.112869"], ["currency", "USD"], ["guest_token", "VeJTU8nK7j6nVfvhsn3giA1501066943112"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::LineItem Exists (19.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 LIMIT $2[0m  [["order_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Tote"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 1], ["is_master", "t"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.4ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 1], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (0.5ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 1], ["active", "t"]]
  [1m[35mSQL (7.3ms)[0m  [1m[32mINSERT INTO "spree_line_items" ("variant_id", "order_id", "quantity", "price", "created_at", "updated_at", "currency", "cost_price", "tax_category_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["variant_id", 1], ["order_id", 1], ["quantity", 1], ["price", "15.99"], ["created_at", "2017-07-26 11:02:23.384296"], ["updated_at", "2017-07-26 11:02:23.384296"], ["currency", "USD"], ["cost_price", "17.0"], ["tax_category_id", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/tax_using_ship_address"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.4ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[36mSpree::Adjustment Load (0.8ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = 'Spree::LineItem' AND "spree_adjustments"."adjustable_id" = 1 AND "spree_adjustments"."source_type" = $1[0m  [["source_type", "Spree::TaxRate"]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_line_items" SET "pre_tax_amount" = 15.99 WHERE "spree_line_items"."id" = $1[0m  [["id", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (7.2ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 1]]
  [1m[36mSpree::Adjustment Load (0.5ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction'[0m  [["adjustable_id", 1], ["adjustable_type", "Spree::LineItem"]]
  [1m[36mSpree::Adjustment Load (1.1ms)[0m  [1m[34mSELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction' AND "spree_adjustments"."eligible" = $3 ORDER BY amount ASC, created_at DESC, id DESC LIMIT $4[0m  [["adjustable_id", 1], ["adjustable_type", "Spree::LineItem"], ["eligible", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.6ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."included" = $4[0m  [["adjustable_id", 1], ["adjustable_type", "Spree::LineItem"], ["source_type", "Spree::TaxRate"], ["included", "t"]]
  [1m[36mSpree::Adjustment Load (0.5ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."included" = $4[0m  [["adjustable_id", 1], ["adjustable_type", "Spree::LineItem"], ["source_type", "Spree::TaxRate"], ["included", "f"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_line_items" SET "non_taxable_adjustment_total" = 0, "taxable_adjustment_total" = 0.0, "promo_total" = 0.0, "included_tax_total" = 0, "additional_tax_total" = 0, "adjustment_total" = 0.0, "updated_at" = '2017-07-26 11:02:23.472322' WHERE "spree_line_items"."id" = $1[0m  [["id", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/tax_using_ship_address"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.5ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.5ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = 'Spree::LineItem' AND "spree_adjustments"."adjustable_id" = 1 AND "spree_adjustments"."source_type" = $1[0m  [["source_type", "Spree::TaxRate"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_line_items" SET "pre_tax_amount" = 15.99 WHERE "spree_line_items"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_orders" SET "updated_at" = '2017-07-26 11:02:23.412843' WHERE "spree_orders"."id" = $1[0m  [["id", 1]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::LineItem Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 LIMIT $2[0m  [["order_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."name" = $1 LIMIT $2[0m  [["name", "Ruby on Rails Bag"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 2], ["is_master", "t"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.4ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 2], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (0.5ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 2], ["active", "t"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_line_items" ("variant_id", "order_id", "quantity", "price", "created_at", "updated_at", "currency", "cost_price", "tax_category_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["variant_id", 2], ["order_id", 2], ["quantity", 1], ["price", "22.99"], ["created_at", "2017-07-26 11:02:23.508332"], ["updated_at", "2017-07-26 11:02:23.508332"], ["currency", "USD"], ["cost_price", "21.0"], ["tax_category_id", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/tax_using_ship_address"], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[34mSELECT "spree_zones"."id" AS t0_r0, "spree_zones"."name" AS t0_r1, "spree_zones"."description" AS t0_r2, "spree_zones"."default_tax" AS t0_r3, "spree_zones"."zone_members_count" AS t0_r4, "spree_zones"."created_at" AS t0_r5, "spree_zones"."updated_at" AS t0_r6, "spree_zones"."kind" AS t0_r7, "spree_zone_members"."id" AS t1_r0, "spree_zone_members"."zoneable_type" AS t1_r1, "spree_zone_members"."zoneable_id" AS t1_r2, "spree_zone_members"."zone_id" AS t1_r3, "spree_zone_members"."created_at" AS t1_r4, "spree_zone_members"."updated_at" AS t1_r5 FROM "spree_zones" LEFT OUTER JOIN "spree_zone_members" ON "spree_zone_members"."zone_id" = "spree_zones"."id" WHERE ((spree_zone_members.zoneable_type = 'Spree::Country' AND spree_zone_members.zoneable_id = 232) OR (spree_zone_members.zoneable_type = 'Spree::State' AND spree_zone_members.zoneable_id = 3045)) ORDER BY spree_zones.zone_members_count, spree_zones.created_at[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT DISTINCT "spree_zones"."id" FROM "spree_zones" INNER JOIN "spree_zone_members" ON "spree_zone_members"."zone_id" = "spree_zones"."id" AND "spree_zone_members"."zoneable_type" = $1 INNER JOIN "spree_countries" ON "spree_countries"."id" = "spree_zone_members"."zoneable_id" INNER JOIN "spree_zone_members" "zone_members_spree_countries_join" ON "zone_members_spree_countries_join"."zoneable_id" = "spree_countries"."id" AND "zone_members_spree_countries_join"."zoneable_type" = $2 INNER JOIN "spree_zones" "zones_spree_countries" ON "zones_spree_countries"."id" = "zone_members_spree_countries_join"."zone_id" WHERE (zone_members_spree_countries_join.zone_id = 2)[0m  [["zoneable_type", "Spree::Country"], ["zoneable_type", "Spree::Country"]]
  [1m[36mSpree::TaxRate Load (0.6ms)[0m  [1m[34mSELECT "spree_tax_rates".* FROM "spree_tax_rates" WHERE "spree_tax_rates"."deleted_at" IS NULL AND "spree_tax_rates"."zone_id" = 2[0m
  [1m[36mSpree::TaxCategory Load (0.5ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.4ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = 'Spree::LineItem' AND "spree_adjustments"."adjustable_id" = 2 AND "spree_adjustments"."source_type" = $1[0m  [["source_type", "Spree::TaxRate"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_line_items" SET "pre_tax_amount" = 22.99 WHERE "spree_line_items"."id" = $1[0m  [["id", 2]]
  [1m[36mSpree::Calculator Load (0.5ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::TaxRate"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_adjustments" ("source_type", "source_id", "adjustable_type", "adjustable_id", "amount", "label", "created_at", "updated_at", "state", "order_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["source_type", "Spree::TaxRate"], ["source_id", 1], ["adjustable_type", "Spree::LineItem"], ["adjustable_id", 2], ["amount", "1.15"], ["label", "North America 5.0%"], ["created_at", "2017-07-26 11:02:23.610615"], ["updated_at", "2017-07-26 11:02:23.610615"], ["state", "open"], ["order_id", 2]]
  [1m[36mSpree::Adjustment Load (0.5ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction'[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::LineItem"]]
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction' AND "spree_adjustments"."eligible" = $3 ORDER BY amount ASC, created_at DESC, id DESC LIMIT $4[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::LineItem"], ["eligible", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.5ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."included" = $4[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::LineItem"], ["source_type", "Spree::TaxRate"], ["included", "t"]]
  [1m[36mSpree::Adjustment Load (0.5ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."included" = $4[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::LineItem"], ["source_type", "Spree::TaxRate"], ["included", "f"]]
  [1m[36mSpree::LineItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::TaxRate Load (0.4ms)[0m  [1m[34mSELECT  "spree_tax_rates".* FROM "spree_tax_rates" WHERE "spree_tax_rates"."deleted_at" IS NULL AND "spree_tax_rates"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Calculator Load (0.3ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::TaxRate"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_adjustments" SET "amount" = 1.15, "updated_at" = '2017-07-26 11:02:23.631573' WHERE "spree_adjustments"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_line_items" SET "non_taxable_adjustment_total" = 0, "taxable_adjustment_total" = 0.0, "promo_total" = 0.0, "included_tax_total" = 0, "additional_tax_total" = 1.15, "adjustment_total" = 1.15, "updated_at" = '2017-07-26 11:02:23.632999' WHERE "spree_line_items"."id" = $1[0m  [["id", 2]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (0.5ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 2]]
  [1m[36mSpree::Adjustment Load (0.5ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction'[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::LineItem"]]
  [1m[36mSpree::Adjustment Load (0.8ms)[0m  [1m[34mSELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction' AND "spree_adjustments"."eligible" = $3 ORDER BY amount ASC, created_at DESC, id DESC LIMIT $4[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::LineItem"], ["eligible", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.4ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."included" = $4[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::LineItem"], ["source_type", "Spree::TaxRate"], ["included", "t"]]
  [1m[36mSpree::Adjustment Load (0.5ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."included" = $4[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::LineItem"], ["source_type", "Spree::TaxRate"], ["included", "f"]]
  [1m[36mSpree::LineItem Load (0.5ms)[0m  [1m[34mSELECT  "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::TaxRate Load (0.5ms)[0m  [1m[34mSELECT  "spree_tax_rates".* FROM "spree_tax_rates" WHERE "spree_tax_rates"."deleted_at" IS NULL AND "spree_tax_rates"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Calculator Load (0.4ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::TaxRate"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_adjustments" SET "amount" = 1.15, "updated_at" = '2017-07-26 11:02:23.655902' WHERE "spree_adjustments"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_line_items" SET "non_taxable_adjustment_total" = 0, "taxable_adjustment_total" = 0.0, "promo_total" = 0.0, "included_tax_total" = 0, "additional_tax_total" = 1.15, "adjustment_total" = 1.15, "updated_at" = '2017-07-26 11:02:23.657185' WHERE "spree_line_items"."id" = $1[0m  [["id", 2]]
  [1m[35m (1.6ms)[0m  [1m[34mSELECT DISTINCT "spree_zones"."id" FROM "spree_zones" INNER JOIN "spree_zone_members" ON "spree_zone_members"."zone_id" = "spree_zones"."id" AND "spree_zone_members"."zoneable_type" = $1 INNER JOIN "spree_countries" ON "spree_countries"."id" = "spree_zone_members"."zoneable_id" INNER JOIN "spree_zone_members" "zone_members_spree_countries_join" ON "zone_members_spree_countries_join"."zoneable_id" = "spree_countries"."id" AND "zone_members_spree_countries_join"."zoneable_type" = $2 INNER JOIN "spree_zones" "zones_spree_countries" ON "zones_spree_countries"."id" = "zone_members_spree_countries_join"."zone_id" WHERE (zone_members_spree_countries_join.zone_id = 2)[0m  [["zoneable_type", "Spree::Country"], ["zoneable_type", "Spree::Country"]]
  [1m[36mSpree::TaxRate Load (0.6ms)[0m  [1m[34mSELECT "spree_tax_rates".* FROM "spree_tax_rates" WHERE "spree_tax_rates"."deleted_at" IS NULL AND "spree_tax_rates"."zone_id" = 2[0m
  [1m[36mSpree::TaxCategory Load (0.5ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.5ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = 'Spree::LineItem' AND "spree_adjustments"."adjustable_id" = 2 AND "spree_adjustments"."source_type" = $1[0m  [["source_type", "Spree::TaxRate"]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "spree_adjustments" WHERE "spree_adjustments"."id" = $1[0m  [["id", 1]]
  [1m[36mSpree::LineItem Load (0.5ms)[0m  [1m[34mSELECT  "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.6ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.6ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction'[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::LineItem"]]
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction' AND "spree_adjustments"."eligible" = $3 ORDER BY amount ASC, created_at DESC, id DESC LIMIT $4[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::LineItem"], ["eligible", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.3ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."included" = $4[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::LineItem"], ["source_type", "Spree::TaxRate"], ["included", "t"]]
  [1m[36mSpree::Adjustment Load (0.3ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."included" = $4[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::LineItem"], ["source_type", "Spree::TaxRate"], ["included", "f"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_line_items" SET "non_taxable_adjustment_total" = 0, "taxable_adjustment_total" = 0.0, "promo_total" = 0.0, "included_tax_total" = 0, "additional_tax_total" = 0, "adjustment_total" = 0.0, "updated_at" = '2017-07-26 11:02:23.679664' WHERE "spree_line_items"."id" = $1[0m  [["id", 2]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_line_items" SET "pre_tax_amount" = 22.99 WHERE "spree_line_items"."id" = $1[0m  [["id", 2]]
  [1m[36mSpree::Calculator Load (0.4ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::TaxRate"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_adjustments" ("source_type", "source_id", "adjustable_type", "adjustable_id", "amount", "label", "created_at", "updated_at", "state", "order_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["source_type", "Spree::TaxRate"], ["source_id", 1], ["adjustable_type", "Spree::LineItem"], ["adjustable_id", 2], ["amount", "1.15"], ["label", "North America 5.0%"], ["created_at", "2017-07-26 11:02:23.687464"], ["updated_at", "2017-07-26 11:02:23.687464"], ["state", "open"], ["order_id", 2]]
  [1m[36mSpree::Adjustment Load (0.5ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction'[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::LineItem"]]
  [1m[36mSpree::Adjustment Load (0.8ms)[0m  [1m[34mSELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction' AND "spree_adjustments"."eligible" = $3 ORDER BY amount ASC, created_at DESC, id DESC LIMIT $4[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::LineItem"], ["eligible", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.3ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."included" = $4[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::LineItem"], ["source_type", "Spree::TaxRate"], ["included", "t"]]
  [1m[36mSpree::Adjustment Load (0.3ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."included" = $4[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::LineItem"], ["source_type", "Spree::TaxRate"], ["included", "f"]]
  [1m[36mSpree::LineItem Load (0.5ms)[0m  [1m[34mSELECT  "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::TaxRate Load (0.5ms)[0m  [1m[34mSELECT  "spree_tax_rates".* FROM "spree_tax_rates" WHERE "spree_tax_rates"."deleted_at" IS NULL AND "spree_tax_rates"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Calculator Load (0.4ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::TaxRate"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_adjustments" SET "amount" = 1.15, "updated_at" = '2017-07-26 11:02:23.702253' WHERE "spree_adjustments"."id" = $1[0m  [["id", 2]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_line_items" SET "non_taxable_adjustment_total" = 0, "taxable_adjustment_total" = 0.0, "promo_total" = 0.0, "included_tax_total" = 0, "additional_tax_total" = 1.15, "adjustment_total" = 1.15, "updated_at" = '2017-07-26 11:02:23.703563' WHERE "spree_line_items"."id" = $1[0m  [["id", 2]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_line_items" SET "updated_at" = '2017-07-26 11:02:23.705119' WHERE "spree_line_items"."id" = $1[0m  [["id", 2]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_orders" SET "updated_at" = '2017-07-26 11:02:23.707174' WHERE "spree_orders"."id" = $1[0m  [["id", 2]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2[0m  [["order_id", 1], ["adjustable_type", "Spree::Shipment"]]
  [1m[36mSpree::Shipment Load (0.4ms)[0m  [1m[34mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 1]]
  [1m[35mSQL (9.3ms)[0m  [1m[31mDELETE FROM "spree_state_changes" WHERE "spree_state_changes"."stateful_type" = $1 AND 1=0[0m  [["stateful_type", "Spree::Shipment"]]
  [1m[35mSQL (9.7ms)[0m  [1m[31mDELETE FROM "spree_shipping_rates" WHERE 1=0[0m
  [1m[35mSQL (0.8ms)[0m  [1m[31mDELETE FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[31mDELETE FROM "spree_inventory_units" WHERE "spree_inventory_units"."order_id" = $1 AND "spree_inventory_units"."state" IN ('backordered', 'on_hand')[0m  [["order_id", 1]]
  [1m[36mSpree::LineItem Load (0.9ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 ORDER BY "spree_line_items"."created_at" ASC[0m  [["order_id", 1]]
  [1m[36mSpree::StockLocation Load (0.9ms)[0m  [1m[34mSELECT DISTINCT "spree_stock_locations".* FROM "spree_stock_locations" INNER JOIN "spree_stock_items" ON "spree_stock_items"."stock_location_id" = "spree_stock_locations"."id" AND "spree_stock_items"."deleted_at" IS NULL WHERE "spree_stock_locations"."active" = $1 AND "spree_stock_items"."variant_id" = 1[0m  [["active", "t"]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $1 AND "spree_stock_items"."variant_id" = 1 LIMIT $2[0m  [["stock_location_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.5ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $1 AND "spree_stock_items"."variant_id" = 1 ORDER BY "spree_stock_items"."id" ASC LIMIT $2[0m  [["stock_location_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (1.2ms)[0m  [1m[34mSELECT DISTINCT "spree_shipping_categories".* FROM "spree_shipping_categories" INNER JOIN "spree_products" ON "spree_products"."shipping_category_id" = "spree_shipping_categories"."id" AND "spree_products"."deleted_at" IS NULL INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."deleted_at" IS NULL WHERE "spree_variants"."id" = 1[0m
  [1m[36mSpree::ShippingMethodCategory Load (0.6ms)[0m  [1m[34mSELECT "spree_shipping_method_categories".* FROM "spree_shipping_method_categories" WHERE "spree_shipping_method_categories"."shipping_category_id" = 1[0m
  [1m[36mSpree::ShippingMethod Load (0.7ms)[0m  [1m[34mSELECT "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL AND "spree_shipping_methods"."id" IN (1, 2, 3, 4, 5)[0m
  [1m[36mSpree::Calculator Load (0.4ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Calculator Load (0.3ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 2], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Calculator Load (0.3ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 3], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Calculator Load (0.3ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 4], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Calculator Load (0.3ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 5], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Shipment Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 LIMIT $2[0m  [["number", "H57084771823"], ["LIMIT", 1]]
  [1m[36mSpree::Shipment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 LIMIT $2[0m  [["number", "H57084771823"], ["LIMIT", 1]]
  [1m[36mSpree::Shipment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 LIMIT $2[0m  [["number", "H57084771823"], ["LIMIT", 1]]
  [1m[35mSQL (2.0ms)[0m  [1m[32mINSERT INTO "spree_shipments" ("number", "order_id", "state", "created_at", "updated_at", "stock_location_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["number", "H57084771823"], ["order_id", 1], ["state", "pending"], ["created_at", "2017-07-26 11:02:23.935100"], ["updated_at", "2017-07-26 11:02:23.935100"], ["stock_location_id", 1]]
  [1m[35mSQL (2.2ms)[0m  [1m[32mINSERT INTO "spree_inventory_units" ("state", "variant_id", "order_id", "shipment_id", "created_at", "updated_at", "line_item_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["state", "on_hand"], ["variant_id", 1], ["order_id", 1], ["shipment_id", 1], ["created_at", "2017-07-26 11:02:23.938981"], ["updated_at", "2017-07-26 11:02:23.938981"], ["line_item_id", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_shipments" SET "updated_at" = '2017-07-26 11:02:23.942871' WHERE "spree_shipments"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_orders" SET "updated_at" = '2017-07-26 11:02:23.945737' WHERE "spree_orders"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2[0m  [["order_id", 2], ["adjustable_type", "Spree::Shipment"]]
  [1m[36mSpree::Shipment Load (0.5ms)[0m  [1m[34mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 2]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "spree_state_changes" WHERE "spree_state_changes"."stateful_type" = $1 AND 1=0[0m  [["stateful_type", "Spree::Shipment"]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "spree_shipping_rates" WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 2]]
  [1m[35mSQL (0.7ms)[0m  [1m[31mDELETE FROM "spree_inventory_units" WHERE "spree_inventory_units"."order_id" = $1 AND "spree_inventory_units"."state" IN ('backordered', 'on_hand')[0m  [["order_id", 2]]
  [1m[36mSpree::LineItem Load (0.5ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 ORDER BY "spree_line_items"."created_at" ASC[0m  [["order_id", 2]]
  [1m[36mSpree::StockLocation Load (0.9ms)[0m  [1m[34mSELECT DISTINCT "spree_stock_locations".* FROM "spree_stock_locations" INNER JOIN "spree_stock_items" ON "spree_stock_items"."stock_location_id" = "spree_stock_locations"."id" AND "spree_stock_items"."deleted_at" IS NULL WHERE "spree_stock_locations"."active" = $1 AND "spree_stock_items"."variant_id" = 2[0m  [["active", "t"]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $1 AND "spree_stock_items"."variant_id" = 2 LIMIT $2[0m  [["stock_location_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $1 AND "spree_stock_items"."variant_id" = 2 ORDER BY "spree_stock_items"."id" ASC LIMIT $2[0m  [["stock_location_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.5ms)[0m  [1m[34mSELECT  "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (1.2ms)[0m  [1m[34mSELECT DISTINCT "spree_shipping_categories".* FROM "spree_shipping_categories" INNER JOIN "spree_products" ON "spree_products"."shipping_category_id" = "spree_shipping_categories"."id" AND "spree_products"."deleted_at" IS NULL INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."deleted_at" IS NULL WHERE "spree_variants"."id" = 2[0m
  [1m[36mSpree::ShippingMethodCategory Load (0.5ms)[0m  [1m[34mSELECT "spree_shipping_method_categories".* FROM "spree_shipping_method_categories" WHERE "spree_shipping_method_categories"."shipping_category_id" = 1[0m
  [1m[36mSpree::ShippingMethod Load (0.6ms)[0m  [1m[34mSELECT "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL AND "spree_shipping_methods"."id" IN (1, 2, 3, 4, 5)[0m
  [1m[36mSpree::Calculator Load (0.5ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (1.0ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 1]]
  [1m[36mSpree::ZoneMember Load (0.8ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 2[0m
  [1m[36mSpree::Calculator Load (0.3ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 2], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.7ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 2]]
  [1m[36mSpree::ZoneMember Load (0.5ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 2[0m
  [1m[36mSpree::Calculator Load (0.4ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 3], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.6ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 3]]
  [1m[36mSpree::ZoneMember Load (0.7ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 2[0m
  [1m[36mSpree::Calculator Load (0.4ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 4], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.8ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 4]]
  [1m[36mSpree::ZoneMember Load (0.8ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 1[0m
  [1m[36mSpree::Calculator Load (0.6ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 5], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.7ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 5]]
  [1m[36mSpree::ZoneMember Load (0.6ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 1[0m
  [1m[36mSpree::Zone Load (0.5ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.6ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.5ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Shipment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 LIMIT $2[0m  [["number", "H55771096793"], ["LIMIT", 1]]
  [1m[36mSpree::Shipment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 LIMIT $2[0m  [["number", "H55771096793"], ["LIMIT", 1]]
  [1m[36mSpree::Shipment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 LIMIT $2[0m  [["number", "H55771096793"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/address_requires_state"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_shipments" ("number", "order_id", "address_id", "state", "created_at", "updated_at", "stock_location_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["number", "H55771096793"], ["order_id", 2], ["address_id", 1], ["state", "pending"], ["created_at", "2017-07-26 11:02:24.077541"], ["updated_at", "2017-07-26 11:02:24.077541"], ["stock_location_id", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_inventory_units" ("state", "variant_id", "order_id", "shipment_id", "created_at", "updated_at", "line_item_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["state", "on_hand"], ["variant_id", 2], ["order_id", 2], ["shipment_id", 2], ["created_at", "2017-07-26 11:02:24.079705"], ["updated_at", "2017-07-26 11:02:24.079705"], ["line_item_id", 2]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "spree_shipping_rates" ("shipment_id", "shipping_method_id", "selected", "cost", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["shipment_id", 2], ["shipping_method_id", 1], ["selected", "t"], ["cost", "5.0"], ["created_at", "2017-07-26 11:02:24.081912"], ["updated_at", "2017-07-26 11:02:24.081912"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_rates" ("shipment_id", "shipping_method_id", "cost", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["shipment_id", 2], ["shipping_method_id", 2], ["cost", "10.0"], ["created_at", "2017-07-26 11:02:24.083809"], ["updated_at", "2017-07-26 11:02:24.083809"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_rates" ("shipment_id", "shipping_method_id", "cost", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["shipment_id", 2], ["shipping_method_id", 3], ["cost", "15.0"], ["created_at", "2017-07-26 11:02:24.085375"], ["updated_at", "2017-07-26 11:02:24.085375"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_shipments" SET "updated_at" = '2017-07-26 11:02:24.081323' WHERE "spree_shipments"."id" = $1[0m  [["id", 2]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_orders" SET "updated_at" = '2017-07-26 11:02:24.088675' WHERE "spree_orders"."id" = $1[0m  [["id", 2]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Order Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R123456789"], ["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R123456789"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_orders" SET "state" = $1, "completed_at" = $2, "updated_at" = $3 WHERE "spree_orders"."id" = $4[0m  [["state", "complete"], ["completed_at", "2017-07-25 11:02:24.091908"], ["updated_at", "2017-07-26 11:02:24.099043"], ["id", 1]]
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Order Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R987654321"], ["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/address_requires_state"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/address_requires_state"], ["LIMIT", 1]]
  [1m[36mSpree::Order Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R987654321"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_orders" SET "state" = $1, "completed_at" = $2, "updated_at" = $3 WHERE "spree_orders"."id" = $4[0m  [["state", "complete"], ["completed_at", "2017-07-25 11:02:24.108070"], ["updated_at", "2017-07-26 11:02:24.117393"], ["id", 2]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R123456789"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.7ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R987654321"], ["LIMIT", 1]]
  [1m[36mSpree::TaxRate Load (0.5ms)[0m  [1m[34mSELECT  "spree_tax_rates".* FROM "spree_tax_rates" WHERE "spree_tax_rates"."deleted_at" IS NULL AND "spree_tax_rates"."name" = $1 LIMIT $2[0m  [["name", "North America"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.8ms)[0m  [1m[34mSELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::TaxRate' AND "spree_adjustments"."source_id" = 1 AND "spree_adjustments"."order_id" = 1 AND "spree_adjustments"."label" = $3 AND "spree_adjustments"."state" = $4 AND "spree_adjustments"."mandatory" = $5 ORDER BY "spree_adjustments"."created_at" ASC LIMIT $6[0m  [["adjustable_id", 1], ["adjustable_type", "Spree::Order"], ["label", "Tax"], ["state", "open"], ["mandatory", "t"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.6ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_adjustments" ("source_type", "source_id", "adjustable_type", "adjustable_id", "amount", "label", "mandatory", "created_at", "updated_at", "state", "order_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["source_type", "Spree::TaxRate"], ["source_id", 1], ["adjustable_type", "Spree::Order"], ["adjustable_id", 1], ["amount", "0.0"], ["label", "Tax"], ["mandatory", "t"], ["created_at", "2017-07-26 11:02:24.144496"], ["updated_at", "2017-07-26 11:02:24.144496"], ["state", "open"], ["order_id", 1]]
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."source_type" = 'Spree::TaxRate' AND "spree_adjustments"."source_id" = 1 AND "spree_adjustments"."order_id" = 1 AND "spree_adjustments"."label" = $1 AND "spree_adjustments"."state" = $2 AND "spree_adjustments"."mandatory" = $3 AND "spree_adjustments"."adjustable_id" = $4 AND "spree_adjustments"."adjustable_type" = $5 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction' ORDER BY "spree_adjustments"."created_at" ASC[0m  [["label", "Tax"], ["state", "open"], ["mandatory", "t"], ["adjustable_id", 1], ["adjustable_type", "Spree::Order"]]
  [1m[36mSpree::Adjustment Load (0.9ms)[0m  [1m[34mSELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."source_type" = 'Spree::TaxRate' AND "spree_adjustments"."source_id" = 1 AND "spree_adjustments"."order_id" = 1 AND "spree_adjustments"."label" = $1 AND "spree_adjustments"."state" = $2 AND "spree_adjustments"."mandatory" = $3 AND "spree_adjustments"."adjustable_id" = $4 AND "spree_adjustments"."adjustable_type" = $5 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction' AND "spree_adjustments"."eligible" = $6 ORDER BY amount ASC, created_at DESC, id DESC LIMIT $7[0m  [["label", "Tax"], ["state", "open"], ["mandatory", "t"], ["adjustable_id", 1], ["adjustable_type", "Spree::Order"], ["eligible", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::TaxRate' AND "spree_adjustments"."source_id" = 1 AND "spree_adjustments"."order_id" = 1 AND "spree_adjustments"."label" = $3 AND "spree_adjustments"."state" = $4 AND "spree_adjustments"."mandatory" = $5 AND "spree_adjustments"."order_id" = $6 AND "spree_adjustments"."source_type" = $7 AND "spree_adjustments"."included" = $8 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_id", 1], ["adjustable_type", "Spree::Order"], ["label", "Tax"], ["state", "open"], ["mandatory", "t"], ["order_id", 1], ["source_type", "Spree::TaxRate"], ["included", "t"]]
  [1m[36mSpree::Adjustment Load (0.9ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::TaxRate' AND "spree_adjustments"."source_id" = 1 AND "spree_adjustments"."order_id" = 1 AND "spree_adjustments"."label" = $3 AND "spree_adjustments"."state" = $4 AND "spree_adjustments"."mandatory" = $5 AND "spree_adjustments"."order_id" = $6 AND "spree_adjustments"."source_type" = $7 AND "spree_adjustments"."included" = $8 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_id", 1], ["adjustable_type", "Spree::Order"], ["label", "Tax"], ["state", "open"], ["mandatory", "t"], ["order_id", 1], ["source_type", "Spree::TaxRate"], ["included", "f"]]
  [1m[36mSpree::Order Load (0.6ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::TaxRate Load (0.5ms)[0m  [1m[34mSELECT  "spree_tax_rates".* FROM "spree_tax_rates" WHERE "spree_tax_rates"."deleted_at" IS NULL AND "spree_tax_rates"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Calculator Load (0.5ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::TaxRate"], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.6ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 ORDER BY "spree_line_items"."created_at" ASC[0m  [["order_id", 1]]
  [1m[36mSpree::TaxCategory Load (0.5ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_adjustments" SET "amount" = 0.8, "updated_at" = '2017-07-26 11:02:24.171307' WHERE "spree_adjustments"."id" = $1[0m  [["id", 3]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_orders" SET "non_taxable_adjustment_total" = 0, "taxable_adjustment_total" = 0.0, "promo_total" = 0.0, "included_tax_total" = 0, "additional_tax_total" = 0.8, "adjustment_total" = 0.8, "updated_at" = '2017-07-26 11:02:24.172739' WHERE "spree_orders"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_orders" SET "updated_at" = '2017-07-26 11:02:24.174542' WHERE "spree_orders"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::TaxRate Load (0.5ms)[0m  [1m[34mSELECT  "spree_tax_rates".* FROM "spree_tax_rates" WHERE "spree_tax_rates"."deleted_at" IS NULL AND "spree_tax_rates"."name" = $1 LIMIT $2[0m  [["name", "North America"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.6ms)[0m  [1m[34mSELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::TaxRate' AND "spree_adjustments"."source_id" = 1 AND "spree_adjustments"."order_id" = 2 AND "spree_adjustments"."label" = $3 AND "spree_adjustments"."state" = $4 AND "spree_adjustments"."mandatory" = $5 ORDER BY "spree_adjustments"."created_at" ASC LIMIT $6[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::Order"], ["label", "Tax"], ["state", "open"], ["mandatory", "t"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Order Load (0.6ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.6ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_adjustments" ("source_type", "source_id", "adjustable_type", "adjustable_id", "amount", "label", "mandatory", "created_at", "updated_at", "state", "order_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["source_type", "Spree::TaxRate"], ["source_id", 1], ["adjustable_type", "Spree::Order"], ["adjustable_id", 2], ["amount", "0.0"], ["label", "Tax"], ["mandatory", "t"], ["created_at", "2017-07-26 11:02:24.187711"], ["updated_at", "2017-07-26 11:02:24.187711"], ["state", "open"], ["order_id", 2]]
  [1m[36mSpree::Adjustment Load (0.6ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."source_type" = 'Spree::TaxRate' AND "spree_adjustments"."source_id" = 1 AND "spree_adjustments"."order_id" = 2 AND "spree_adjustments"."label" = $1 AND "spree_adjustments"."state" = $2 AND "spree_adjustments"."mandatory" = $3 AND "spree_adjustments"."adjustable_id" = $4 AND "spree_adjustments"."adjustable_type" = $5 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction' ORDER BY "spree_adjustments"."created_at" ASC[0m  [["label", "Tax"], ["state", "open"], ["mandatory", "t"], ["adjustable_id", 2], ["adjustable_type", "Spree::Order"]]
  [1m[36mSpree::Adjustment Load (0.8ms)[0m  [1m[34mSELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."source_type" = 'Spree::TaxRate' AND "spree_adjustments"."source_id" = 1 AND "spree_adjustments"."order_id" = 2 AND "spree_adjustments"."label" = $1 AND "spree_adjustments"."state" = $2 AND "spree_adjustments"."mandatory" = $3 AND "spree_adjustments"."adjustable_id" = $4 AND "spree_adjustments"."adjustable_type" = $5 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction' AND "spree_adjustments"."eligible" = $6 ORDER BY amount ASC, created_at DESC, id DESC LIMIT $7[0m  [["label", "Tax"], ["state", "open"], ["mandatory", "t"], ["adjustable_id", 2], ["adjustable_type", "Spree::Order"], ["eligible", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.6ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::TaxRate' AND "spree_adjustments"."source_id" = 1 AND "spree_adjustments"."order_id" = 2 AND "spree_adjustments"."label" = $3 AND "spree_adjustments"."state" = $4 AND "spree_adjustments"."mandatory" = $5 AND "spree_adjustments"."order_id" = $6 AND "spree_adjustments"."source_type" = $7 AND "spree_adjustments"."included" = $8 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::Order"], ["label", "Tax"], ["state", "open"], ["mandatory", "t"], ["order_id", 2], ["source_type", "Spree::TaxRate"], ["included", "t"]]
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::TaxRate' AND "spree_adjustments"."source_id" = 1 AND "spree_adjustments"."order_id" = 2 AND "spree_adjustments"."label" = $3 AND "spree_adjustments"."state" = $4 AND "spree_adjustments"."mandatory" = $5 AND "spree_adjustments"."order_id" = $6 AND "spree_adjustments"."source_type" = $7 AND "spree_adjustments"."included" = $8 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::Order"], ["label", "Tax"], ["state", "open"], ["mandatory", "t"], ["order_id", 2], ["source_type", "Spree::TaxRate"], ["included", "f"]]
  [1m[36mSpree::Order Load (0.4ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::TaxRate Load (0.5ms)[0m  [1m[34mSELECT  "spree_tax_rates".* FROM "spree_tax_rates" WHERE "spree_tax_rates"."deleted_at" IS NULL AND "spree_tax_rates"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Calculator Load (0.4ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::TaxRate"], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.6ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 ORDER BY "spree_line_items"."created_at" ASC[0m  [["order_id", 2]]
  [1m[36mSpree::TaxCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (0.3ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_adjustments" SET "amount" = 1.21, "updated_at" = '2017-07-26 11:02:24.211737' WHERE "spree_adjustments"."id" = $1[0m  [["id", 4]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_orders" SET "non_taxable_adjustment_total" = 0, "taxable_adjustment_total" = 0.0, "promo_total" = 0.0, "included_tax_total" = 0, "additional_tax_total" = 1.21, "adjustment_total" = 1.21, "updated_at" = '2017-07-26 11:02:24.213025' WHERE "spree_orders"."id" = $1[0m  [["id", 2]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_orders" SET "updated_at" = '2017-07-26 11:02:24.214810' WHERE "spree_orders"."id" = $1[0m  [["id", 2]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::PaymentMethod Load (0.6ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."name" = $1 AND "spree_payment_methods"."active" = $2 ORDER BY "spree_payment_methods"."id" ASC LIMIT $3[0m  [["name", "Credit Card"], ["active", "t"], ["LIMIT", 1]]
  [1m[36mSpree::CreditCard Load (0.8ms)[0m  [1m[34mSELECT  "spree_credit_cards".* FROM "spree_credit_cards" WHERE "spree_credit_cards"."cc_type" = $1 AND "spree_credit_cards"."month" = $2 AND "spree_credit_cards"."year" = $3 AND "spree_credit_cards"."last_digits" = $4 AND "spree_credit_cards"."name" = $5 AND "spree_credit_cards"."gateway_customer_profile_id" = $6 ORDER BY "spree_credit_cards"."id" ASC LIMIT $7[0m  [["cc_type", "visa"], ["month", 12], ["year", 2019], ["last_digits", "1111"], ["name", "Sean Schofield"], ["gateway_customer_profile_id", "BGS-1234"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.2ms)[0m  [1m[32mINSERT INTO "spree_credit_cards" ("month", "year", "cc_type", "last_digits", "gateway_customer_profile_id", "created_at", "updated_at", "name") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["month", 12], ["year", 2019], ["cc_type", "visa"], ["last_digits", "1111"], ["gateway_customer_profile_id", "BGS-1234"], ["created_at", "2017-07-26 11:02:24.253246"], ["updated_at", "2017-07-26 11:02:24.253246"], ["name", "Sean Schofield"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Order Load (1.0ms)[0m  [1m[34mSELECT "spree_orders".* FROM "spree_orders"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("spree_line_items"."quantity") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 1]]
  [1m[36mSpree::Payment Load (0.6ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."state" = $2 ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 1], ["state", "completed"]]
  [1m[35m (17.3ms)[0m  [1m[34mSELECT SUM(price * quantity) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 1]]
  [1m[36mSpree::Adjustment Load (0.5ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1[0m  [["order_id", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = 1[0m
  [1m[36mSpree::Adjustment Load (0.5ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction' ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_id", 1], ["adjustable_type", "Spree::Order"]]
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction' AND "spree_adjustments"."eligible" = $3 ORDER BY amount ASC, created_at DESC, id DESC LIMIT $4[0m  [["adjustable_id", 1], ["adjustable_type", "Spree::Order"], ["eligible", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.5ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1 AND "spree_adjustments"."source_type" = $2 AND "spree_adjustments"."included" = $3[0m  [["order_id", 1], ["source_type", "Spree::TaxRate"], ["included", "t"]]
  [1m[36mSpree::Adjustment Load (0.5ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1 AND "spree_adjustments"."source_type" = $2 AND "spree_adjustments"."included" = $3[0m  [["order_id", 1], ["source_type", "Spree::TaxRate"], ["included", "f"]]
  [1m[36mSpree::Order Load (0.4ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::TaxRate Load (0.5ms)[0m  [1m[34mSELECT  "spree_tax_rates".* FROM "spree_tax_rates" WHERE "spree_tax_rates"."deleted_at" IS NULL AND "spree_tax_rates"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Calculator Load (0.4ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::TaxRate"], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.6ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 ORDER BY "spree_line_items"."created_at" ASC[0m  [["order_id", 1]]
  [1m[36mSpree::TaxCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (0.6ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "spree_adjustments" SET "amount" = 0.8, "updated_at" = '2017-07-26 11:02:24.320438' WHERE "spree_adjustments"."id" = $1[0m  [["id", 3]]
  [1m[35mSQL (1.8ms)[0m  [1m[33mUPDATE "spree_orders" SET "non_taxable_adjustment_total" = 0, "taxable_adjustment_total" = 0.0, "promo_total" = 0.0, "included_tax_total" = 0, "additional_tax_total" = 0.8, "adjustment_total" = 0.8, "updated_at" = '2017-07-26 11:02:24.322934' WHERE "spree_orders"."id" = $1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("spree_line_items"."adjustment_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("spree_shipments"."adjustment_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3[0m  [["adjustable_id", 1], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("spree_line_items"."included_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("spree_shipments"."included_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("spree_line_items"."additional_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("spree_shipments"."additional_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("spree_line_items"."promo_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("spree_shipments"."promo_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."eligible" = $4[0m  [["adjustable_id", 1], ["adjustable_type", "Spree::Order"], ["source_type", "Spree::PromotionAction"], ["eligible", "t"]]
  [1m[36mSpree::Payment Load (0.5ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 1]]
  [1m[36mSpree::Reimbursement Exists (3.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_reimbursements" WHERE "spree_reimbursements"."order_id" = $1 LIMIT $2[0m  [["order_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Reimbursement Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_reimbursements" WHERE "spree_reimbursements"."order_id" = $1 LIMIT $2[0m  [["order_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Reimbursement Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_reimbursements" WHERE "spree_reimbursements"."order_id" = $1 LIMIT $2[0m  [["order_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_state_changes" ("name", "stateful_id", "stateful_type", "next_state", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "payment"], ["stateful_id", 1], ["stateful_type", "Spree::Order"], ["next_state", "balance_due"], ["created_at", "2017-07-26 11:02:24.409797"], ["updated_at", "2017-07-26 11:02:24.409797"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Shipment Load (0.5ms)[0m  [1m[34mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 1]]
  [1m[36mSpree::InventoryUnit Load (0.5ms)[0m  [1m[34mSELECT "spree_inventory_units".* FROM "spree_inventory_units" WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/auto_capture_on_dispatch"], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[33mUPDATE "spree_shipments" SET "state" = 'pending', "updated_at" = '2017-07-26 11:02:24.418548' WHERE "spree_shipments"."id" = $1[0m  [["id", 1]]
  [1m[36mSpree::ShippingRate Load (0.5ms)[0m  [1m[34mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2 ORDER BY "spree_shipping_rates"."cost" ASC LIMIT $3[0m  [["shipment_id", 1], ["selected", "t"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_state_changes" ("name", "stateful_id", "stateful_type", "next_state", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "shipment"], ["stateful_id", 1], ["stateful_type", "Spree::Order"], ["next_state", "pending"], ["created_at", "2017-07-26 11:02:24.426651"], ["updated_at", "2017-07-26 11:02:24.426651"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[33mUPDATE "spree_orders" SET "payment_state" = 'balance_due', "shipment_state" = 'pending', "item_total" = 15.99, "item_count" = 1, "adjustment_total" = 0.8, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 0.0, "promo_total" = 0.0, "total" = 16.79, "updated_at" = '2017-07-26 11:02:24.431031' WHERE "spree_orders"."id" = $1[0m  [["id", 1]]
  [1m[36mSpree::Payment Load (0.5ms)[0m  [1m[34mSELECT  "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."amount" = $2 AND "spree_payments"."source_type" = 'Spree::CreditCard' AND "spree_payments"."source_id" = 1 AND "spree_payments"."payment_method_id" = 2 ORDER BY "spree_payments"."created_at" ASC LIMIT $3[0m  [["order_id", 1], ["amount", "16.79"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Payment Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."amount" = $2 AND "spree_payments"."source_type" = 'Spree::CreditCard' AND "spree_payments"."source_id" = 1 AND "spree_payments"."payment_method_id" = 2 AND "spree_payments"."number" = $3 LIMIT $4[0m  [["order_id", 1], ["amount", "16.79"], ["number", "PP69B9YW"], ["LIMIT", 1]]
  [1m[36mSpree::CreditCard Load (0.4ms)[0m  [1m[34mSELECT  "spree_credit_cards".* FROM "spree_credit_cards" WHERE "spree_credit_cards"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Payment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_payments" WHERE "spree_payments"."number" = $1 LIMIT $2[0m  [["number", "PP69B9YW"], ["LIMIT", 1]]
  [1m[36mSpree::PaymentMethod Load (0.4ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Payment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_payments" WHERE "spree_payments"."number" = $1 LIMIT $2[0m  [["number", "PP69B9YW"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_payments" ("amount", "order_id", "source_type", "source_id", "payment_method_id", "state", "created_at", "updated_at", "number") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["amount", "16.79"], ["order_id", 1], ["source_type", "Spree::CreditCard"], ["source_id", 1], ["payment_method_id", 2], ["state", "checkout"], ["created_at", "2017-07-26 11:02:24.470373"], ["updated_at", "2017-07-26 11:02:24.470373"], ["number", "PP69B9YW"]]
  [1m[36mSpree::Payment Load (0.5ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."amount" = $1 AND "spree_payments"."source_type" = 'Spree::CreditCard' AND "spree_payments"."source_id" = 1 AND "spree_payments"."payment_method_id" = 2 AND "spree_payments"."order_id" = $2 AND "spree_payments"."state" = $3 AND ("spree_payments"."id" != $4) ORDER BY "spree_payments"."created_at" ASC[0m  [["amount", "16.79"], ["order_id", 1], ["state", "checkout"], ["id", 1]]
  [1m[36mSpree::Reimbursement Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_reimbursements" WHERE "spree_reimbursements"."order_id" = $1 LIMIT $2[0m  [["order_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Reimbursement Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_reimbursements" WHERE "spree_reimbursements"."order_id" = $1 LIMIT $2[0m  [["order_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Reimbursement Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_reimbursements" WHERE "spree_reimbursements"."order_id" = $1 LIMIT $2[0m  [["order_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/auto_capture_on_dispatch"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_shipments" SET "state" = 'pending', "updated_at" = '2017-07-26 11:02:24.479455' WHERE "spree_shipments"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_orders" SET "payment_state" = 'balance_due', "shipment_state" = 'pending', "item_total" = 15.99, "item_count" = 1, "adjustment_total" = 0.8, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 0.0, "promo_total" = 0.0, "total" = 16.79, "updated_at" = '2017-07-26 11:02:24.481154' WHERE "spree_orders"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_orders" SET "updated_at" = '2017-07-26 11:02:24.482972' WHERE "spree_orders"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (1.7ms)[0m  [1m[33mUPDATE "spree_payments" SET "state" = 'pending', "response_code" = '12345' WHERE "spree_payments"."id" = $1[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("spree_line_items"."quantity") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 2]]
  [1m[36mSpree::Payment Load (0.7ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."state" = $2 ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 2], ["state", "completed"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM(price * quantity) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 2]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 2]]
  [1m[36mSpree::Adjustment Load (0.5ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1[0m  [["order_id", 2]]
  [1m[36mSpree::LineItem Load (0.6ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."id" = 2[0m
  [1m[36mSpree::Order Load (0.7ms)[0m  [1m[34mSELECT "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = 2[0m
  [1m[36mSpree::Adjustment Load (0.6ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction'[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::LineItem"]]
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction' AND "spree_adjustments"."eligible" = $3 ORDER BY amount ASC, created_at DESC, id DESC LIMIT $4[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::LineItem"], ["eligible", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.3ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."included" = $4[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::LineItem"], ["source_type", "Spree::TaxRate"], ["included", "t"]]
  [1m[36mSpree::Adjustment Load (0.3ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."included" = $4[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::LineItem"], ["source_type", "Spree::TaxRate"], ["included", "f"]]
  [1m[36mSpree::LineItem Load (0.4ms)[0m  [1m[34mSELECT  "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::TaxRate Load (0.4ms)[0m  [1m[34mSELECT  "spree_tax_rates".* FROM "spree_tax_rates" WHERE "spree_tax_rates"."deleted_at" IS NULL AND "spree_tax_rates"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Calculator Load (0.4ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::TaxRate"], ["LIMIT", 1]]
  [1m[35mSQL (1.9ms)[0m  [1m[33mUPDATE "spree_adjustments" SET "amount" = 1.15, "updated_at" = '2017-07-26 11:02:24.515018' WHERE "spree_adjustments"."id" = $1[0m  [["id", 2]]
  [1m[35mSQL (2.0ms)[0m  [1m[33mUPDATE "spree_line_items" SET "non_taxable_adjustment_total" = 0, "taxable_adjustment_total" = 0.0, "promo_total" = 0.0, "included_tax_total" = 0, "additional_tax_total" = 1.15, "adjustment_total" = 1.15, "updated_at" = '2017-07-26 11:02:24.517737' WHERE "spree_line_items"."id" = $1[0m  [["id", 2]]
  [1m[36mSpree::Adjustment Load (0.6ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction' ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::Order"]]
  [1m[36mSpree::Adjustment Load (0.8ms)[0m  [1m[34mSELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction' AND "spree_adjustments"."eligible" = $3 ORDER BY amount ASC, created_at DESC, id DESC LIMIT $4[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::Order"], ["eligible", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.6ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1 AND "spree_adjustments"."source_type" = $2 AND "spree_adjustments"."included" = $3[0m  [["order_id", 2], ["source_type", "Spree::TaxRate"], ["included", "t"]]
  [1m[36mSpree::Adjustment Load (0.5ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1 AND "spree_adjustments"."source_type" = $2 AND "spree_adjustments"."included" = $3[0m  [["order_id", 2], ["source_type", "Spree::TaxRate"], ["included", "f"]]
  [1m[36mSpree::LineItem Load (0.4ms)[0m  [1m[34mSELECT  "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::TaxRate Load (0.5ms)[0m  [1m[34mSELECT  "spree_tax_rates".* FROM "spree_tax_rates" WHERE "spree_tax_rates"."deleted_at" IS NULL AND "spree_tax_rates"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Calculator Load (0.4ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::TaxRate"], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[33mUPDATE "spree_adjustments" SET "amount" = 1.15, "updated_at" = '2017-07-26 11:02:24.535512' WHERE "spree_adjustments"."id" = $1[0m  [["id", 2]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::TaxRate Load (0.4ms)[0m  [1m[34mSELECT  "spree_tax_rates".* FROM "spree_tax_rates" WHERE "spree_tax_rates"."deleted_at" IS NULL AND "spree_tax_rates"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Calculator Load (0.4ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::TaxRate"], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.6ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 ORDER BY "spree_line_items"."created_at" ASC[0m  [["order_id", 2]]
  [1m[36mSpree::TaxCategory Load (0.5ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (0.4ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "spree_adjustments" SET "amount" = 1.21, "updated_at" = '2017-07-26 11:02:24.552655' WHERE "spree_adjustments"."id" = $1[0m  [["id", 4]]
  [1m[35mSQL (1.9ms)[0m  [1m[33mUPDATE "spree_orders" SET "non_taxable_adjustment_total" = 0, "taxable_adjustment_total" = 0.0, "promo_total" = 0.0, "included_tax_total" = 0, "additional_tax_total" = 2.36, "adjustment_total" = 2.36, "updated_at" = '2017-07-26 11:02:24.555040' WHERE "spree_orders"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."adjustment_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 2]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("spree_shipments"."adjustment_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 2]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("spree_line_items"."included_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 2]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("spree_shipments"."included_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 2]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("spree_line_items"."additional_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 2]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT SUM("spree_shipments"."additional_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 2]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("spree_line_items"."promo_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 2]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("spree_shipments"."promo_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 2]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."eligible" = $4[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::Order"], ["source_type", "Spree::PromotionAction"], ["eligible", "t"]]
  [1m[36mSpree::Payment Load (0.5ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 2]]
  [1m[36mSpree::Reimbursement Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_reimbursements" WHERE "spree_reimbursements"."order_id" = $1 LIMIT $2[0m  [["order_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Reimbursement Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_reimbursements" WHERE "spree_reimbursements"."order_id" = $1 LIMIT $2[0m  [["order_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Reimbursement Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_reimbursements" WHERE "spree_reimbursements"."order_id" = $1 LIMIT $2[0m  [["order_id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_state_changes" ("name", "stateful_id", "stateful_type", "next_state", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "payment"], ["stateful_id", 2], ["stateful_type", "Spree::Order"], ["next_state", "balance_due"], ["created_at", "2017-07-26 11:02:24.579916"], ["updated_at", "2017-07-26 11:02:24.579916"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Shipment Load (0.5ms)[0m  [1m[34mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 2]]
  [1m[36mSpree::InventoryUnit Load (0.5ms)[0m  [1m[34mSELECT "spree_inventory_units".* FROM "spree_inventory_units" WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 2]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/auto_capture_on_dispatch"], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[33mUPDATE "spree_shipments" SET "state" = 'pending', "updated_at" = '2017-07-26 11:02:24.586867' WHERE "spree_shipments"."id" = $1[0m  [["id", 2]]
  [1m[36mSpree::Address Load (0.5ms)[0m  [1m[34mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT $2[0m  [["id", 3045], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/address_requires_state"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingRate Load (0.6ms)[0m  [1m[34mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2 ORDER BY "spree_shipping_rates"."cost" ASC LIMIT $3[0m  [["shipment_id", 2], ["selected", "t"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingMethod Load (0.4ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_variants"."id" AS t1_r0, "spree_variants"."sku" AS t1_r1, "spree_variants"."weight" AS t1_r2, "spree_variants"."height" AS t1_r3, "spree_variants"."width" AS t1_r4, "spree_variants"."depth" AS t1_r5, "spree_variants"."deleted_at" AS t1_r6, "spree_variants"."is_master" AS t1_r7, "spree_variants"."product_id" AS t1_r8, "spree_variants"."cost_price" AS t1_r9, "spree_variants"."position" AS t1_r10, "spree_variants"."cost_currency" AS t1_r11, "spree_variants"."track_inventory" AS t1_r12, "spree_variants"."tax_category_id" AS t1_r13, "spree_variants"."updated_at" AS t1_r14, "spree_variants"."discontinue_on" AS t1_r15, "spree_variants"."created_at" AS t1_r16 FROM "spree_inventory_units" INNER JOIN "spree_variants" ON "spree_variants"."id" = "spree_inventory_units"."variant_id" AND "spree_variants"."deleted_at" IS NULL WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 2]]
  [1m[36mSpree::ShippingCategory Load (1.2ms)[0m  [1m[34mSELECT DISTINCT "spree_shipping_categories".* FROM "spree_shipping_categories" INNER JOIN "spree_products" ON "spree_products"."shipping_category_id" = "spree_shipping_categories"."id" AND "spree_products"."deleted_at" IS NULL INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."deleted_at" IS NULL WHERE "spree_variants"."id" = 2[0m
  [1m[36mSpree::ShippingMethodCategory Load (0.5ms)[0m  [1m[34mSELECT "spree_shipping_method_categories".* FROM "spree_shipping_method_categories" WHERE "spree_shipping_method_categories"."shipping_category_id" = 1[0m
  [1m[36mSpree::ShippingMethod Load (0.6ms)[0m  [1m[34mSELECT "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL AND "spree_shipping_methods"."id" IN (1, 2, 3, 4, 5)[0m
  [1m[36mSpree::Calculator Load (0.4ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.8ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 1]]
  [1m[36mSpree::ZoneMember Load (0.7ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 2[0m
  [1m[36mSpree::Calculator Load (0.5ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 2], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.3ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 2]]
  [1m[36mSpree::ZoneMember Load (0.4ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 2[0m
  [1m[36mSpree::Calculator Load (0.4ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 3], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.4ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 3]]
  [1m[36mSpree::ZoneMember Load (0.5ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 2[0m
  [1m[36mSpree::Calculator Load (0.3ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 4], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.3ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 4]]
  [1m[36mSpree::ZoneMember Load (0.5ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 1[0m
  [1m[36mSpree::Calculator Load (0.3ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 5], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.3ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 5]]
  [1m[36mSpree::ZoneMember Load (0.5ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 1[0m
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/tax_using_ship_address"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[34mSELECT "spree_zones"."id" AS t0_r0, "spree_zones"."name" AS t0_r1, "spree_zones"."description" AS t0_r2, "spree_zones"."default_tax" AS t0_r3, "spree_zones"."zone_members_count" AS t0_r4, "spree_zones"."created_at" AS t0_r5, "spree_zones"."updated_at" AS t0_r6, "spree_zones"."kind" AS t0_r7, "spree_zone_members"."id" AS t1_r0, "spree_zone_members"."zoneable_type" AS t1_r1, "spree_zone_members"."zoneable_id" AS t1_r2, "spree_zone_members"."zone_id" AS t1_r3, "spree_zone_members"."created_at" AS t1_r4, "spree_zone_members"."updated_at" AS t1_r5 FROM "spree_zones" LEFT OUTER JOIN "spree_zone_members" ON "spree_zone_members"."zone_id" = "spree_zones"."id" WHERE ((spree_zone_members.zoneable_type = 'Spree::Country' AND spree_zone_members.zoneable_id = 232) OR (spree_zone_members.zoneable_type = 'Spree::State' AND spree_zone_members.zoneable_id = 3045)) ORDER BY spree_zones.zone_members_count, spree_zones.created_at[0m
  [1m[36mSpree::Zone Load (0.5ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.5ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.5ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingRate Load (0.4ms)[0m  [1m[34mSELECT "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 ORDER BY "spree_shipping_rates"."cost" ASC[0m  [["shipment_id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."id" IN (1, 2, 3)[0m  [["shipment_id", 2]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_rates" ("shipment_id", "shipping_method_id", "selected", "cost", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["shipment_id", 2], ["shipping_method_id", 1], ["selected", "t"], ["cost", "5.0"], ["created_at", "2017-07-26 11:02:24.682404"], ["updated_at", "2017-07-26 11:02:24.682404"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_rates" ("shipment_id", "shipping_method_id", "cost", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["shipment_id", 2], ["shipping_method_id", 2], ["cost", "10.0"], ["created_at", "2017-07-26 11:02:24.684008"], ["updated_at", "2017-07-26 11:02:24.684008"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_rates" ("shipment_id", "shipping_method_id", "cost", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["shipment_id", 2], ["shipping_method_id", 3], ["cost", "15.0"], ["created_at", "2017-07-26 11:02:24.685453"], ["updated_at", "2017-07-26 11:02:24.685453"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (2.0ms)[0m  [1m[33mUPDATE "spree_shipping_rates" SET "selected" = 'f' WHERE "spree_shipping_rates"."id" IN (SELECT "spree_shipping_rates"."id" FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 ORDER BY "spree_shipping_rates"."cost" ASC)[0m  [["shipment_id", 2]]
  [1m[36mSpree::ShippingRate Load (0.5ms)[0m  [1m[34mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."id" = $2 ORDER BY "spree_shipping_rates"."cost" ASC LIMIT $3[0m  [["shipment_id", 2], ["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_shipping_rates" SET "selected" = $1, "updated_at" = $2 WHERE "spree_shipping_rates"."id" = $3[0m  [["selected", "t"], ["updated_at", "2017-07-26 11:02:24.693738"], ["id", 4]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Shipment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 AND ("spree_shipments"."id" != $2) LIMIT $3[0m  [["number", "H55771096793"], ["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Shipment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 AND ("spree_shipments"."id" != $2) LIMIT $3[0m  [["number", "H55771096793"], ["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Adjustment Load (0.4ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."included" = $3[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::Shipment"], ["included", "f"]]
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "spree_shipments" SET "cost" = 5.0, "adjustment_total" = 0, "updated_at" = '2017-07-26 11:02:24.704751' WHERE "spree_shipments"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_state_changes" ("name", "stateful_id", "stateful_type", "next_state", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "shipment"], ["stateful_id", 2], ["stateful_type", "Spree::Order"], ["next_state", "pending"], ["created_at", "2017-07-26 11:02:24.708920"], ["updated_at", "2017-07-26 11:02:24.708920"]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 2]]
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "spree_orders" SET "payment_state" = 'balance_due', "shipment_state" = 'pending', "item_total" = 22.99, "item_count" = 1, "adjustment_total" = 2.36, "included_tax_total" = 0.0, "additional_tax_total" = 1.15, "payment_total" = 0.0, "shipment_total" = 5.0, "promo_total" = 0.0, "total" = 30.35, "updated_at" = '2017-07-26 11:02:24.713127' WHERE "spree_orders"."id" = $1[0m  [["id", 2]]
  [1m[36mSpree::Payment Load (0.5ms)[0m  [1m[34mSELECT  "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."amount" = $2 AND "spree_payments"."source_type" = 'Spree::CreditCard' AND "spree_payments"."source_id" = 1 AND "spree_payments"."payment_method_id" = 2 ORDER BY "spree_payments"."created_at" ASC LIMIT $3[0m  [["order_id", 2], ["amount", "30.35"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Payment Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."amount" = $2 AND "spree_payments"."source_type" = 'Spree::CreditCard' AND "spree_payments"."source_id" = 1 AND "spree_payments"."payment_method_id" = 2 AND "spree_payments"."number" = $3 LIMIT $4[0m  [["order_id", 2], ["amount", "30.35"], ["number", "PPZKVOBG"], ["LIMIT", 1]]
  [1m[36mSpree::CreditCard Load (0.5ms)[0m  [1m[34mSELECT  "spree_credit_cards".* FROM "spree_credit_cards" WHERE "spree_credit_cards"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Payment Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_payments" WHERE "spree_payments"."number" = $1 LIMIT $2[0m  [["number", "PPZKVOBG"], ["LIMIT", 1]]
  [1m[36mSpree::PaymentMethod Load (0.4ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Payment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_payments" WHERE "spree_payments"."number" = $1 LIMIT $2[0m  [["number", "PPZKVOBG"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_payments" ("amount", "order_id", "source_type", "source_id", "payment_method_id", "state", "created_at", "updated_at", "number") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["amount", "30.35"], ["order_id", 2], ["source_type", "Spree::CreditCard"], ["source_id", 1], ["payment_method_id", 2], ["state", "checkout"], ["created_at", "2017-07-26 11:02:24.730364"], ["updated_at", "2017-07-26 11:02:24.730364"], ["number", "PPZKVOBG"]]
  [1m[36mSpree::Payment Load (0.5ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."amount" = $1 AND "spree_payments"."source_type" = 'Spree::CreditCard' AND "spree_payments"."source_id" = 1 AND "spree_payments"."payment_method_id" = 2 AND "spree_payments"."order_id" = $2 AND "spree_payments"."state" = $3 AND ("spree_payments"."id" != $4) ORDER BY "spree_payments"."created_at" ASC[0m  [["amount", "30.35"], ["order_id", 2], ["state", "checkout"], ["id", 2]]
  [1m[36mSpree::Reimbursement Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_reimbursements" WHERE "spree_reimbursements"."order_id" = $1 LIMIT $2[0m  [["order_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Reimbursement Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_reimbursements" WHERE "spree_reimbursements"."order_id" = $1 LIMIT $2[0m  [["order_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Reimbursement Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_reimbursements" WHERE "spree_reimbursements"."order_id" = $1 LIMIT $2[0m  [["order_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/auto_capture_on_dispatch"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_shipments" SET "state" = 'pending', "updated_at" = '2017-07-26 11:02:24.738478' WHERE "spree_shipments"."id" = $1[0m  [["id", 2]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/address_requires_state"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_variants"."id" AS t1_r0, "spree_variants"."sku" AS t1_r1, "spree_variants"."weight" AS t1_r2, "spree_variants"."height" AS t1_r3, "spree_variants"."width" AS t1_r4, "spree_variants"."depth" AS t1_r5, "spree_variants"."deleted_at" AS t1_r6, "spree_variants"."is_master" AS t1_r7, "spree_variants"."product_id" AS t1_r8, "spree_variants"."cost_price" AS t1_r9, "spree_variants"."position" AS t1_r10, "spree_variants"."cost_currency" AS t1_r11, "spree_variants"."track_inventory" AS t1_r12, "spree_variants"."tax_category_id" AS t1_r13, "spree_variants"."updated_at" AS t1_r14, "spree_variants"."discontinue_on" AS t1_r15, "spree_variants"."created_at" AS t1_r16 FROM "spree_inventory_units" INNER JOIN "spree_variants" ON "spree_variants"."id" = "spree_inventory_units"."variant_id" AND "spree_variants"."deleted_at" IS NULL WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 2]]
  [1m[36mSpree::ShippingCategory Load (1.0ms)[0m  [1m[34mSELECT DISTINCT "spree_shipping_categories".* FROM "spree_shipping_categories" INNER JOIN "spree_products" ON "spree_products"."shipping_category_id" = "spree_shipping_categories"."id" AND "spree_products"."deleted_at" IS NULL INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."deleted_at" IS NULL WHERE "spree_variants"."id" = 2[0m
  [1m[36mSpree::ShippingMethodCategory Load (0.4ms)[0m  [1m[34mSELECT "spree_shipping_method_categories".* FROM "spree_shipping_method_categories" WHERE "spree_shipping_method_categories"."shipping_category_id" = 1[0m
  [1m[36mSpree::ShippingMethod Load (0.5ms)[0m  [1m[34mSELECT "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL AND "spree_shipping_methods"."id" IN (1, 2, 3, 4, 5)[0m
  [1m[36mSpree::Calculator Load (0.3ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.4ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 1]]
  [1m[36mSpree::ZoneMember Load (0.5ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 2[0m
  [1m[36mSpree::Calculator Load (0.3ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 2], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.4ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 2]]
  [1m[36mSpree::ZoneMember Load (0.5ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 2[0m
  [1m[36mSpree::Calculator Load (0.4ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 3], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.3ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 3]]
  [1m[36mSpree::ZoneMember Load (0.5ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 2[0m
  [1m[36mSpree::Calculator Load (0.3ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 4], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.3ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 4]]
  [1m[36mSpree::ZoneMember Load (0.7ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 1[0m
  [1m[36mSpree::Calculator Load (0.3ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 5], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (1.0ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.4ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 5]]
  [1m[36mSpree::ZoneMember Load (0.7ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 1[0m
  [1m[36mSpree::Zone Load (0.3ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.5ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.2ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."id" IN (4, 5, 6)[0m  [["shipment_id", 2]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_rates" ("shipment_id", "shipping_method_id", "selected", "cost", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["shipment_id", 2], ["shipping_method_id", 1], ["selected", "t"], ["cost", "5.0"], ["created_at", "2017-07-26 11:02:24.819240"], ["updated_at", "2017-07-26 11:02:24.819240"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_rates" ("shipment_id", "shipping_method_id", "cost", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["shipment_id", 2], ["shipping_method_id", 2], ["cost", "10.0"], ["created_at", "2017-07-26 11:02:24.820787"], ["updated_at", "2017-07-26 11:02:24.820787"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "spree_shipping_rates" ("shipment_id", "shipping_method_id", "cost", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["shipment_id", 2], ["shipping_method_id", 3], ["cost", "15.0"], ["created_at", "2017-07-26 11:02:24.822377"], ["updated_at", "2017-07-26 11:02:24.822377"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_shipping_rates" SET "selected" = 'f' WHERE "spree_shipping_rates"."id" IN (SELECT "spree_shipping_rates"."id" FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 ORDER BY "spree_shipping_rates"."cost" ASC)[0m  [["shipment_id", 2]]
  [1m[36mSpree::ShippingRate Load (0.6ms)[0m  [1m[34mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."id" = $2 ORDER BY "spree_shipping_rates"."cost" ASC LIMIT $3[0m  [["shipment_id", 2], ["id", 7], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_shipping_rates" SET "selected" = $1, "updated_at" = $2 WHERE "spree_shipping_rates"."id" = $3[0m  [["selected", "t"], ["updated_at", "2017-07-26 11:02:24.827115"], ["id", 7]]
  [1m[36mSpree::Shipment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 AND ("spree_shipments"."id" != $2) LIMIT $3[0m  [["number", "H55771096793"], ["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Shipment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 AND ("spree_shipments"."id" != $2) LIMIT $3[0m  [["number", "H55771096793"], ["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.4ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."included" = $3[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::Shipment"], ["included", "f"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_shipments" SET "cost" = 5.0, "adjustment_total" = 0, "updated_at" = '2017-07-26 11:02:24.834601' WHERE "spree_shipments"."id" = $1[0m  [["id", 2]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_orders" SET "payment_state" = 'balance_due', "shipment_state" = 'pending', "item_total" = 22.99, "item_count" = 1, "adjustment_total" = 2.36, "included_tax_total" = 0.0, "additional_tax_total" = 1.15, "payment_total" = 0.0, "shipment_total" = 5.0, "promo_total" = 0.0, "total" = 30.35, "updated_at" = '2017-07-26 11:02:24.836257' WHERE "spree_orders"."id" = $1[0m  [["id", 2]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_orders" SET "updated_at" = '2017-07-26 11:02:24.838205' WHERE "spree_orders"."id" = $1[0m  [["id", 2]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (1.4ms)[0m  [1m[33mUPDATE "spree_payments" SET "state" = 'pending', "response_code" = '12345' WHERE "spree_payments"."id" = $1[0m  [["id", 2]]
  [1m[36mSpree::StoreCreditCategory Load (3.1ms)[0m  [1m[34mSELECT  "spree_store_credit_categories".* FROM "spree_store_credit_categories" WHERE "spree_store_credit_categories"."name" = $1 LIMIT $2[0m  [["name", "Default"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_store_credit_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Default"], ["created_at", "2017-07-26 11:02:24.864250"], ["updated_at", "2017-07-26 11:02:24.864250"]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.8ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/auth_configuration/confirmable"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/auth_configuration/confirmable"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (1.0ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/auth_configuration/confirmable"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/auth_configuration/confirmable"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2017-07-26 13:02:50 +0200
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Spree::HomeController#index as HTML
  [1m[36mSpree::Order Exists (2.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (1.1ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (1.1ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/products_per_page"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/show_products_without_price"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (2.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/layout"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/home/index.html.erb within spree/layouts/spree_application
  [1m[36mSpree::Preference Load (1.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/max_level_in_taxons_menu"], ["LIMIT", 1]]
  [1m[36mSpree::Taxonomy Load (1.4ms)[0m  [1m[34mSELECT "spree_taxonomies".* FROM "spree_taxonomies" ORDER BY spree_taxonomies.position, spree_taxonomies.created_at[0m
  [1m[36mSpree::Taxon Load (1.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IN (1, 2)[0m
  [1m[36mSpree::Taxon Load (2.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IN (2, 1) ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_taxonomies.html.erb (214.3ms)
  [1m[35m (7.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:02:51.430791') AND ("spree_products".available_on <= '2017-07-26 11:02:51.430711') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4) subquery_for_count[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 12], ["OFFSET", 0]]
  [1m[35mSQL (9.4ms)[0m  [1m[34mSELECT  DISTINCT "spree_products"."id" FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL LEFT OUTER JOIN "spree_product_promotion_rules" ON "spree_product_promotion_rules"."product_id" = "spree_products"."id" LEFT OUTER JOIN "spree_promotion_rules" ON "spree_promotion_rules"."id" = "spree_product_promotion_rules"."promotion_rule_id" LEFT OUTER JOIN "spree_promotions" ON "spree_promotions"."id" = "spree_promotion_rules"."promotion_id" AND "spree_promotions"."advertise" = $2 AND (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2017-07-26 11:02:51.889404') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2017-07-26 11:02:51.889595') WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:02:51.430791') AND ("spree_products".available_on <= '2017-07-26 11:02:51.430711') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $3 LIMIT $4 OFFSET $5[0m  [["is_master", "t"], ["advertise", "t"], ["currency", "USD"], ["LIMIT", 12], ["OFFSET", 0]]
  [1m[35m (5.4ms)[0m  [1m[34mSELECT MAX("spree_products"."updated_at") FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL LEFT OUTER JOIN "spree_product_promotion_rules" ON "spree_product_promotion_rules"."product_id" = "spree_products"."id" LEFT OUTER JOIN "spree_promotion_rules" ON "spree_promotion_rules"."id" = "spree_product_promotion_rules"."promotion_rule_id" LEFT OUTER JOIN "spree_promotions" ON "spree_promotions"."id" = "spree_promotion_rules"."promotion_id" AND "spree_promotions"."advertise" = $2 AND (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2017-07-26 11:02:51.902141') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2017-07-26 11:02:51.902311') WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:02:51.430791') AND ("spree_products".available_on <= '2017-07-26 11:02:51.430711') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $3 AND "spree_products"."id" IN (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12)[0m  [["is_master", "t"], ["advertise", "t"], ["currency", "USD"]]
  [1m[36mSpree::Store Load (6.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.6ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.6ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[35m (3.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:02:51.430791') AND ("spree_products".available_on <= '2017-07-26 11:02:51.430711') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2[0m  [["is_master", "t"], ["currency", "USD"]]
  [1m[36mSpree::Product Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:02:51.430791') AND ("spree_products".available_on <= '2017-07-26 11:02:51.430711') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mCACHE Spree::Product Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:02:51.430791') AND ("spree_products".available_on <= '2017-07-26 11:02:51.430711') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (1.9ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:02:51.430791') AND ("spree_products".available_on <= '2017-07-26 11:02:51.430711') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 12], ["OFFSET", 0]]
  [1m[36mSpree::TaxCategory Load (1.9ms)[0m  [1m[34mSELECT "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = 1[0m
  [1m[36mSpree::Variant Load (1.1ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."is_master" = $1 AND "spree_variants"."product_id" IN (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12)[0m  [["is_master", "t"]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" IN (6, 12, 11, 10, 9, 8, 1, 2, 3, 4, 5, 7)[0m
  [1m[36mSpree::Image Load (1.5ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" IN (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12) ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::ProductPromotionRule Load (0.6ms)[0m  [1m[34mSELECT "spree_product_promotion_rules".* FROM "spree_product_promotion_rules" WHERE "spree_product_promotion_rules"."product_id" IN (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12)[0m
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.5ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.1ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.1ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_products.html.erb (620.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/home/index.html.erb within spree/layouts/spree_application (1110.4ms)
  [1m[36mSpree::Preference Load (1.0ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (5.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_translations.html.erb (1.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_head.html.erb (14373.3ms)
  [1m[36mSpree::Tracker Load (0.9ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1 ORDER BY "spree_trackers"."id" ASC LIMIT $2[0m  [["active", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_analytics.js.erb (16.4ms)
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[1;32mDeface:[0m 1 overrides found for 'spree/shared/_nav_bar'
[1;32mDeface:[0m 'auth_shared_login_bar' matched 1 times with 'li#search-bar'
[1;32mDeface: [ERROR][0m The original source for 'auth_shared_login_bar' has changed, this override should be reviewed to ensure it's still valid.
  [1m[35m (0.8ms)[0m  [1m[34mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_search.html.erb (6.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_nav_bar.html.erb (38.4ms)
  [1m[36mCACHE Spree::Order Load (0.1ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_main_nav_bar.html.erb (54.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_header.html.erb (190.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_sidebar.html.erb (0.9ms)
Completed 200 OK in 16292ms (Views: 15704.5ms | ActiveRecord: 180.3ms)


Started GET "/cart_link" for 127.0.0.1 at 2017-07-26 13:03:08 +0200
Processing by Spree::StoreController#cart_link as */*
  [1m[36mSpree::Preference Load (2.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.9ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (1.4ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.9ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_link_to_cart.html.erb (13.2ms)
Completed 200 OK in 358ms (Views: 321.1ms | ActiveRecord: 6.0ms)


Started GET "/products/ruby-on-rails-baseball-jersey" for 127.0.0.1 at 2017-07-26 13:03:19 +0200
Processing by Spree::ProductsController#show as HTML
  Parameters: {"id"=>"ruby-on-rails-baseball-jersey"}
  [1m[36mSpree::Preference Load (0.8ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (1.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:03:19.822062') AND ("spree_products".available_on <= '2017-07-26 11:03:19.821998') AND "spree_products"."slug" = $2 ORDER BY "spree_products"."id" ASC LIMIT $3[0m  [["is_master", "t"], ["slug", "ruby-on-rails-baseball-jersey"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = 3 ORDER BY "spree_variants"."position" ASC[0m
  [1m[36mSpree::Image Load (1.0ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" IN (3, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26) ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" IN (17, 3, 26, 25, 24, 23, 22, 21, 20, 19, 18)[0m
  [1m[36mSpree::Taxon Load (2.7ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 ORDER BY "spree_taxons"."id" ASC LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/layout"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/show.html.erb within spree/layouts/spree_application
  [1m[36mSpree::Store Load (2.5ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (1.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.5ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Promotion Load (1.8ms)[0m  [1m[34mSELECT "spree_promotions".* FROM "spree_promotions" INNER JOIN "spree_promotion_rules" ON "spree_promotions"."id" = "spree_promotion_rules"."promotion_id" INNER JOIN "spree_product_promotion_rules" ON "spree_promotion_rules"."id" = "spree_product_promotion_rules"."promotion_rule_id" WHERE "spree_product_promotion_rules"."product_id" = $1 AND "spree_promotions"."advertise" = $2 AND (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2017-07-26 11:03:19.983406') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2017-07-26 11:03:19.983560')[0m  [["product_id", 3], ["advertise", "t"]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 3], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Image Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 LIMIT $3[0m  [["viewable_id", 3], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Image Load (0.8ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 ORDER BY "spree_assets"."position" ASC LIMIT $3[0m  [["viewable_id", 3], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Image Load (0.8ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_id", 3], ["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Variant Load (0.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 3], ["is_master", "f"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/_thumbnails.html.erb (26.2ms)
  [1m[36mSpree::ProductProperty Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (1.4ms)[0m  [1m[34mSELECT "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 ORDER BY "spree_product_properties"."position" ASC[0m  [["product_id", 3]]
  [1m[36mSpree::Property Load (0.8ms)[0m  [1m[34mSELECT "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" IN (1, 2, 3, 4, 5, 6, 7, 8)[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/_properties.html.erb (47.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/_promotions.html.erb (1.3ms)
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/show_raw_product_description"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (2.9ms)[0m  [1m[34mSELECT DISTINCT "spree_variants".* FROM "spree_variants" INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 AND ("spree_variants"."discontinue_on" IS NULL OR "spree_variants"."discontinue_on" >= '2017-07-26 11:03:20.201870') AND ("spree_variants".deleted_at IS NULL) AND (spree_prices.currency = 'USD') AND (spree_prices.amount IS NOT NULL) ORDER BY "spree_variants"."position" ASC[0m  [["product_id", 3], ["is_master", "f"]]
  [1m[36mSpree::OptionValueVariant Load (0.9ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" IN (17, 18, 19, 20, 21, 22, 23, 24, 25, 26)[0m
  [1m[36mSpree::OptionValue Load (1.1ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 5, 7, 6, 2, 3, 4)[0m
  [1m[36mSpree::Variant Load (2.2ms)[0m  [1m[34mSELECT DISTINCT "spree_variants".* FROM "spree_variants" INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 AND ("spree_variants"."discontinue_on" IS NULL OR "spree_variants"."discontinue_on" >= '2017-07-26 11:03:20.273341') AND ("spree_variants".deleted_at IS NULL) AND (spree_prices.currency = 'USD') AND (spree_prices.amount IS NOT NULL) ORDER BY "spree_variants"."position" ASC[0m  [["product_id", 3], ["is_master", "f"]]
  [1m[36mCACHE Spree::OptionValueVariant Load (0.0ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" IN (17, 18, 19, 20, 21, 22, 23, 24, 25, 26)[0m
  [1m[36mCACHE Spree::OptionValue Load (0.0ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 5, 7, 6, 2, 3, 4)[0m
  [1m[36mSpree::Price Load (0.7ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 17]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 17], ["active", "t"]]
  [1m[36mSpree::OptionType Load (0.8ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (1.1ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/show_variant_full_price"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 3]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 17], ["active", "t"]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 18]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 18], ["active", "t"]]
  [1m[36mCACHE Spree::OptionType Load (0.0ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 18], ["active", "t"]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 19]]
  [1m[35m (3.4ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 19], ["active", "t"]]
  [1m[36mCACHE Spree::OptionType Load (0.0ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 19], ["active", "t"]]
  [1m[36mSpree::Price Load (0.5ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 20]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 20], ["active", "t"]]
  [1m[36mCACHE Spree::OptionType Load (0.0ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 20], ["active", "t"]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 21]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 21], ["active", "t"]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 21], ["active", "t"]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 22]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 22], ["active", "t"]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 22], ["active", "t"]]
  [1m[36mSpree::Price Load (0.7ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 23]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 23], ["active", "t"]]
  [1m[36mCACHE Spree::OptionType Load (0.0ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 23], ["active", "t"]]
  [1m[36mSpree::Price Load (1.2ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 24]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 24], ["active", "t"]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 24], ["active", "t"]]
  [1m[36mSpree::Price Load (0.8ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 25]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 25], ["active", "t"]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 25], ["active", "t"]]
  [1m[36mSpree::Price Load (1.3ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 26]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 26], ["active", "t"]]
  [1m[36mCACHE Spree::OptionType Load (0.0ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 26], ["active", "t"]]
  [1m[36mSpree::Price Load (1.3ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 3], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (0.6ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 3], ["active", "t"]]
  [1m[36mSpree::StockItem Load (1.1ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 3], ["active", "t"]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC[0m  [["product_id", 3]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 3], ["active", "t"]]
  [1m[36mCACHE Spree::StockItem Load (0.0ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 3], ["active", "t"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/_cart_form.html.erb (395.3ms)
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/_taxons.html.erb (6.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/show.html.erb within spree/layouts/spree_application (660.2ms)
  [1m[36mSpree::Preference Load (0.8ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_put_site_name_in_title"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.9ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/title_site_name_separator"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (5.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_translations.html.erb (0.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_head.html.erb (190.6ms)
  [1m[36mSpree::Tracker Load (0.7ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1 ORDER BY "spree_trackers"."id" ASC LIMIT $2[0m  [["active", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_analytics.js.erb (2.4ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[1;32mDeface:[0m 1 overrides found for 'spree/shared/_nav_bar'
[1;32mDeface:[0m 'auth_shared_login_bar' matched 1 times with 'li#search-bar'
[1;32mDeface: [ERROR][0m The original source for 'auth_shared_login_bar' has changed, this override should be reviewed to ensure it's still valid.
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" = $1[0m  [["parent_id", 5]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" = $1 ORDER BY "spree_taxons"."lft"[0m  [["parent_id", 5]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_search.html.erb (14.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_nav_bar.html.erb (40.2ms)
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_main_nav_bar.html.erb (2.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_header.html.erb (129.3ms)
  [1m[36mSpree::Taxon Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) AND ("spree_taxons"."id" != 7) LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) AND ("spree_taxons"."id" != 7) ORDER BY "spree_taxons"."lft"[0m
Completed 200 OK in 1239ms (Views: 1023.1ms | ActiveRecord: 127.1ms)


Started GET "/cart_link" for 127.0.0.1 at 2017-07-26 13:03:21 +0200
Processing by Spree::StoreController#cart_link as */*
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (1.2ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (1.4ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.3ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_link_to_cart.html.erb (12.1ms)
Completed 304 Not Modified in 340ms (Views: 308.5ms | ActiveRecord: 5.4ms)


Started POST "/orders/populate" for 127.0.0.1 at 2017-07-26 13:10:18 +0200
Processing by Spree::OrdersController#populate as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O8+dU40FquBtfQyz61pnoz0UYRpGguwHowXeR3S/cb79ADkFMCgjr41KaAjbhnEU14LNMcmqmXXSj934AdrfIQ==", "variant_id"=>"19", "quantity"=>"1", "button"=>""}
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Order Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R139847242"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R139847242"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R139847242"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "spree_orders" ("number", "state", "created_at", "updated_at", "currency", "guest_token", "store_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["number", "R139847242"], ["state", "cart"], ["created_at", "2017-07-26 11:10:18.820242"], ["updated_at", "2017-07-26 11:10:18.820242"], ["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1]]
  [1m[35m (12.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Variant Load (1.2ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (1.0ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 ORDER BY "spree_line_items"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::Price Load (0.7ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 19]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (0.7ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 19], ["active", "t"]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "spree_line_items" ("variant_id", "order_id", "quantity", "price", "created_at", "updated_at", "currency", "cost_price", "tax_category_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["variant_id", 19], ["order_id", 3], ["quantity", 1], ["price", "19.99"], ["created_at", "2017-07-26 11:10:18.952433"], ["updated_at", "2017-07-26 11:10:18.952433"], ["currency", "USD"], ["cost_price", "17.0"], ["tax_category_id", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/tax_using_ship_address"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.6ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
Creating scope :open. Overwriting existing method Spree::Adjustment.open.
  [1m[36mSpree::Adjustment Load (1.1ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = 'Spree::LineItem' AND "spree_adjustments"."adjustable_id" = 3 AND "spree_adjustments"."source_type" = $1[0m  [["source_type", "Spree::TaxRate"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_line_items" SET "pre_tax_amount" = 19.99 WHERE "spree_line_items"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (1.4ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::Adjustment Load (0.6ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction'[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::LineItem"]]
  [1m[36mSpree::Adjustment Load (0.8ms)[0m  [1m[34mSELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction' AND "spree_adjustments"."eligible" = $3 ORDER BY amount ASC, created_at DESC, id DESC LIMIT $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::LineItem"], ["eligible", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."included" = $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::LineItem"], ["source_type", "Spree::TaxRate"], ["included", "t"]]
  [1m[36mSpree::Adjustment Load (0.6ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."included" = $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::LineItem"], ["source_type", "Spree::TaxRate"], ["included", "f"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_line_items" SET "non_taxable_adjustment_total" = 0, "taxable_adjustment_total" = 0.0, "promo_total" = 0.0, "included_tax_total" = 0, "additional_tax_total" = 0, "adjustment_total" = 0.0, "updated_at" = '2017-07-26 11:10:19.051432' WHERE "spree_line_items"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Zone Load (0.7ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.6ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = 'Spree::LineItem' AND "spree_adjustments"."adjustable_id" = 3 AND "spree_adjustments"."source_type" = $1[0m  [["source_type", "Spree::TaxRate"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_line_items" SET "pre_tax_amount" = 19.99 WHERE "spree_line_items"."id" = $1[0m  [["id", 3]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_orders" SET "updated_at" = '2017-07-26 11:10:18.980169' WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Payment Load (0.8ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."source_type" = $2 AND "spree_payments"."state" = $3 ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3], ["source_type", "Spree::StoreCredit"], ["state", "checkout"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_line_items"."quantity") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_line_items"."quantity") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::Payment Load (0.7ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."state" = $2 ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3], ["state", "completed"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM(price * quantity) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::Adjustment Load (0.6ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."adjustment_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."adjustment_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_line_items"."included_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_shipments"."included_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_line_items"."additional_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."additional_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."promo_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_shipments"."promo_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."eligible" = $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["source_type", "Spree::PromotionAction"], ["eligible", "t"]]
  [1m[35mSQL (2.3ms)[0m  [1m[33mUPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 19.99, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 0.0, "promo_total" = 0.0, "total" = 19.99, "updated_at" = '2017-07-26 11:10:19.111780' WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Shipment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Promotion Load (24.1ms)[0m  [1m[34mSELECT "spree_promotions".* FROM "spree_promotions" INNER JOIN "spree_order_promotions" ON "spree_promotions"."id" = "spree_order_promotions"."promotion_id" WHERE "spree_order_promotions"."order_id" = 3 AND (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2017-07-26 11:10:19.129801') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2017-07-26 11:10:19.130063') UNION SELECT "spree_promotions".* FROM "spree_promotions" WHERE (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2017-07-26 11:10:19.130536') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2017-07-26 11:10:19.130669') AND "spree_promotions"."code" IS NULL AND "spree_promotions"."path" IS NULL[0m
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction'[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::LineItem"]]
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction' AND "spree_adjustments"."eligible" = $3 ORDER BY amount ASC, created_at DESC, id DESC LIMIT $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::LineItem"], ["eligible", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."included" = $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::LineItem"], ["source_type", "Spree::TaxRate"], ["included", "t"]]
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."included" = $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::LineItem"], ["source_type", "Spree::TaxRate"], ["included", "f"]]
  [1m[35mSQL (2.0ms)[0m  [1m[33mUPDATE "spree_line_items" SET "non_taxable_adjustment_total" = 0, "taxable_adjustment_total" = 0.0, "promo_total" = 0.0, "included_tax_total" = 0, "additional_tax_total" = 0, "adjustment_total" = 0.0, "updated_at" = '2017-07-26 11:10:19.162736' WHERE "spree_line_items"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Zone Load (0.8ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.8ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = 'Spree::LineItem' AND "spree_adjustments"."adjustable_id" = 3 AND "spree_adjustments"."source_type" = $1[0m  [["source_type", "Spree::TaxRate"]]
  [1m[35mSQL (1.8ms)[0m  [1m[33mUPDATE "spree_line_items" SET "pre_tax_amount" = 19.99 WHERE "spree_line_items"."id" = $1[0m  [["id", 3]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_line_items"."quantity") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_line_items"."quantity") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::Payment Load (0.7ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."state" = $2 ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3], ["state", "completed"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM(price * quantity) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::Adjustment Load (0.6ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."adjustment_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."adjustment_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."included_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("spree_shipments"."included_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."additional_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."additional_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."promo_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("spree_shipments"."promo_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."eligible" = $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["source_type", "Spree::PromotionAction"], ["eligible", "t"]]
  [1m[35mSQL (1.8ms)[0m  [1m[33mUPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 19.99, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 0.0, "promo_total" = 0.0, "total" = 19.99, "updated_at" = '2017-07-26 11:10:19.196963' WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Zone Load (0.5ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.7ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 19], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (0.7ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_orders" SET "updated_at" = $1, "last_ip_address" = $2 WHERE "spree_orders"."id" = $3[0m  [["updated_at", "2017-07-26 11:10:19.217808"], ["last_ip_address", "127.0.0.1"], ["id", 3]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Zone Load (0.5ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (1.0ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = 'Spree::LineItem' AND "spree_adjustments"."adjustable_id" IN (SELECT "spree_line_items"."id" FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 ORDER BY "spree_line_items"."created_at" ASC) AND "spree_adjustments"."source_type" = $2[0m  [["order_id", 3], ["source_type", "Spree::TaxRate"]]
  [1m[35mSQL (1.8ms)[0m  [1m[33mUPDATE "spree_line_items" SET "pre_tax_amount" = 19.99 WHERE "spree_line_items"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Shipment Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."quantity") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::Payment Load (0.6ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."state" = $2 ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3], ["state", "completed"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM(price * quantity) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::Adjustment Load (0.8ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."adjustment_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."adjustment_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
  [1m[35m (1.4ms)[0m  [1m[34mSELECT SUM("spree_line_items"."included_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."included_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."additional_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_shipments"."additional_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."promo_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."promo_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."eligible" = $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["source_type", "Spree::PromotionAction"], ["eligible", "t"]]
  [1m[35mSQL (2.0ms)[0m  [1m[33mUPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 19.99, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 0.0, "promo_total" = 0.0, "total" = 19.99, "updated_at" = '2017-07-26 11:10:19.258418' WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
Redirected to http://localhost:3000/cart
Completed 302 Found in 536ms (ActiveRecord: 146.8ms)


Started GET "/cart" for 127.0.0.1 at 2017-07-26 13:10:19 +0200
Processing by Spree::OrdersController#edit as HTML
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.7ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 3 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 19[0m
  [1m[36mSpree::Image Load (0.8ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 19 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::OptionValueVariant Load (0.5ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 19[0m
  [1m[36mSpree::OptionValue Load (0.5ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 6)[0m
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  [1m[36mSpree::Adjustment Load (1.8ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 3 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/layout"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/orders/edit.html.erb within spree/layouts/spree_application
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_error_messages.html.erb (0.8ms)
  [1m[36mSpree::OptionType Load (0.6ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.8ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 19], ["active", "t"]]
  Rendered collection of /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/orders/_line_item.html.erb [1 times] (31.7ms)
  [1m[36mSpree::Adjustment Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) LIMIT $3[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_line_items" ON "spree_adjustments"."adjustable_id" = "spree_line_items"."id" WHERE "spree_line_items"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) LIMIT $3[0m  [["order_id", 3], ["adjustable_type", "Spree::LineItem"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_shipments" ON "spree_adjustments"."adjustable_id" = "spree_shipments"."id" WHERE "spree_shipments"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) LIMIT $3[0m  [["order_id", 3], ["adjustable_type", "Spree::Shipment"], ["LIMIT", 1]]
  [1m[36mSpree::Shipment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/orders/_form.html.erb (98.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/orders/edit.html.erb within spree/layouts/spree_application (128.1ms)
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_put_site_name_in_title"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/title_site_name_separator"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_translations.html.erb (0.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_head.html.erb (260.8ms)
  [1m[36mSpree::Tracker Load (0.7ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1 ORDER BY "spree_trackers"."id" ASC LIMIT $2[0m  [["active", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_analytics.js.erb (3.3ms)
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[1;32mDeface:[0m 1 overrides found for 'spree/shared/_nav_bar'
[1;32mDeface:[0m 'auth_shared_login_bar' matched 1 times with 'li#search-bar'
[1;32mDeface: [ERROR][0m The original source for 'auth_shared_login_bar' has changed, this override should be reviewed to ensure it's still valid.
  [1m[35m (0.7ms)[0m  [1m[34mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_search.html.erb (5.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_nav_bar.html.erb (39.9ms)
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::LineItem Load (0.0ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 3 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mCACHE Spree::Variant Load (0.0ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 19[0m
  [1m[36mCACHE Spree::Image Load (0.0ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 19 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mCACHE Spree::OptionValueVariant Load (0.0ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 19[0m
  [1m[36mCACHE Spree::OptionValue Load (0.0ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 6)[0m
  [1m[36mCACHE Spree::Product Load (0.0ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_main_nav_bar.html.erb (14.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_header.html.erb (128.7ms)
Completed 200 OK in 704ms (Views: 629.8ms | ActiveRecord: 23.5ms)


Started GET "/cart_link" for 127.0.0.1 at 2017-07-26 13:10:20 +0200
Processing by Spree::StoreController#cart_link as */*
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.6ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 3 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 19[0m
  [1m[36mSpree::Image Load (0.7ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 19 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::OptionValueVariant Load (0.5ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 19[0m
  [1m[36mSpree::OptionValue Load (0.6ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 6)[0m
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_link_to_cart.html.erb (21.4ms)
Completed 200 OK in 322ms (Views: 293.4ms | ActiveRecord: 6.6ms)


Started PATCH "/cart" for 127.0.0.1 at 2017-07-26 13:10:34 +0200
Processing by Spree::OrdersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"nLLJJKtWM3EJexf2DpRP0RZgTf6d4L+Y2VZZc/tbLDFafW1yFnu6PulMc00+SFlm/Pbh1RLIyuqo3FrMjj6Crg==", "order"=>{"line_items_attributes"=>{"0"=>{"quantity"=>"1", "id"=>"3"}}, "coupon_code"=>""}, "checkout"=>""}
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (1.2ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.9ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.7ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 3 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 19[0m
  [1m[36mSpree::Image Load (0.9ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 19 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::OptionValueVariant Load (0.7ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 19[0m
  [1m[36mSpree::OptionValue Load (1.5ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 6)[0m
  [1m[36mSpree::Product Load (1.1ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  [1m[36mSpree::Adjustment Load (1.1ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 3 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Order Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("spree_line_items"."quantity") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35mCACHE  (0.1ms)[0m  [1m[34mSELECT SUM("spree_line_items"."quantity") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::Payment Load (1.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."state" = $2 ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3], ["state", "completed"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM(price * quantity) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::Adjustment Load (1.0ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_line_items"."adjustment_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."adjustment_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("spree_line_items"."included_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."included_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."additional_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."additional_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("spree_line_items"."promo_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."promo_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."eligible" = $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["source_type", "Spree::PromotionAction"], ["eligible", "t"]]
  [1m[35mSQL (2.1ms)[0m  [1m[33mUPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 19.99, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 0.0, "promo_total" = 0.0, "total" = 19.99, "updated_at" = '2017-07-26 11:10:35.051648' WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Promotion Load (1.8ms)[0m  [1m[34mSELECT "spree_promotions".* FROM "spree_promotions" INNER JOIN "spree_order_promotions" ON "spree_promotions"."id" = "spree_order_promotions"."promotion_id" WHERE "spree_order_promotions"."order_id" = 3 AND (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2017-07-26 11:10:35.056858') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2017-07-26 11:10:35.057123') UNION SELECT "spree_promotions".* FROM "spree_promotions" WHERE (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2017-07-26 11:10:35.057849') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2017-07-26 11:10:35.058069') AND "spree_promotions"."code" IS NULL AND "spree_promotions"."path" IS NULL[0m
  [1m[36mSpree::Shipment Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (0.7ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."source_type" = $2 AND "spree_payments"."state" = $3 ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3], ["source_type", "Spree::StoreCredit"], ["state", "checkout"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."quantity") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_line_items"."quantity") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::Payment Load (0.7ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."state" = $2 ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3], ["state", "completed"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM(price * quantity) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::Adjustment Load (0.5ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (2.2ms)[0m  [1m[34mSELECT SUM("spree_line_items"."adjustment_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (2.3ms)[0m  [1m[34mSELECT SUM("spree_shipments"."adjustment_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."included_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."included_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT SUM("spree_line_items"."additional_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."additional_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_line_items"."promo_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("spree_shipments"."promo_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."eligible" = $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["source_type", "Spree::PromotionAction"], ["eligible", "t"]]
  [1m[35mSQL (1.9ms)[0m  [1m[33mUPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 19.99, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 0.0, "promo_total" = 0.0, "total" = 19.99, "updated_at" = '2017-07-26 11:10:35.109412' WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Order Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_orders" SET "state" = $1, "updated_at" = $2 WHERE "spree_orders"."id" = $3[0m  [["state", "address"], ["updated_at", "2017-07-26 11:10:35.121041"], ["id", 3]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "spree_state_changes" ("name", "previous_state", "stateful_id", "stateful_type", "next_state", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "order"], ["previous_state", "cart"], ["stateful_id", 3], ["stateful_type", "Spree::Order"], ["next_state", "address"], ["created_at", "2017-07-26 11:10:35.175122"], ["updated_at", "2017-07-26 11:10:35.175122"]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Order Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (1.3ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
Redirected to http://localhost:3000/checkout/address
Completed 302 Found in 237ms (ActiveRecord: 62.4ms)


Started GET "/checkout/address" for 127.0.0.1 at 2017-07-26 13:10:35 +0200
Processing by Spree::CheckoutController#edit as HTML
  Parameters: {"state"=>"address"}
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (6.8ms)[0m  [1m[37mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4 FOR UPDATE[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.7ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 3 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mSpree::Variant Load (1.1ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 19[0m
  [1m[36mSpree::Image Load (0.7ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 19 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::OptionValueVariant Load (0.7ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 19[0m
  [1m[36mSpree::OptionValue Load (0.5ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 6)[0m
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  [1m[36mSpree::Adjustment Load (0.6ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 3 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (0.7ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.1ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 19], ["active", "t"]]
  [1m[36mCACHE Spree::Payment Load (0.1ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.7ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Country Load (0.0ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/auth_configuration/registration_step"], ["LIMIT", 1]]
Redirected to http://localhost:3000/checkout/registration
Filter chain halted as :check_registration rendered or redirected
Completed 302 Found in 247ms (ActiveRecord: 31.3ms)


Started GET "/checkout/registration" for 127.0.0.1 at 2017-07-26 13:10:35 +0200
Processing by Spree::CheckoutController#registration as HTML
  [1m[36mSpree::Preference Load (0.2ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (1.1ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.9ms)[0m  [1m[37mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4 FOR UPDATE[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (1.0ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 3 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mSpree::Variant Load (1.2ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 19[0m
  [1m[36mSpree::Image Load (0.7ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 19 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::OptionValueVariant Load (0.7ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 19[0m
  [1m[36mSpree::OptionValue Load (0.7ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 6)[0m
  [1m[36mSpree::Product Load (0.8ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  [1m[36mSpree::Adjustment Load (0.8ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 3 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 19], ["active", "t"]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (0.6ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Country Load (0.0ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (1.0ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/layout"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/frontend/spree/checkout/registration.html.erb within spree/layouts/spree_application
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_error_messages.html.erb (0.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/frontend/spree/shared/_user_form.html.erb (5.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/frontend/spree/checkout/_new_user.html.erb (26.4ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/allow_guest_checkout"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/frontend/spree/checkout/registration.html.erb within spree/layouts/spree_application (78.8ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_translations.html.erb (1.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_head.html.erb (220.7ms)
  [1m[36mSpree::Tracker Load (0.8ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1 ORDER BY "spree_trackers"."id" ASC LIMIT $2[0m  [["active", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_analytics.js.erb (2.8ms)
  [1m[36mSpree::Preference Load (1.0ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[1;32mDeface:[0m 1 overrides found for 'spree/shared/_nav_bar'
[1;32mDeface:[0m 'auth_shared_login_bar' matched 1 times with 'li#search-bar'
[1;32mDeface: [ERROR][0m The original source for 'auth_shared_login_bar' has changed, this override should be reviewed to ensure it's still valid.
  [1m[35m (0.7ms)[0m  [1m[34mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_search.html.erb (6.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_nav_bar.html.erb (47.7ms)
  [1m[36mSpree::Order Load (0.9ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::LineItem Load (0.0ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 3 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mCACHE Spree::Variant Load (0.0ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 19[0m
  [1m[36mCACHE Spree::Image Load (0.0ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 19 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mCACHE Spree::OptionValueVariant Load (0.0ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 19[0m
  [1m[36mCACHE Spree::OptionValue Load (0.1ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 6)[0m
  [1m[36mCACHE Spree::Product Load (0.0ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_main_nav_bar.html.erb (26.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_header.html.erb (156.4ms)
Completed 200 OK in 689ms (Views: 592.1ms | ActiveRecord: 20.6ms)


Started GET "/cart_link" for 127.0.0.1 at 2017-07-26 13:10:36 +0200
Processing by Spree::StoreController#cart_link as */*
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.9ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (3.4ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.7ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 3 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 19[0m
  [1m[36mSpree::Image Load (0.8ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 19 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::OptionValueVariant Load (0.5ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 19[0m
  [1m[36mSpree::OptionValue Load (0.6ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 6)[0m
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_link_to_cart.html.erb (31.6ms)
Completed 200 OK in 397ms (Views: 358.2ms | ActiveRecord: 9.9ms)


Started POST "/signup" for 127.0.0.1 at 2017-07-26 13:10:48 +0200
Processing by Spree::UserRegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"IlZQaSXvncSedoACw1E7t9Up9AtT/mvLBu0co7nTYonkmfQ/mMIUi35B5LnzjS0AP79YINzWHrl3Zx8czLbMFg==", "spree_user"=>{"email"=>"jorge.cardenas@talentocorporativo.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Create"}
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::User Exists (2.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."email" = $1 AND "spree_users"."deleted_at" IS NULL LIMIT $2[0m  [["email", "jorge.cardenas@talentocorporativo.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[32mINSERT INTO "spree_users" ("encrypted_password", "password_salt", "email", "login", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["encrypted_password", "da0a14447edaf170de8c6cc0ad2d78453550797f623263ad8321b2a5ee783f06646190679ec5240ffce468d188c8b172a07f6937f29b1ce4cd83365f4e5ada9d"], ["password_salt", "R2Qs2PMtkJVAjUxYKcPW"], ["email", "jorge.cardenas@talentocorporativo.com"], ["login", "jorge.cardenas@talentocorporativo.com"], ["created_at", "2017-07-26 11:10:48.998925"], ["updated_at", "2017-07-26 11:10:48.998925"]]
  [1m[35m (6.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Order Load (1.1ms)[0m  [1m[34mSELECT "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."guest_token" = $1 AND "spree_orders"."user_id" IS NULL[0m  [["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"]]
  [1m[35mSQL (4.7ms)[0m  [1m[33mUPDATE "spree_orders" SET "user_id" = 2, "email" = 'jorge.cardenas@talentocorporativo.com', "created_by_id" = 2, "bill_address_id" = NULL, "ship_address_id" = NULL WHERE "spree_orders"."id" = 3[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2017-07-26 11:10:49.027230"], ["last_sign_in_at", "2017-07-26 11:10:49.027230"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2017-07-26 11:10:49.028172"], ["id", 2]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/checkout/address
Completed 302 Found in 211ms (ActiveRecord: 20.3ms)


Started GET "/checkout/address" for 127.0.0.1 at 2017-07-26 13:10:49 +0200
Processing by Spree::CheckoutController#edit as HTML
  Parameters: {"state"=>"address"}
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (1.4ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.2ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.7ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 3 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 19[0m
  [1m[36mSpree::Image Load (1.3ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 19 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::OptionValueVariant Load (0.5ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 19[0m
  [1m[36mSpree::OptionValue Load (0.7ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 6)[0m
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  [1m[36mSpree::Adjustment Load (0.8ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 3 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL AND (id != 3)[0m  [["user_id", 2]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (0.6ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 19], ["active", "t"]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (1.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Country Load (0.1ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.8ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/auth_configuration/registration_step"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/layout"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/checkout/edit.html.erb within spree/layouts/spree_application
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_taxonomies" ON "spree_taxonomies"."id" = "spree_taxons"."taxonomy_id" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxonomies"."name" = $2 LIMIT $3[0m  [["product_id", 3], ["name", "Categories"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_taxonomies" ON "spree_taxonomies"."id" = "spree_taxons"."taxonomy_id" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxonomies"."name" = $2 LIMIT $3[0m  [["product_id", 3], ["name", "Brands"], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.7ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.6ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_add_items.js.erb (16.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_checkout.js.erb (51.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_error_messages.html.erb (1.0ms)
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/company"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/checkout_zone"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.9ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Country Load (1.5ms)[0m  [1m[34mSELECT "spree_countries".* FROM "spree_countries"[0m
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/address_requires_state"], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (2.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE "spree_states"."country_id" = $1 LIMIT $2[0m  [["country_id", 232], ["LIMIT", 1]]
  [1m[36mSpree::State Load (0.6ms)[0m  [1m[34mSELECT "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1[0m  [["country_id", 232]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/alternative_shipping_phone"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/address/_form.html.erb (110.3ms)
  [1m[36mCACHE Spree::Preference Load (0.0ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/checkout_zone"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE Spree::Country Load (0.0ms)[0m  [1m[34mSELECT "spree_countries".* FROM "spree_countries"[0m
  [1m[36mCACHE Spree::State Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE "spree_states"."country_id" = $1 LIMIT $2[0m  [["country_id", 232], ["LIMIT", 1]]
  [1m[36mCACHE Spree::State Load (0.0ms)[0m  [1m[34mSELECT "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1[0m  [["country_id", 232]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/address/_form.html.erb (69.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/checkout/_address.html.erb (239.8ms)
  [1m[36mSpree::Adjustment Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_line_items" ON "spree_adjustments"."adjustable_id" = "spree_line_items"."id" WHERE "spree_line_items"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) LIMIT $3[0m  [["order_id", 3], ["adjustable_type", "Spree::LineItem"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1 AND ("spree_adjustments".amount != 0) AND "spree_adjustments"."source_type" = $2 AND "spree_adjustments"."eligible" = $3[0m  [["order_id", 3], ["source_type", "Spree::TaxRate"], ["eligible", "t"]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::Adjustment Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) AND "spree_adjustments"."eligible" = $3 LIMIT $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", "t"], ["LIMIT", 1]]
  [1m[35m (3.1ms)[0m  [1m[34mSELECT SUM("spree_payments"."amount") FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."source_type" = $2 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))[0m  [["order_id", 3], ["source_type", "Spree::StoreCredit"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/checkout/_summary.html.erb (27.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/checkout/edit.html.erb within spree/layouts/spree_application (429.5ms)
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (3.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_translations.html.erb (1.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_head.html.erb (210.7ms)
  [1m[36mSpree::Tracker Load (0.7ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1 ORDER BY "spree_trackers"."id" ASC LIMIT $2[0m  [["active", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_analytics.js.erb (3.1ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[1;32mDeface:[0m 1 overrides found for 'spree/shared/_nav_bar'
[1;32mDeface:[0m 'auth_shared_login_bar' matched 1 times with 'li#search-bar'
[1;32mDeface: [ERROR][0m The original source for 'auth_shared_login_bar' has changed, this override should be reviewed to ensure it's still valid.
  [1m[35m (1.1ms)[0m  [1m[34mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_search.html.erb (8.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_nav_bar.html.erb (45.1ms)
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::LineItem Load (0.0ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 3 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mCACHE Spree::Variant Load (0.0ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 19[0m
  [1m[36mCACHE Spree::Image Load (0.0ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 19 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mCACHE Spree::OptionValueVariant Load (0.0ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 19[0m
  [1m[36mCACHE Spree::OptionValue Load (0.0ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 6)[0m
  [1m[36mCACHE Spree::Product Load (0.0ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_main_nav_bar.html.erb (17.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_header.html.erb (133.1ms)
Completed 200 OK in 1053ms (Views: 906.5ms | ActiveRecord: 58.2ms)


Started GET "/cart_link" for 127.0.0.1 at 2017-07-26 13:10:50 +0200
Processing by Spree::StoreController#cart_link as */*
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
Started GET "/api/v1/states?country_id=232" for 127.0.0.1 at 2017-07-26 13:10:50 +0200
Processing by Spree::Api::V1::StatesController#index as JSON
  [1m[36mSpree::Preference Load (7.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  Parameters: {"country_id"=>"232"}
  [1m[36mSpree::Store Load (1.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.9ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.8ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 3 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 19[0m
  [1m[36mSpree::Image Load (0.9ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 19 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::OptionValueVariant Load (0.6ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 19[0m
  [1m[36mSpree::OptionValue Load (0.8ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 6)[0m
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_link_to_cart.html.erb (34.0ms)
Completed 304 Not Modified in 376ms (Views: 333.4ms | ActiveRecord: 16.3ms)


  [1m[36mSpree::User Load (6.0ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."spree_api_key" = $1 LIMIT $2[0m  [["spree_api_key", ""], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (1.1ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  [1m[36mSpree::State Load (1.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY name DESC LIMIT $2[0m  [["country_id", 232], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/states/index.v1.rabl
  [1m[36mSpree::State Load (1.4ms)[0m  [1m[34mSELECT "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY name ASC[0m  [["country_id", 232]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/states/index.v1.rabl (12.8ms)
Completed 200 OK in 360ms (Views: 239.5ms | ActiveRecord: 59.6ms)


Started GET "/api/v1/states?country_id=68" for 127.0.0.1 at 2017-07-26 13:11:34 +0200
Processing by Spree::Api::V1::StatesController#index as JSON
  Parameters: {"country_id"=>"68"}
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."spree_api_key" = $1 LIMIT $2[0m  [["spree_api_key", ""], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[36mSpree::State Load (0.7ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY name DESC LIMIT $2[0m  [["country_id", 68], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/states/index.v1.rabl
  [1m[36mSpree::State Load (0.7ms)[0m  [1m[34mSELECT "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY name ASC[0m  [["country_id", 68]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/states/index.v1.rabl (5.9ms)
Completed 200 OK in 273ms (Views: 233.3ms | ActiveRecord: 2.7ms)


Started PATCH "/checkout/update/address" for 127.0.0.1 at 2017-07-26 13:24:55 +0200
Processing by Spree::CheckoutController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"QK1m8m1Wh4RAqSzeaVNBuMJIYEdbnORZTbx0immk/X6GYsKk0HsOy6CeSGVZj1cPKN7MbNS0kSs8Nnc1HMFT4Q==", "order"=>{"email"=>"jorge.cardenas@talentocorporativo.com", "state_lock_version"=>"0", "bill_address_attributes"=>{"firstname"=>"jorge", "lastname"=>"cf", "address1"=>"avenida de castilla", "address2"=>"", "city"=>"gijón", "country_id"=>"68", "state_id"=>"628", "zipcode"=>"33203", "phone"=>"666555444"}, "use_billing"=>"1"}, "commit"=>"Save and Continue", "save_user_address"=>"1", "state"=>"address"}
  [1m[36mSpree::Preference Load (1.1ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (1.3ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (1.9ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (2.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (1.7ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 3 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mSpree::Variant Load (1.4ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 19[0m
  [1m[36mSpree::Image Load (1.3ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 19 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::OptionValueVariant Load (0.8ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 19[0m
  [1m[36mSpree::OptionValue Load (1.0ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 6)[0m
  [1m[36mSpree::Product Load (1.2ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  [1m[36mSpree::Adjustment Load (1.1ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 3 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[36mSpree::Order Load (0.9ms)[0m  [1m[34mSELECT "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL AND (id != 3)[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Order Load (1.0ms)[0m  [1m[37mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_orders" SET "state_lock_version" = COALESCE("state_lock_version", 0) + 1 WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (1.7ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::LineItem Load (0.7ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 ORDER BY "spree_line_items"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.8ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 19], ["active", "t"]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::User Load (0.9ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Country Load (0.0ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.9ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/auth_configuration/registration_step"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Order Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/address_requires_state"], ["LIMIT", 1]]
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT $2[0m  [["id", 628], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Country Load (0.0ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Country Load (0.0ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[36mCACHE Spree::State Load (0.0ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT $2[0m  [["id", 628], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Country Load (0.0ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (8.4ms)[0m  [1m[32mINSERT INTO "spree_addresses" ("firstname", "lastname", "address1", "address2", "city", "zipcode", "phone", "state_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["firstname", "jorge"], ["lastname", "cf"], ["address1", "avenida de castilla"], ["address2", ""], ["city", "gijón"], ["zipcode", "33203"], ["phone", "666555444"], ["state_id", 628], ["country_id", 68], ["created_at", "2017-07-26 11:24:56.089839"], ["updated_at", "2017-07-26 11:24:56.089839"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_addresses" ("firstname", "lastname", "address1", "address2", "city", "zipcode", "phone", "state_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["firstname", "jorge"], ["lastname", "cf"], ["address1", "avenida de castilla"], ["address2", ""], ["city", "gijón"], ["zipcode", "33203"], ["phone", "666555444"], ["state_id", 628], ["country_id", 68], ["created_at", "2017-07-26 11:24:56.100529"], ["updated_at", "2017-07-26 11:24:56.100529"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_orders" SET "bill_address_id" = $1, "ship_address_id" = $2, "updated_at" = $3 WHERE "spree_orders"."id" = $4[0m  [["bill_address_id", 3], ["ship_address_id", 4], ["updated_at", "2017-07-26 11:24:56.103253"], ["id", 3]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Shipment Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/tax_using_ship_address"], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[34mSELECT "spree_zones"."id" AS t0_r0, "spree_zones"."name" AS t0_r1, "spree_zones"."description" AS t0_r2, "spree_zones"."default_tax" AS t0_r3, "spree_zones"."zone_members_count" AS t0_r4, "spree_zones"."created_at" AS t0_r5, "spree_zones"."updated_at" AS t0_r6, "spree_zones"."kind" AS t0_r7, "spree_zone_members"."id" AS t1_r0, "spree_zone_members"."zoneable_type" AS t1_r1, "spree_zone_members"."zoneable_id" AS t1_r2, "spree_zone_members"."zone_id" AS t1_r3, "spree_zone_members"."created_at" AS t1_r4, "spree_zone_members"."updated_at" AS t1_r5 FROM "spree_zones" LEFT OUTER JOIN "spree_zone_members" ON "spree_zone_members"."zone_id" = "spree_zones"."id" WHERE ((spree_zone_members.zoneable_type = 'Spree::Country' AND spree_zone_members.zoneable_id = 68) OR (spree_zone_members.zoneable_type = 'Spree::State' AND spree_zone_members.zoneable_id = 628)) ORDER BY spree_zones.zone_members_count, spree_zones.created_at[0m
  [1m[36mSpree::Price Load (1.9ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 19], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (2.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.8ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (1.1ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.4ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (4.2ms)[0m  [1m[34mSELECT DISTINCT "spree_zones"."id" FROM "spree_zones" INNER JOIN "spree_zone_members" ON "spree_zone_members"."zone_id" = "spree_zones"."id" AND "spree_zone_members"."zoneable_type" = $1 INNER JOIN "spree_countries" ON "spree_countries"."id" = "spree_zone_members"."zoneable_id" INNER JOIN "spree_zone_members" "zone_members_spree_countries_join" ON "zone_members_spree_countries_join"."zoneable_id" = "spree_countries"."id" AND "zone_members_spree_countries_join"."zoneable_type" = $2 INNER JOIN "spree_zones" "zones_spree_countries" ON "zones_spree_countries"."id" = "zone_members_spree_countries_join"."zone_id" WHERE (zone_members_spree_countries_join.zone_id = 1)[0m  [["zoneable_type", "Spree::Country"], ["zoneable_type", "Spree::Country"]]
  [1m[36mSpree::TaxRate Load (0.9ms)[0m  [1m[34mSELECT "spree_tax_rates".* FROM "spree_tax_rates" WHERE "spree_tax_rates"."deleted_at" IS NULL AND "spree_tax_rates"."zone_id" = 1[0m
  [1m[36mSpree::Adjustment Load (1.0ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = 'Spree::LineItem' AND "spree_adjustments"."adjustable_id" IN (SELECT "spree_line_items"."id" FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 ORDER BY "spree_line_items"."created_at" ASC) AND "spree_adjustments"."source_type" = $2[0m  [["order_id", 3], ["source_type", "Spree::TaxRate"]]
  [1m[36mCACHE Spree::TaxCategory Load (0.0ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.9ms)[0m  [1m[33mUPDATE "spree_line_items" SET "pre_tax_amount" = 19.99 WHERE "spree_line_items"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Shipment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Country Load (1.8ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[36mSpree::State Load (0.6ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT $2[0m  [["id", 628], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Country Load (0.0ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_addresses" ("firstname", "lastname", "address1", "address2", "city", "zipcode", "phone", "state_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["firstname", "jorge"], ["lastname", "cf"], ["address1", "avenida de castilla"], ["address2", ""], ["city", "gijón"], ["zipcode", "33203"], ["phone", "666555444"], ["state_id", 628], ["country_id", 68], ["created_at", "2017-07-26 11:24:56.221548"], ["updated_at", "2017-07-26 11:24:56.221548"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Address Load (0.9ms)[0m  [1m[34mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT $2[0m  [["id", 628], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Country Load (0.0ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_users" SET "bill_address_id" = $1, "updated_at" = $2 WHERE "spree_users"."id" = $3[0m  [["bill_address_id", 5], ["updated_at", "2017-07-26 11:24:56.235484"], ["id", 2]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[36mSpree::State Load (0.6ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT $2[0m  [["id", 628], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Country Load (0.0ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_addresses" ("firstname", "lastname", "address1", "address2", "city", "zipcode", "phone", "state_id", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["firstname", "jorge"], ["lastname", "cf"], ["address1", "avenida de castilla"], ["address2", ""], ["city", "gijón"], ["zipcode", "33203"], ["phone", "666555444"], ["state_id", 628], ["country_id", 68], ["created_at", "2017-07-26 11:24:56.247097"], ["updated_at", "2017-07-26 11:24:56.247097"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Address Load (0.5ms)[0m  [1m[34mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT $2[0m  [["id", 628], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Country Load (0.0ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_users" SET "ship_address_id" = $1, "updated_at" = $2 WHERE "spree_users"."id" = $3[0m  [["ship_address_id", 6], ["updated_at", "2017-07-26 11:24:56.259458"], ["id", 2]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (1.5ms)[0m  [1m[31mDELETE FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2[0m  [["order_id", 3], ["adjustable_type", "Spree::Shipment"]]
  [1m[36mSpree::Shipment Load (0.6ms)[0m  [1m[34mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35mSQL (0.8ms)[0m  [1m[31mDELETE FROM "spree_state_changes" WHERE "spree_state_changes"."stateful_type" = $1 AND 1=0[0m  [["stateful_type", "Spree::Shipment"]]
  [1m[35mSQL (1.3ms)[0m  [1m[31mDELETE FROM "spree_shipping_rates" WHERE 1=0[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35mSQL (1.9ms)[0m  [1m[31mDELETE FROM "spree_inventory_units" WHERE "spree_inventory_units"."order_id" = $1 AND "spree_inventory_units"."state" IN ('backordered', 'on_hand')[0m  [["order_id", 3]]
  [1m[36mSpree::StockLocation Load (1.3ms)[0m  [1m[34mSELECT DISTINCT "spree_stock_locations".* FROM "spree_stock_locations" INNER JOIN "spree_stock_items" ON "spree_stock_items"."stock_location_id" = "spree_stock_locations"."id" AND "spree_stock_items"."deleted_at" IS NULL WHERE "spree_stock_locations"."active" = $1 AND "spree_stock_items"."variant_id" = 19[0m  [["active", "t"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $1 AND "spree_stock_items"."variant_id" = 19 LIMIT $2[0m  [["stock_location_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.8ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $1 AND "spree_stock_items"."variant_id" = 19 ORDER BY "spree_stock_items"."id" ASC LIMIT $2[0m  [["stock_location_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (1.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (1.3ms)[0m  [1m[34mSELECT DISTINCT "spree_shipping_categories".* FROM "spree_shipping_categories" INNER JOIN "spree_products" ON "spree_products"."shipping_category_id" = "spree_shipping_categories"."id" AND "spree_products"."deleted_at" IS NULL INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."deleted_at" IS NULL WHERE "spree_variants"."id" = 19[0m
  [1m[36mSpree::ShippingMethodCategory Load (6.7ms)[0m  [1m[34mSELECT "spree_shipping_method_categories".* FROM "spree_shipping_method_categories" WHERE "spree_shipping_method_categories"."shipping_category_id" = 1[0m
  [1m[36mSpree::ShippingMethod Load (1.1ms)[0m  [1m[34mSELECT "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL AND "spree_shipping_methods"."id" IN (1, 2, 3, 4, 5)[0m
  [1m[36mSpree::Calculator Load (0.9ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (1.2ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 1]]
  [1m[36mSpree::ZoneMember Load (0.5ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 2[0m
  [1m[36mSpree::Calculator Load (0.7ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 2], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.7ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 2]]
  [1m[36mCACHE Spree::ZoneMember Load (0.0ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 2[0m
  [1m[36mSpree::Calculator Load (0.6ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 3], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.9ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 3]]
  [1m[36mCACHE Spree::ZoneMember Load (0.0ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 2[0m
  [1m[36mSpree::Calculator Load (0.7ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 4], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.8ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 4]]
  [1m[36mSpree::ZoneMember Load (0.6ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 1[0m
  [1m[36mSpree::Calculator Load (0.7ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 5], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.7ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 5]]
  [1m[36mCACHE Spree::ZoneMember Load (0.0ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 1[0m
  [1m[36mSpree::Zone Load (0.5ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Shipment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 LIMIT $2[0m  [["number", "H21517727852"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Shipment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 LIMIT $2[0m  [["number", "H21517727852"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Shipment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 LIMIT $2[0m  [["number", "H21517727852"], ["LIMIT", 1]]
  [1m[35mSQL (2.2ms)[0m  [1m[32mINSERT INTO "spree_shipments" ("number", "order_id", "address_id", "state", "created_at", "updated_at", "stock_location_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["number", "H21517727852"], ["order_id", 3], ["address_id", 4], ["state", "pending"], ["created_at", "2017-07-26 11:24:56.619177"], ["updated_at", "2017-07-26 11:24:56.619177"], ["stock_location_id", 1]]
  [1m[35mSQL (2.2ms)[0m  [1m[32mINSERT INTO "spree_inventory_units" ("state", "variant_id", "order_id", "shipment_id", "created_at", "updated_at", "line_item_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["state", "on_hand"], ["variant_id", 19], ["order_id", 3], ["shipment_id", 3], ["created_at", "2017-07-26 11:24:56.623632"], ["updated_at", "2017-07-26 11:24:56.623632"], ["line_item_id", 3]]
  [1m[35mSQL (1.9ms)[0m  [1m[32mINSERT INTO "spree_shipping_rates" ("shipment_id", "shipping_method_id", "selected", "cost", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["shipment_id", 3], ["shipping_method_id", 4], ["selected", "t"], ["cost", "5.0"], ["created_at", "2017-07-26 11:24:56.628423"], ["updated_at", "2017-07-26 11:24:56.628423"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_shipments" SET "updated_at" = '2017-07-26 11:24:56.627785' WHERE "spree_shipments"."id" = $1[0m  [["id", 3]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_orders" SET "updated_at" = '2017-07-26 11:24:56.634093' WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::ShippingRate Load (1.3ms)[0m  [1m[34mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2 ORDER BY "spree_shipping_rates"."cost" ASC LIMIT $3[0m  [["shipment_id", 3], ["selected", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.9ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."included" = $3[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Shipment"], ["included", "f"]]
  [1m[35mSQL (1.9ms)[0m  [1m[33mUPDATE "spree_shipments" SET "cost" = 5.0, "adjustment_total" = 0, "updated_at" = '2017-07-26 11:24:56.646090' WHERE "spree_shipments"."id" = $1[0m  [["id", 3]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35mSQL (1.9ms)[0m  [1m[33mUPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 19.99, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 5.0, "promo_total" = 0.0, "total" = 24.99, "updated_at" = '2017-07-26 11:24:56.651040' WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Order Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_orders" SET "state" = $1, "updated_at" = $2 WHERE "spree_orders"."id" = $3[0m  [["state", "delivery"], ["updated_at", "2017-07-26 11:24:56.660034"], ["id", 3]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_state_changes" ("name", "previous_state", "stateful_id", "user_id", "stateful_type", "next_state", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "order"], ["previous_state", "address"], ["stateful_id", 3], ["user_id", 2], ["stateful_type", "Spree::Order"], ["next_state", "delivery"], ["created_at", "2017-07-26 11:24:56.666860"], ["updated_at", "2017-07-26 11:24:56.666860"]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Order Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Payment Load (0.7ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."state" = $2 ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3], ["state", "completed"]]
  [1m[35m (1.4ms)[0m  [1m[34mSELECT SUM(price * quantity) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::Adjustment Load (0.6ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("spree_line_items"."adjustment_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_shipments"."adjustment_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."included_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_shipments"."included_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("spree_line_items"."additional_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."additional_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."promo_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("spree_shipments"."promo_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."eligible" = $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["source_type", "Spree::PromotionAction"], ["eligible", "t"]]
  [1m[35mSQL (2.1ms)[0m  [1m[33mUPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 19.99, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 5.0, "promo_total" = 0.0, "total" = 24.99, "updated_at" = '2017-07-26 11:24:56.707308' WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
Redirected to http://localhost:3000/checkout/delivery
Completed 302 Found in 767ms (ActiveRecord: 215.2ms)


Started GET "/checkout/delivery" for 127.0.0.1 at 2017-07-26 13:24:56 +0200
Processing by Spree::CheckoutController#edit as HTML
  Parameters: {"state"=>"delivery"}
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (1.0ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 3 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 19[0m
  [1m[36mSpree::Image Load (0.8ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 19 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::OptionValueVariant Load (0.9ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 19[0m
  [1m[36mSpree::OptionValue Load (0.5ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 6)[0m
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 3 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL AND (id != 3)[0m  [["user_id", 2]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (1.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.2ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 19], ["active", "t"]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::User Load (1.3ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Shipment Load (1.0ms)[0m  [1m[34mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::StockLocation Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.9ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_variants"."id" AS t1_r0, "spree_variants"."sku" AS t1_r1, "spree_variants"."weight" AS t1_r2, "spree_variants"."height" AS t1_r3, "spree_variants"."width" AS t1_r4, "spree_variants"."depth" AS t1_r5, "spree_variants"."deleted_at" AS t1_r6, "spree_variants"."is_master" AS t1_r7, "spree_variants"."product_id" AS t1_r8, "spree_variants"."cost_price" AS t1_r9, "spree_variants"."position" AS t1_r10, "spree_variants"."cost_currency" AS t1_r11, "spree_variants"."track_inventory" AS t1_r12, "spree_variants"."tax_category_id" AS t1_r13, "spree_variants"."updated_at" AS t1_r14, "spree_variants"."discontinue_on" AS t1_r15, "spree_variants"."created_at" AS t1_r16 FROM "spree_inventory_units" INNER JOIN "spree_variants" ON "spree_variants"."id" = "spree_inventory_units"."variant_id" AND "spree_variants"."deleted_at" IS NULL WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 3]]
  [1m[36mSpree::Role Load (0.7ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/auth_configuration/registration_step"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/layout"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/checkout/edit.html.erb within spree/layouts/spree_application
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_taxonomies" ON "spree_taxonomies"."id" = "spree_taxons"."taxonomy_id" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxonomies"."name" = $2 LIMIT $3[0m  [["product_id", 3], ["name", "Categories"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_taxonomies" ON "spree_taxonomies"."id" = "spree_taxons"."taxonomy_id" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxonomies"."name" = $2 LIMIT $3[0m  [["product_id", 3], ["name", "Brands"], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.7ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.6ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_add_items.js.erb (13.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_checkout.js.erb (45.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_error_messages.html.erb (1.1ms)
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::InventoryUnit Load (0.4ms)[0m  [1m[34mSELECT "spree_inventory_units".* FROM "spree_inventory_units" WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 3]]
  [1m[36mSpree::LineItem Load (0.4ms)[0m  [1m[34mSELECT  "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Image Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 LIMIT $3[0m  [["viewable_id", 19], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Image Load (0.8ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 ORDER BY "spree_assets"."position" ASC LIMIT $3[0m  [["viewable_id", 19], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 19]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/tax_using_ship_address"], ["LIMIT", 1]]
  [1m[36mSpree::Address Load (1.1ms)[0m  [1m[34mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[34mSELECT "spree_zones"."id" AS t0_r0, "spree_zones"."name" AS t0_r1, "spree_zones"."description" AS t0_r2, "spree_zones"."default_tax" AS t0_r3, "spree_zones"."zone_members_count" AS t0_r4, "spree_zones"."created_at" AS t0_r5, "spree_zones"."updated_at" AS t0_r6, "spree_zones"."kind" AS t0_r7, "spree_zone_members"."id" AS t1_r0, "spree_zone_members"."zoneable_type" AS t1_r1, "spree_zone_members"."zoneable_id" AS t1_r2, "spree_zone_members"."zone_id" AS t1_r3, "spree_zone_members"."created_at" AS t1_r4, "spree_zone_members"."updated_at" AS t1_r5 FROM "spree_zones" LEFT OUTER JOIN "spree_zone_members" ON "spree_zone_members"."zone_id" = "spree_zones"."id" WHERE ((spree_zone_members.zoneable_type = 'Spree::Country' AND spree_zone_members.zoneable_id = 68) OR (spree_zone_members.zoneable_type = 'Spree::State' AND spree_zone_members.zoneable_id = 628)) ORDER BY spree_zones.zone_members_count, spree_zones.created_at[0m
  [1m[36mSpree::TaxCategory Load (0.7ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.5ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingRate Load (1.1ms)[0m  [1m[34mSELECT "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 ORDER BY "spree_shipping_rates"."cost" ASC[0m  [["shipment_id", 3]]
  [1m[36mSpree::Shipment Load (0.6ms)[0m  [1m[34mSELECT  "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.6ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::ShippingRate Load (0.8ms)[0m  [1m[34mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2 ORDER BY "spree_shipping_rates"."cost" ASC LIMIT $3[0m  [["shipment_id", 3], ["selected", "t"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingMethod Load (2.4ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/shipping_instructions"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/checkout/_delivery.html.erb (81.1ms)
  [1m[36mSpree::Adjustment Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_line_items" ON "spree_adjustments"."adjustable_id" = "spree_line_items"."id" WHERE "spree_line_items"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) LIMIT $3[0m  [["order_id", 3], ["adjustable_type", "Spree::LineItem"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1 AND ("spree_adjustments".amount != 0) AND "spree_adjustments"."source_type" = $2 AND "spree_adjustments"."eligible" = $3[0m  [["order_id", 3], ["source_type", "Spree::TaxRate"], ["eligible", "t"]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::Adjustment Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_shipments" ON "spree_adjustments"."adjustable_id" = "spree_shipments"."id" WHERE "spree_shipments"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) LIMIT $3[0m  [["order_id", 3], ["adjustable_type", "Spree::Shipment"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) AND "spree_adjustments"."eligible" = $3 LIMIT $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", "t"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("spree_payments"."amount") FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."source_type" = $2 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))[0m  [["order_id", 3], ["source_type", "Spree::StoreCredit"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/checkout/_summary.html.erb (22.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/checkout/edit.html.erb within spree/layouts/spree_application (253.8ms)
  [1m[36mSpree::Preference Load (1.0ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (4.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_translations.html.erb (1.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_head.html.erb (254.1ms)
  [1m[36mSpree::Tracker Load (0.7ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1 ORDER BY "spree_trackers"."id" ASC LIMIT $2[0m  [["active", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_analytics.js.erb (2.8ms)
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[1;32mDeface:[0m 1 overrides found for 'spree/shared/_nav_bar'
[1;32mDeface:[0m 'auth_shared_login_bar' matched 1 times with 'li#search-bar'
[1;32mDeface: [ERROR][0m The original source for 'auth_shared_login_bar' has changed, this override should be reviewed to ensure it's still valid.
  [1m[35m (0.7ms)[0m  [1m[34mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_search.html.erb (5.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_nav_bar.html.erb (27.6ms)
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::LineItem Load (0.0ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 3 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mCACHE Spree::Variant Load (0.0ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 19[0m
  [1m[36mCACHE Spree::Image Load (0.0ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 19 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mCACHE Spree::OptionValueVariant Load (0.0ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 19[0m
  [1m[36mCACHE Spree::OptionValue Load (0.0ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 6)[0m
  [1m[36mCACHE Spree::Product Load (0.0ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_main_nav_bar.html.erb (11.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_header.html.erb (107.5ms)
Completed 200 OK in 841ms (Views: 703.7ms | ActiveRecord: 47.5ms)


Started GET "/cart_link" for 127.0.0.1 at 2017-07-26 13:24:57 +0200
Processing by Spree::StoreController#cart_link as */*
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.9ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.8ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 3 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 19[0m
  [1m[36mSpree::Image Load (0.7ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 19 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::OptionValueVariant Load (0.5ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 19[0m
  [1m[36mSpree::OptionValue Load (0.6ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 6)[0m
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_link_to_cart.html.erb (23.7ms)
Completed 200 OK in 310ms (Views: 280.0ms | ActiveRecord: 7.9ms)


Started PATCH "/checkout/update/delivery" for 127.0.0.1 at 2017-07-26 13:25:06 +0200
Processing by Spree::CheckoutController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"YPqkRFVSlh8V6yDKvJGyps5YadDpzGbdyM1CD+Xc/8WmNQAS6H8fUPXcRHGMTaQRJM7F+2bkE6+5R0GwkLlRWg==", "order"=>{"state_lock_version"=>"1", "shipments_attributes"=>{"0"=>{"selected_shipping_rate_id"=>"10", "id"=>"3"}}}, "commit"=>"Save and Continue", "state"=>"delivery"}
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (2.3ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.2ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.6ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 3 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 19[0m
  [1m[36mSpree::Image Load (0.7ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 19 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::OptionValueVariant Load (0.6ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 19[0m
  [1m[36mSpree::OptionValue Load (0.9ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 6)[0m
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  [1m[36mSpree::Adjustment Load (0.8ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 3 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[36mSpree::Order Load (0.7ms)[0m  [1m[34mSELECT "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL AND (id != 3)[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[37mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_orders" SET "state_lock_version" = COALESCE("state_lock_version", 0) + 1 WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (0.8ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::LineItem Load (0.7ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 ORDER BY "spree_line_items"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (1.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 19], ["active", "t"]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.7ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/auth_configuration/registration_step"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Shipment Load (0.8ms)[0m  [1m[34mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 AND "spree_shipments"."id" = 3[0m  [["order_id", 3]]
  [1m[35mSQL (2.2ms)[0m  [1m[33mUPDATE "spree_shipping_rates" SET "selected" = 'f' WHERE "spree_shipping_rates"."id" IN (SELECT "spree_shipping_rates"."id" FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 ORDER BY "spree_shipping_rates"."cost" ASC)[0m  [["shipment_id", 3]]
  [1m[36mSpree::ShippingRate Load (0.8ms)[0m  [1m[34mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."id" = $2 ORDER BY "spree_shipping_rates"."cost" ASC LIMIT $3[0m  [["shipment_id", 3], ["id", 10], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_shipping_rates" SET "selected" = $1, "updated_at" = $2 WHERE "spree_shipping_rates"."id" = $3[0m  [["selected", "t"], ["updated_at", "2017-07-26 11:25:06.895728"], ["id", 10]]
  [1m[36mSpree::Shipment Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 AND ("spree_shipments"."id" != $2) LIMIT $3[0m  [["number", "H21517727852"], ["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Shipment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 AND ("spree_shipments"."id" != $2) LIMIT $3[0m  [["number", "H21517727852"], ["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Order Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Shipment Load (0.6ms)[0m  [1m[34mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::ShippingRate Load (0.7ms)[0m  [1m[34mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2 ORDER BY "spree_shipping_rates"."cost" ASC LIMIT $3[0m  [["shipment_id", 3], ["selected", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."included" = $3[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Shipment"], ["included", "f"]]
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "spree_shipments" SET "cost" = 5.0, "adjustment_total" = 0, "updated_at" = '2017-07-26 11:25:06.924414' WHERE "spree_shipments"."id" = $1[0m  [["id", 3]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35mSQL (3.4ms)[0m  [1m[33mUPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 19.99, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 5.0, "promo_total" = 0.0, "total" = 24.99, "updated_at" = '2017-07-26 11:25:06.929931' WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."included" = $3[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Shipment"], ["included", "f"]]
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "spree_shipments" SET "cost" = 5.0, "adjustment_total" = 0, "updated_at" = '2017-07-26 11:25:06.938523' WHERE "spree_shipments"."id" = $1[0m  [["id", 3]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35mSQL (1.8ms)[0m  [1m[33mUPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 19.99, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 5.0, "promo_total" = 0.0, "total" = 24.99, "updated_at" = '2017-07-26 11:25:06.943559' WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/tax_using_ship_address"], ["LIMIT", 1]]
  [1m[36mSpree::Address Load (3.2ms)[0m  [1m[34mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT "spree_zones"."id" AS t0_r0, "spree_zones"."name" AS t0_r1, "spree_zones"."description" AS t0_r2, "spree_zones"."default_tax" AS t0_r3, "spree_zones"."zone_members_count" AS t0_r4, "spree_zones"."created_at" AS t0_r5, "spree_zones"."updated_at" AS t0_r6, "spree_zones"."kind" AS t0_r7, "spree_zone_members"."id" AS t1_r0, "spree_zone_members"."zoneable_type" AS t1_r1, "spree_zone_members"."zoneable_id" AS t1_r2, "spree_zone_members"."zone_id" AS t1_r3, "spree_zone_members"."created_at" AS t1_r4, "spree_zone_members"."updated_at" AS t1_r5 FROM "spree_zones" LEFT OUTER JOIN "spree_zone_members" ON "spree_zone_members"."zone_id" = "spree_zones"."id" WHERE ((spree_zone_members.zoneable_type = 'Spree::Country' AND spree_zone_members.zoneable_id = 68) OR (spree_zone_members.zoneable_type = 'Spree::State' AND spree_zone_members.zoneable_id = 628)) ORDER BY spree_zones.zone_members_count, spree_zones.created_at[0m
  [1m[35m (2.1ms)[0m  [1m[34mSELECT DISTINCT "spree_zones"."id" FROM "spree_zones" INNER JOIN "spree_zone_members" ON "spree_zone_members"."zone_id" = "spree_zones"."id" AND "spree_zone_members"."zoneable_type" = $1 INNER JOIN "spree_countries" ON "spree_countries"."id" = "spree_zone_members"."zoneable_id" INNER JOIN "spree_zone_members" "zone_members_spree_countries_join" ON "zone_members_spree_countries_join"."zoneable_id" = "spree_countries"."id" AND "zone_members_spree_countries_join"."zoneable_type" = $2 INNER JOIN "spree_zones" "zones_spree_countries" ON "zones_spree_countries"."id" = "zone_members_spree_countries_join"."zone_id" WHERE (zone_members_spree_countries_join.zone_id = 1)[0m  [["zoneable_type", "Spree::Country"], ["zoneable_type", "Spree::Country"]]
  [1m[36mSpree::TaxRate Load (1.0ms)[0m  [1m[34mSELECT "spree_tax_rates".* FROM "spree_tax_rates" WHERE "spree_tax_rates"."deleted_at" IS NULL AND "spree_tax_rates"."zone_id" = 1[0m
  [1m[36mSpree::Adjustment Load (1.6ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = 'Spree::LineItem' AND "spree_adjustments"."adjustable_id" IN (SELECT "spree_line_items"."id" FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 ORDER BY "spree_line_items"."created_at" ASC) AND "spree_adjustments"."source_type" = $2[0m  [["order_id", 3], ["source_type", "Spree::TaxRate"]]
  [1m[36mSpree::TaxCategory Load (0.7ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (2.2ms)[0m  [1m[33mUPDATE "spree_line_items" SET "pre_tax_amount" = 19.99 WHERE "spree_line_items"."id" = $1[0m  [["id", 3]]
  [1m[35m (2.5ms)[0m  [1m[34mSELECT DISTINCT "spree_zones"."id" FROM "spree_zones" INNER JOIN "spree_zone_members" ON "spree_zone_members"."zone_id" = "spree_zones"."id" AND "spree_zone_members"."zoneable_type" = $1 INNER JOIN "spree_countries" ON "spree_countries"."id" = "spree_zone_members"."zoneable_id" INNER JOIN "spree_zone_members" "zone_members_spree_countries_join" ON "zone_members_spree_countries_join"."zoneable_id" = "spree_countries"."id" AND "zone_members_spree_countries_join"."zoneable_type" = $2 INNER JOIN "spree_zones" "zones_spree_countries" ON "zones_spree_countries"."id" = "zone_members_spree_countries_join"."zone_id" WHERE (zone_members_spree_countries_join.zone_id = 1)[0m  [["zoneable_type", "Spree::Country"], ["zoneable_type", "Spree::Country"]]
  [1m[36mSpree::TaxRate Load (0.9ms)[0m  [1m[34mSELECT "spree_tax_rates".* FROM "spree_tax_rates" WHERE "spree_tax_rates"."deleted_at" IS NULL AND "spree_tax_rates"."zone_id" = 1[0m
  [1m[36mSpree::Adjustment Load (1.2ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = 'Spree::Shipment' AND "spree_adjustments"."adjustable_id" IN (SELECT "spree_shipments"."id" FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1) AND "spree_adjustments"."source_type" = $2[0m  [["order_id", 3], ["source_type", "Spree::TaxRate"]]
  [1m[35mSQL (2.4ms)[0m  [1m[33mUPDATE "spree_shipments" SET "pre_tax_amount" = 5.0 WHERE "spree_shipments"."id" = $1[0m  [["id", 3]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "spree_promotions"."id" FROM "spree_promotions" INNER JOIN "spree_order_promotions" ON "spree_promotions"."id" = "spree_order_promotions"."promotion_id" WHERE "spree_order_promotions"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (19.4ms)[0m  [1m[34mSELECT "spree_promotion_actions"."promotion_id" FROM "spree_promotion_actions" WHERE "spree_promotion_actions"."type" IN ('Spree::Promotion::Actions::FreeShipping') AND "spree_promotion_actions"."deleted_at" IS NULL[0m
  [1m[36mSpree::Promotion Load (0.7ms)[0m  [1m[34mSELECT "spree_promotions".* FROM "spree_promotions" WHERE (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2017-07-26 11:25:07.007876') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2017-07-26 11:25:07.008134') AND 1=0 AND "spree_promotions"."path" IS NULL[0m
  [1m[36mSpree::Shipment Load (0.7ms)[0m  [1m[34mSELECT  "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction'[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Shipment"]]
  [1m[36mSpree::Adjustment Load (0.9ms)[0m  [1m[34mSELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction' AND "spree_adjustments"."eligible" = $3 ORDER BY amount ASC, created_at DESC, id DESC LIMIT $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Shipment"], ["eligible", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."included" = $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Shipment"], ["source_type", "Spree::TaxRate"], ["included", "t"]]
  [1m[36mSpree::Adjustment Load (1.0ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."included" = $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Shipment"], ["source_type", "Spree::TaxRate"], ["included", "f"]]
  [1m[35mSQL (3.0ms)[0m  [1m[33mUPDATE "spree_shipments" SET "non_taxable_adjustment_total" = 0, "taxable_adjustment_total" = 0.0, "promo_total" = 0.0, "included_tax_total" = 0, "additional_tax_total" = 0, "adjustment_total" = 0.0, "updated_at" = '2017-07-26 11:25:07.046788' WHERE "spree_shipments"."id" = $1[0m  [["id", 3]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35mSQL (1.8ms)[0m  [1m[33mUPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 19.99, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 5.0, "promo_total" = 0.0, "total" = 24.99, "updated_at" = '2017-07-26 11:25:07.055130' WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Order Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[36mSpree::State Load (0.7ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT $2[0m  [["id", 628], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Country Load (0.0ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/address_requires_state"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_orders" SET "state" = $1, "updated_at" = $2 WHERE "spree_orders"."id" = $3[0m  [["state", "payment"], ["updated_at", "2017-07-26 11:25:07.072156"], ["id", 3]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_state_changes" ("name", "previous_state", "stateful_id", "user_id", "stateful_type", "next_state", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "order"], ["previous_state", "delivery"], ["stateful_id", 3], ["user_id", 2], ["stateful_type", "Spree::Order"], ["next_state", "payment"], ["created_at", "2017-07-26 11:25:07.079814"], ["updated_at", "2017-07-26 11:25:07.079814"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Order Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Payment Load (1.3ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."state" = $2 ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3], ["state", "completed"]]
  [1m[35m (2.5ms)[0m  [1m[34mSELECT SUM(price * quantity) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_line_items"."adjustment_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_shipments"."adjustment_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."included_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."included_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."additional_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_shipments"."additional_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_line_items"."promo_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("spree_shipments"."promo_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."eligible" = $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["source_type", "Spree::PromotionAction"], ["eligible", "t"]]
  [1m[35mSQL (2.1ms)[0m  [1m[33mUPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 19.99, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 5.0, "promo_total" = 0.0, "total" = 24.99, "updated_at" = '2017-07-26 11:25:07.129108' WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
Redirected to http://localhost:3000/checkout/payment
Completed 302 Found in 338ms (ActiveRecord: 123.7ms)


Started GET "/checkout/payment" for 127.0.0.1 at 2017-07-26 13:25:07 +0200
Processing by Spree::CheckoutController#edit as HTML
  Parameters: {"state"=>"payment"}
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.9ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.8ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 3 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 19[0m
  [1m[36mSpree::Image Load (0.8ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 19 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::OptionValueVariant Load (0.6ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 19[0m
  [1m[36mSpree::OptionValue Load (0.6ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 6)[0m
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  [1m[36mSpree::Adjustment Load (0.8ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 3 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[36mSpree::Order Load (1.2ms)[0m  [1m[34mSELECT "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL AND (id != 3)[0m  [["user_id", 2]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (0.7ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 19], ["active", "t"]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::Shipment Load (0.7ms)[0m  [1m[34mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::StockLocation Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (4.0ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_variants"."id" AS t1_r0, "spree_variants"."sku" AS t1_r1, "spree_variants"."weight" AS t1_r2, "spree_variants"."height" AS t1_r3, "spree_variants"."width" AS t1_r4, "spree_variants"."depth" AS t1_r5, "spree_variants"."deleted_at" AS t1_r6, "spree_variants"."is_master" AS t1_r7, "spree_variants"."product_id" AS t1_r8, "spree_variants"."cost_price" AS t1_r9, "spree_variants"."position" AS t1_r10, "spree_variants"."cost_currency" AS t1_r11, "spree_variants"."track_inventory" AS t1_r12, "spree_variants"."tax_category_id" AS t1_r13, "spree_variants"."updated_at" AS t1_r14, "spree_variants"."discontinue_on" AS t1_r15, "spree_variants"."created_at" AS t1_r16 FROM "spree_inventory_units" INNER JOIN "spree_variants" ON "spree_variants"."id" = "spree_inventory_units"."variant_id" AND "spree_variants"."deleted_at" IS NULL WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 3]]
  [1m[36mSpree::Role Load (0.7ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mSpree::Preference Load (0.8ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/auth_configuration/registration_step"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/layout"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/checkout/edit.html.erb within spree/layouts/spree_application
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::Taxon Load (2.2ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_taxonomies" ON "spree_taxonomies"."id" = "spree_taxons"."taxonomy_id" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxonomies"."name" = $2 LIMIT $3[0m  [["product_id", 3], ["name", "Categories"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (1.5ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_taxonomies" ON "spree_taxonomies"."id" = "spree_taxons"."taxonomy_id" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxonomies"."name" = $2 LIMIT $3[0m  [["product_id", 3], ["name", "Brands"], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.9ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.6ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_add_items.js.erb (16.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_checkout.js.erb (42.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_error_messages.html.erb (0.6ms)
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::CreditCard Load (2.4ms)[0m  [1m[34mSELECT "spree_credit_cards".* FROM "spree_credit_cards" WHERE "spree_credit_cards"."user_id" = $1 AND ("spree_credit_cards"."gateway_customer_profile_id" IS NOT NULL)[0m  [["user_id", 2]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("spree_payments"."amount") FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."source_type" = $2 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))[0m  [["order_id", 3], ["source_type", "Spree::StoreCredit"]]
  [1m[36mSpree::StoreCredit Load (14.2ms)[0m  [1m[34mSELECT "spree_store_credits".* FROM "spree_store_credits" WHERE "spree_store_credits"."deleted_at" IS NULL AND "spree_store_credits"."user_id" = $1[0m  [["user_id", 2]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/checkout/payment/_storecredit.html.erb (29.6ms)
  [1m[36mSpree::PaymentMethod Load (2.5ms)[0m  [1m[34mSELECT "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."active" = $1 AND "spree_payment_methods"."display_on" IN ('front_end', 'both') ORDER BY "spree_payment_methods"."position" ASC[0m  [["active", "t"]]
  [1m[36mSpree::Address Load (0.5ms)[0m  [1m[34mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/checkout/payment/_gateway.html.erb (13.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/checkout/payment/_check.html.erb (0.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/checkout/_payment.html.erb (204.5ms)
  [1m[36mSpree::Adjustment Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_line_items" ON "spree_adjustments"."adjustable_id" = "spree_line_items"."id" WHERE "spree_line_items"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) LIMIT $3[0m  [["order_id", 3], ["adjustable_type", "Spree::LineItem"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.8ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1 AND ("spree_adjustments".amount != 0) AND "spree_adjustments"."source_type" = $2 AND "spree_adjustments"."eligible" = $3[0m  [["order_id", 3], ["source_type", "Spree::TaxRate"], ["eligible", "t"]]
  [1m[36mCACHE Spree::Payment Load (0.2ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.1ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::Adjustment Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_shipments" ON "spree_adjustments"."adjustable_id" = "spree_shipments"."id" WHERE "spree_shipments"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) LIMIT $3[0m  [["order_id", 3], ["adjustable_type", "Spree::Shipment"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) AND "spree_adjustments"."eligible" = $3 LIMIT $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", "t"], ["LIMIT", 1]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_payments"."amount") FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."source_type" = $2 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))[0m  [["order_id", 3], ["source_type", "Spree::StoreCredit"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/checkout/_summary.html.erb (28.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/checkout/edit.html.erb within spree/layouts/spree_application (377.5ms)
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (1.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_translations.html.erb (0.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_head.html.erb (203.1ms)
  [1m[36mSpree::Tracker Load (1.4ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1 ORDER BY "spree_trackers"."id" ASC LIMIT $2[0m  [["active", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_analytics.js.erb (3.9ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[1;32mDeface:[0m 1 overrides found for 'spree/shared/_nav_bar'
[1;32mDeface:[0m 'auth_shared_login_bar' matched 1 times with 'li#search-bar'
[1;32mDeface: [ERROR][0m The original source for 'auth_shared_login_bar' has changed, this override should be reviewed to ensure it's still valid.
  [1m[35m (1.5ms)[0m  [1m[34mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL[0m
  [1m[36mSpree::Taxon Load (1.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_search.html.erb (11.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_nav_bar.html.erb (34.3ms)
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::LineItem Load (0.0ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 3 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mCACHE Spree::Variant Load (0.0ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 19[0m
  [1m[36mCACHE Spree::Image Load (0.0ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 19 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mCACHE Spree::OptionValueVariant Load (0.0ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 19[0m
  [1m[36mCACHE Spree::OptionValue Load (0.0ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 6)[0m
  [1m[36mCACHE Spree::Product Load (0.0ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_main_nav_bar.html.erb (17.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_header.html.erb (118.5ms)
Completed 200 OK in 947ms (Views: 783.5ms | ActiveRecord: 74.2ms)


Started GET "/cart_link" for 127.0.0.1 at 2017-07-26 13:25:08 +0200
Processing by Spree::StoreController#cart_link as */*
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.9ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.7ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 3 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 19[0m
  [1m[36mSpree::Image Load (0.8ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 19 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::OptionValueVariant Load (0.5ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 19[0m
  [1m[36mSpree::OptionValue Load (0.6ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 6)[0m
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_link_to_cart.html.erb (24.1ms)
Completed 200 OK in 346ms (Views: 316.2ms | ActiveRecord: 7.9ms)


Started PATCH "/checkout/update/payment" for 127.0.0.1 at 2017-07-26 13:25:43 +0200
Processing by Spree::CheckoutController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7Td1A6801pmhoBCCUd2syMPWaCK9TOycbVCIx/HX+pgr+NFVEhlf1kGXdDlhAbp/KUDECTJkme4c2ot4hLJUBw==", "order"=>{"state_lock_version"=>"2", "payments_attributes"=>[{"payment_method_id"=>"2"}], "coupon_code"=>""}, "payment_source"=>{"2"=>{"name"=>"jorge cf", "number"=>"[FILTERED]", "expiry"=>"", "verification_value"=>"[FILTERED]", "cc_type"=>""}}, "commit"=>"Save and Continue", "state"=>"payment"}
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.9ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.6ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 3 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 19[0m
  [1m[36mSpree::Image Load (1.1ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 19 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::OptionValueVariant Load (0.5ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 19[0m
  [1m[36mSpree::OptionValue Load (0.7ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 6)[0m
  [1m[36mSpree::Product Load (1.2ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  [1m[36mSpree::Adjustment Load (0.8ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 3 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL AND (id != 3)[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Order Load (1.0ms)[0m  [1m[37mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_orders" SET "state_lock_version" = COALESCE("state_lock_version", 0) + 1 WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (2.9ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (0.8ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::LineItem Load (0.6ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 ORDER BY "spree_line_items"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 19], ["active", "t"]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::User Load (1.2ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::Shipment Load (0.8ms)[0m  [1m[34mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::StockLocation Load (0.5ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_variants"."id" AS t1_r0, "spree_variants"."sku" AS t1_r1, "spree_variants"."weight" AS t1_r2, "spree_variants"."height" AS t1_r3, "spree_variants"."width" AS t1_r4, "spree_variants"."depth" AS t1_r5, "spree_variants"."deleted_at" AS t1_r6, "spree_variants"."is_master" AS t1_r7, "spree_variants"."product_id" AS t1_r8, "spree_variants"."cost_price" AS t1_r9, "spree_variants"."position" AS t1_r10, "spree_variants"."cost_currency" AS t1_r11, "spree_variants"."track_inventory" AS t1_r12, "spree_variants"."tax_category_id" AS t1_r13, "spree_variants"."updated_at" AS t1_r14, "spree_variants"."discontinue_on" AS t1_r15, "spree_variants"."created_at" AS t1_r16 FROM "spree_inventory_units" INNER JOIN "spree_variants" ON "spree_variants"."id" = "spree_inventory_units"."variant_id" AND "spree_variants"."deleted_at" IS NULL WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 3]]
  [1m[36mSpree::Role Load (1.0ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/auth_configuration/registration_step"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_payments"."amount") FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."source_type" = $2 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))[0m  [["order_id", 3], ["source_type", "Spree::StoreCredit"]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Payment Load (2.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."source_type" = $2 ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3], ["source_type", "Spree::StoreCredit"]]
  [1m[36mSpree::PaymentMethod Load (0.8ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Payment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_payments" WHERE "spree_payments"."number" = $1 LIMIT $2[0m  [["number", "P69SWMU5"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Payment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_payments" WHERE "spree_payments"."number" = $1 LIMIT $2[0m  [["number", "P69SWMU5"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Payment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_payments" WHERE "spree_payments"."number" = $1 LIMIT $2[0m  [["number", "P69SWMU5"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mSpree::ShippingRate Load (0.8ms)[0m  [1m[34mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2 ORDER BY "spree_shipping_rates"."cost" ASC LIMIT $3[0m  [["shipment_id", 3], ["selected", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.6ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."included" = $3[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Shipment"], ["included", "f"]]
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "spree_shipments" SET "cost" = 5.0, "adjustment_total" = 0, "updated_at" = '2017-07-26 11:25:43.564714' WHERE "spree_shipments"."id" = $1[0m  [["id", 3]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35mSQL (2.3ms)[0m  [1m[33mUPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 19.99, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 5.0, "promo_total" = 0.0, "total" = 24.99, "updated_at" = '2017-07-26 11:25:43.568907' WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/layout"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/checkout/edit.html.erb within spree/layouts/spree_application
  [1m[36mSpree::Payment Load (0.7ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::Taxon Load (2.0ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_taxonomies" ON "spree_taxonomies"."id" = "spree_taxons"."taxonomy_id" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxonomies"."name" = $2 LIMIT $3[0m  [["product_id", 3], ["name", "Categories"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (2.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_taxonomies" ON "spree_taxonomies"."id" = "spree_taxons"."taxonomy_id" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxonomies"."name" = $2 LIMIT $3[0m  [["product_id", 3], ["name", "Brands"], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Load (0.7ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" INNER JOIN "spree_option_value_variants" ON "spree_option_values"."id" = "spree_option_value_variants"."option_value_id" WHERE "spree_option_value_variants"."variant_id" = $1[0m  [["variant_id", 19]]
  [1m[36mSpree::OptionType Load (0.7ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.8ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_add_items.js.erb (26.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_checkout.js.erb (53.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_error_messages.html.erb (2.7ms)
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::CreditCard Load (0.6ms)[0m  [1m[34mSELECT "spree_credit_cards".* FROM "spree_credit_cards" WHERE "spree_credit_cards"."user_id" = $1 AND ("spree_credit_cards"."gateway_customer_profile_id" IS NOT NULL)[0m  [["user_id", 2]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("spree_payments"."amount") FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."source_type" = $2 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))[0m  [["order_id", 3], ["source_type", "Spree::StoreCredit"]]
  [1m[36mSpree::StoreCredit Load (0.6ms)[0m  [1m[34mSELECT "spree_store_credits".* FROM "spree_store_credits" WHERE "spree_store_credits"."deleted_at" IS NULL AND "spree_store_credits"."user_id" = $1[0m  [["user_id", 2]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/checkout/payment/_storecredit.html.erb (8.3ms)
  [1m[36mSpree::PaymentMethod Load (2.5ms)[0m  [1m[34mSELECT "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."active" = $1 AND "spree_payment_methods"."display_on" IN ('front_end', 'both') ORDER BY "spree_payment_methods"."position" ASC[0m  [["active", "t"]]
  [1m[36mSpree::Address Load (0.7ms)[0m  [1m[34mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/checkout/payment/_gateway.html.erb (11.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/checkout/payment/_check.html.erb (0.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/checkout/_payment.html.erb (116.3ms)
  [1m[36mSpree::Adjustment Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_line_items" ON "spree_adjustments"."adjustable_id" = "spree_line_items"."id" WHERE "spree_line_items"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) LIMIT $3[0m  [["order_id", 3], ["adjustable_type", "Spree::LineItem"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1 AND ("spree_adjustments".amount != 0) AND "spree_adjustments"."source_type" = $2 AND "spree_adjustments"."eligible" = $3[0m  [["order_id", 3], ["source_type", "Spree::TaxRate"], ["eligible", "t"]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.4ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::Adjustment Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_shipments" ON "spree_adjustments"."adjustable_id" = "spree_shipments"."id" WHERE "spree_shipments"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) LIMIT $3[0m  [["order_id", 3], ["adjustable_type", "Spree::Shipment"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) AND "spree_adjustments"."eligible" = $3 LIMIT $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", "t"], ["LIMIT", 1]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_payments"."amount") FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."source_type" = $2 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))[0m  [["order_id", 3], ["source_type", "Spree::StoreCredit"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/checkout/_summary.html.erb (28.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/checkout/edit.html.erb within spree/layouts/spree_application (320.2ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (3.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_translations.html.erb (0.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_head.html.erb (256.9ms)
  [1m[36mSpree::Tracker Load (0.6ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1 ORDER BY "spree_trackers"."id" ASC LIMIT $2[0m  [["active", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_analytics.js.erb (2.3ms)
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[1;32mDeface:[0m 1 overrides found for 'spree/shared/_nav_bar'
[1;32mDeface:[0m 'auth_shared_login_bar' matched 1 times with 'li#search-bar'
[1;32mDeface: [ERROR][0m The original source for 'auth_shared_login_bar' has changed, this override should be reviewed to ensure it's still valid.
  [1m[35m (1.4ms)[0m  [1m[34mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_search.html.erb (7.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_nav_bar.html.erb (37.0ms)
  [1m[36mSpree::Order Load (1.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.7ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 3 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 19[0m
  [1m[36mSpree::Image Load (1.4ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 19 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::OptionValueVariant Load (0.5ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 19[0m
  [1m[36mSpree::OptionValue Load (0.5ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 6)[0m
  [1m[36mSpree::Product Load (0.8ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_main_nav_bar.html.erb (21.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_header.html.erb (132.3ms)
Completed 200 OK in 1041ms (Views: 817.2ms | ActiveRecord: 78.2ms)


Started GET "/cart_link" for 127.0.0.1 at 2017-07-26 13:25:44 +0200
Processing by Spree::StoreController#cart_link as */*
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (1.0ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.7ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 3 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 19[0m
  [1m[36mSpree::Image Load (0.8ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 19 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::OptionValueVariant Load (0.5ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 19[0m
  [1m[36mSpree::OptionValue Load (0.6ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 6)[0m
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_link_to_cart.html.erb (25.5ms)
Completed 200 OK in 357ms (Views: 322.0ms | ActiveRecord: 8.0ms)


Started PATCH "/checkout/update/payment" for 127.0.0.1 at 2017-07-26 13:26:15 +0200
Processing by Spree::CheckoutController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"gDiB2DePdozvgOIXp5bRrHe0pc0KFSWtaBKh37C5HMRG9yWOiqL/ww+3hqyXSscbnSIJ5oU9UN8ZmKJgxdyyWw==", "order"=>{"state_lock_version"=>"3", "payments_attributes"=>[{"payment_method_id"=>"3"}], "coupon_code"=>""}, "payment_source"=>{"2"=>{"name"=>"jorge cf", "number"=>"[FILTERED]", "expiry"=>"", "verification_value"=>"[FILTERED]", "cc_type"=>""}}, "commit"=>"Save and Continue", "state"=>"payment"}
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (1.0ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.9ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.7ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 3 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 19[0m
  [1m[36mSpree::Image Load (0.7ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 19 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::OptionValueVariant Load (0.7ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 19[0m
  [1m[36mSpree::OptionValue Load (0.9ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 6)[0m
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  [1m[36mSpree::Adjustment Load (0.8ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 3 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[36mSpree::Order Load (1.0ms)[0m  [1m[34mSELECT "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL AND (id != 3)[0m  [["user_id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Order Load (1.0ms)[0m  [1m[37mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_orders" SET "state_lock_version" = COALESCE("state_lock_version", 0) + 1 WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (1.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (0.7ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::LineItem Load (0.7ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 ORDER BY "spree_line_items"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 19], ["active", "t"]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::Shipment Load (0.9ms)[0m  [1m[34mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::StockLocation Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_variants"."id" AS t1_r0, "spree_variants"."sku" AS t1_r1, "spree_variants"."weight" AS t1_r2, "spree_variants"."height" AS t1_r3, "spree_variants"."width" AS t1_r4, "spree_variants"."depth" AS t1_r5, "spree_variants"."deleted_at" AS t1_r6, "spree_variants"."is_master" AS t1_r7, "spree_variants"."product_id" AS t1_r8, "spree_variants"."cost_price" AS t1_r9, "spree_variants"."position" AS t1_r10, "spree_variants"."cost_currency" AS t1_r11, "spree_variants"."track_inventory" AS t1_r12, "spree_variants"."tax_category_id" AS t1_r13, "spree_variants"."updated_at" AS t1_r14, "spree_variants"."discontinue_on" AS t1_r15, "spree_variants"."created_at" AS t1_r16 FROM "spree_inventory_units" INNER JOIN "spree_variants" ON "spree_variants"."id" = "spree_inventory_units"."variant_id" AND "spree_variants"."deleted_at" IS NULL WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 3]]
  [1m[36mSpree::Role Load (1.0ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/auth_configuration/registration_step"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_payments"."amount") FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."source_type" = $2 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))[0m  [["order_id", 3], ["source_type", "Spree::StoreCredit"]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Payment Load (1.8ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."source_type" = $2 ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3], ["source_type", "Spree::StoreCredit"]]
  [1m[36mSpree::Order Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Payment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_payments" WHERE "spree_payments"."number" = $1 LIMIT $2[0m  [["number", "PARP10CI"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Payment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_payments" WHERE "spree_payments"."number" = $1 LIMIT $2[0m  [["number", "PARP10CI"], ["LIMIT", 1]]
  [1m[36mSpree::PaymentMethod Load (0.6ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Payment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_payments" WHERE "spree_payments"."number" = $1 LIMIT $2[0m  [["number", "PARP10CI"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (2.4ms)[0m  [1m[32mINSERT INTO "spree_payments" ("amount", "order_id", "payment_method_id", "state", "created_at", "updated_at", "number") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["amount", "24.99"], ["order_id", 3], ["payment_method_id", 3], ["state", "checkout"], ["created_at", "2017-07-26 11:26:15.245984"], ["updated_at", "2017-07-26 11:26:15.245984"], ["number", "PARP10CI"]]
  [1m[36mSpree::Payment Load (0.6ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."state" = $2 AND ("spree_payments"."id" != $3) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3], ["state", "checkout"], ["id", 3]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_orders" SET "updated_at" = '2017-07-26 11:26:15.254211' WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::ShippingRate Load (0.8ms)[0m  [1m[34mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2 ORDER BY "spree_shipping_rates"."cost" ASC LIMIT $3[0m  [["shipment_id", 3], ["selected", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.6ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."included" = $3[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Shipment"], ["included", "f"]]
  [1m[35mSQL (2.0ms)[0m  [1m[33mUPDATE "spree_shipments" SET "cost" = 5.0, "adjustment_total" = 0, "updated_at" = '2017-07-26 11:26:15.263434' WHERE "spree_shipments"."id" = $1[0m  [["id", 3]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35mSQL (2.2ms)[0m  [1m[33mUPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 19.99, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 5.0, "promo_total" = 0.0, "total" = 24.99, "updated_at" = '2017-07-26 11:26:15.270083' WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Payment Load (1.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::PaymentMethod Load (0.7ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (2.2ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 19], ["active", "t"]]
  [1m[36mSpree::Payment Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (1.2ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/auto_capture"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Order Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_orders" SET "state" = $1, "updated_at" = $2 WHERE "spree_orders"."id" = $3[0m  [["state", "complete"], ["updated_at", "2017-07-26 11:26:15.306458"], ["id", 3]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_state_changes" ("name", "previous_state", "stateful_id", "user_id", "stateful_type", "next_state", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "order"], ["previous_state", "payment"], ["stateful_id", 3], ["user_id", 2], ["stateful_type", "Spree::Order"], ["next_state", "complete"], ["created_at", "2017-07-26 11:26:15.312735"], ["updated_at", "2017-07-26 11:26:15.312735"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Order Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "spree_payments"."source_id" FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."source_type" = $2 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3], ["source_type", "Spree::CreditCard"]]
  [1m[36mSpree::CreditCard Load (0.5ms)[0m  [1m[34mSELECT "spree_credit_cards".* FROM "spree_credit_cards" WHERE 1=0[0m
  [1m[36mSpree::Adjustment Load (1.0ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))[0m  [["order_id", 3]]
  [1m[36mSpree::Reimbursement Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_reimbursements" WHERE "spree_reimbursements"."order_id" = $1 LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Reimbursement Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_reimbursements" WHERE "spree_reimbursements"."order_id" = $1 LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Reimbursement Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_reimbursements" WHERE "spree_reimbursements"."order_id" = $1 LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "spree_state_changes" ("name", "stateful_id", "user_id", "stateful_type", "next_state", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "payment"], ["stateful_id", 3], ["user_id", 2], ["stateful_type", "Spree::Order"], ["next_state", "balance_due"], ["created_at", "2017-07-26 11:26:15.401783"], ["updated_at", "2017-07-26 11:26:15.401783"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::InventoryUnit Load (0.5ms)[0m  [1m[34mSELECT "spree_inventory_units".* FROM "spree_inventory_units" WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 3]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/auto_capture_on_dispatch"], ["LIMIT", 1]]
  [1m[35mSQL (2.0ms)[0m  [1m[33mUPDATE "spree_shipments" SET "state" = 'pending', "updated_at" = '2017-07-26 11:26:15.413859' WHERE "spree_shipments"."id" = $1[0m  [["id", 3]]
  [1m[35mSQL (1.9ms)[0m  [1m[33mUPDATE "spree_inventory_units" SET "pending" = 'f', "updated_at" = '2017-07-26 11:26:15.417383' WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 3]]
  [1m[36mSpree::LineItem Load (0.7ms)[0m  [1m[34mSELECT  "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.8ms)[0m  [1m[34mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $1 AND "spree_stock_items"."variant_id" = 19 ORDER BY "spree_stock_items"."id" ASC LIMIT $2[0m  [["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.4ms)[0m  [1m[32mINSERT INTO "spree_stock_movements" ("stock_item_id", "quantity", "created_at", "updated_at", "originator_type", "originator_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["stock_item_id", 19], ["quantity", -1], ["created_at", "2017-07-26 11:26:15.460054"], ["updated_at", "2017-07-26 11:26:15.460054"], ["originator_type", "Spree::Shipment"], ["originator_id", 3]]
  [1m[36mSpree::Variant Load (0.5ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[37mSELECT  "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mSpree::StockItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND ("spree_stock_items"."id" != $2) AND "spree_stock_items"."stock_location_id" = $3 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $4[0m  [["variant_id", 19], ["id", 19], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_stock_items" SET "count_on_hand" = $1, "updated_at" = $2 WHERE "spree_stock_items"."id" = $3[0m  [["count_on_hand", 9], ["updated_at", "2017-07-26 11:26:15.477846"], ["id", 19]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 11:26:15.480984' WHERE "spree_variants"."id" = $1[0m  [["id", 19]]
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 11:26:15.485033' WHERE "spree_products"."id" = $1[0m  [["id", 3]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  [1m[36mSpree::Taxon Load (2.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (5.6ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 11:26:15.496985' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 11)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 11:26:15.509380' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_state_changes" ("name", "stateful_id", "user_id", "stateful_type", "next_state", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "shipment"], ["stateful_id", 3], ["user_id", 2], ["stateful_type", "Spree::Order"], ["next_state", "pending"], ["created_at", "2017-07-26 11:26:15.515669"], ["updated_at", "2017-07-26 11:26:15.515669"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Order Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R139847242"], ["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[33mUPDATE "spree_orders" SET "payment_state" = $1, "shipment_state" = $2, "updated_at" = $3 WHERE "spree_orders"."id" = $4[0m  [["payment_state", "balance_due"], ["shipment_state", "pending"], ["updated_at", "2017-07-26 11:26:15.526927"], ["id", 3]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_orders" SET "updated_at" = '2017-07-26 11:26:15.535992', "completed_at" = '2017-07-26 11:26:15.535992' WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: 6863e78d-0570-494f-aab2-1ebb5f6b7c72) to Async(mailers) with arguments: "Spree::OrderMailer", "confirm_email", "deliver_now", 3
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72] Performing ActionMailer::DeliveryJob (Job ID: 6863e78d-0570-494f-aab2-1ebb5f6b7c72) from Async(mailers) with arguments: "Spree::OrderMailer", "confirm_email", "deliver_now", 3
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   [1m[36mSpree::Order Load (0.7ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35mSQL (7.0ms)[0m  [1m[33mUPDATE "spree_orders" SET "confirmation_delivered" = 't' WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   [1m[36mSpree::Store Load (1.9ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   [1m[36mCACHE Spree::Store Load (0.0ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND (avs_response IN ('A','C','E','F','G','I','K','L','N','O','P','R','S','U','W','Z') OR (cvv_response_code IS NOT NULL and cvv_response_code != 'M') OR state = 'failed') LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   [1m[36mCACHE Spree::Store Load (0.0ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
Redirected to http://localhost:3000/orders/R139847242
Completed 302 Found in 486ms (ActiveRecord: 125.7ms)


[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   [1m[36mSpree::Preference Load (0.9ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/send_core_emails"], ["LIMIT", 1]]
Started GET "/orders/R139847242" for 127.0.0.1 at 2017-07-26 13:26:15 +0200
Processing by Spree::OrdersController#show as HTML
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/order_mailer/confirm_email.html.erb within layouts/spree/base_mailer
  Parameters: {"id"=>"R139847242"}
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   [1m[36mSpree::LineItem Load (1.3ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 ORDER BY "spree_line_items"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (2.5ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   [1m[36mSpree::Variant Load (1.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (1.1ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   [1m[36mSpree::Product Load (1.4ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (4.9ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   [1m[36mSpree::OptionValue Load (0.9ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" INNER JOIN "spree_option_value_variants" ON "spree_option_values"."id" = "spree_option_value_variants"."option_value_id" WHERE "spree_option_value_variants"."variant_id" = $1[0m  [["variant_id", 19]]
  [1m[36mSpree::Order Load (2.9ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   [1m[36mSpree::OptionType Load (3.5ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (3.7ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   [1m[36mSpree::OptionType Load (2.9ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   Rendered collection of /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_mailer_line_item.html.erb [1 times] (29.7ms)
  [1m[36mSpree::Order Load (23.2ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R139847242"], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/order_mailer/_subtotal.html.erb (1.0ms)
  [1m[36mSpree::Role Load (1.5ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 2]]
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   [1m[36mSpree::Adjustment Exists (2.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_line_items" ON "spree_adjustments"."adjustable_id" = "spree_line_items"."id" WHERE "spree_line_items"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 LIMIT $3[0m  [["order_id", 3], ["adjustable_type", "Spree::LineItem"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (2.0ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R139847242"], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   [1m[36mSpree::Shipment Load (3.7ms)[0m  [1m[34mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::LineItem Load (4.6ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 3 ORDER BY "spree_line_items"."created_at" ASC[0m
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   [1m[36mSpree::ShippingRate Load (2.5ms)[0m  [1m[34mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2 ORDER BY "spree_shipping_rates"."cost" ASC LIMIT $3[0m  [["shipment_id", 3], ["selected", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (3.2ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 19[0m
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   [1m[36mSpree::ShippingMethod Load (3.9ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::OptionValueVariant Load (5.9ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 19[0m
  [1m[36mSpree::OptionValue Load (2.5ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 6)[0m
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   [1m[36mSpree::Adjustment Exists (7.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1 AND "spree_adjustments"."eligible" = $2 AND "spree_adjustments"."source_type" = $3 LIMIT $4[0m  [["order_id", 3], ["eligible", "t"], ["source_type", "Spree::TaxRate"], ["LIMIT", 1]]
  [1m[36mSpree::Image Load (5.9ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 19 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   [1m[36mSpree::Adjustment Load (6.1ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
  [1m[36mSpree::Product Load (18.5ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/order_mailer/_total.html.erb (1.1ms)
  [1m[36mSpree::Address Load (1.9ms)[0m  [1m[34mSELECT "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = 3[0m
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/order_mailer/confirm_email.html.erb within layouts/spree/base_mailer (170.5ms)
  [1m[36mSpree::State Load (27.4ms)[0m  [1m[34mSELECT "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = 628[0m
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_base_mailer_stylesheets.html.erb (2.1ms)
  [1m[36mSpree::Address Load (2.7ms)[0m  [1m[34mSELECT "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = 4[0m
  [1m[36mCACHE Spree::State Load (0.0ms)[0m  [1m[34mSELECT "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = 628[0m
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   [1m[36mCACHE Spree::Store Load (0.0ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (1.1ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/layout"], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   [1m[36mCACHE Spree::Store Load (0.0ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/orders/show.html.erb within spree/layouts/spree_application
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_base_mailer_header.html.erb (58.3ms)
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_base_mailer_footer.html.erb (0.7ms)
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/order_mailer/confirm_email.text.erb
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   [1m[36mCACHE Spree::Adjustment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_line_items" ON "spree_adjustments"."adjustable_id" = "spree_line_items"."id" WHERE "spree_line_items"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 LIMIT $3[0m  [["order_id", 3], ["adjustable_type", "Spree::LineItem"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (58.7ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_taxonomies" ON "spree_taxonomies"."id" = "spree_taxons"."taxonomy_id" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxonomies"."name" = $2 LIMIT $3[0m  [["product_id", 3], ["name", "Categories"], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   [1m[36mCACHE Spree::Adjustment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1 AND "spree_adjustments"."eligible" = $2 AND "spree_adjustments"."source_type" = $3 LIMIT $4[0m  [["order_id", 3], ["eligible", "t"], ["source_type", "Spree::TaxRate"], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   [1m[36mCACHE Spree::Adjustment Load (0.1ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
  [1m[36mSpree::Taxon Load (2.9ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_taxonomies" ON "spree_taxonomies"."id" = "spree_taxons"."taxonomy_id" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxonomies"."name" = $2 LIMIT $3[0m  [["product_id", 3], ["name", "Brands"], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72]   Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/order_mailer/confirm_email.text.erb (13.3ms)
  [1m[36mSpree::OptionType Load (4.0ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (2.8ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_add_items.js.erb (93.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_purchase.js.erb (128.5ms)
  [1m[36mSpree::Preference Load (1.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (1.4ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::PaymentMethod Load (3.1ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (3.8ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/address_requires_state"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (3.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_address.html.erb (15.6ms)
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::PaymentMethod Load (0.0ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Country Load (0.0ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_address.html.erb (12.7ms)
  [1m[36mSpree::Shipment Load (14.0ms)[0m  [1m[34mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::StockLocation Load (2.6ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::ShippingRate Load (2.4ms)[0m  [1m[34mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2 ORDER BY "spree_shipping_rates"."cost" ASC LIMIT $3[0m  [["shipment_id", 3], ["selected", "t"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingMethod Load (9.9ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::PaymentMethod Load (0.0ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::PaymentMethod Load (0.0ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/payments/_payment.html.erb (8.2ms)
  [1m[36mSpree::Adjustment Exists (10.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_line_items" ON "spree_adjustments"."adjustable_id" = "spree_line_items"."id" WHERE "spree_line_items"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 LIMIT $3[0m  [["order_id", 3], ["adjustable_type", "Spree::LineItem"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Exists (17.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1 AND "spree_adjustments"."source_type" = $2 LIMIT $3[0m  [["order_id", 3], ["source_type", "Spree::TaxRate"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (3.7ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_order_details.html.erb (350.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/orders/show.html.erb within spree/layouts/spree_application (565.0ms)
  [1m[36mSpree::Preference Load (5.1ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_put_site_name_in_title"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (4.2ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/title_site_name_separator"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (7.6ms)
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72] Spree::OrderMailer#confirm_email: processed outbound mail in 1482.9ms
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_translations.html.erb (0.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_head.html.erb (565.6ms)
  [1m[36mSpree::Tracker Load (6.0ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1 ORDER BY "spree_trackers"."id" ASC LIMIT $2[0m  [["active", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_analytics.js.erb (10.6ms)
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72] Sent mail to jorge.cardenas@talentocorporativo.com (77.3ms)
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72] Date: Wed, 26 Jul 2017 13:26:17 +0200
From: spree@example.com
To: jorge.cardenas@talentocorporativo.com
Message-ID: <59787c5956069_b5273fe34676f64c76456@MacBook-Air-de-sistemas.local.mail>
Subject: Spree Demo Site Order Confirmation #R139847242
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_59787c5911256_b5273fe34676f64c7634f";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_59787c5911256_b5273fe34676f64c7634f
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Customer,

Please review and retain the following order information for your records.

============================================================
Order R139847242 Summary
============================================================
  ROR-00003 Ruby on Rails Baseball Jersey Size: S, Color: Green (1) @  $19.99 = $19.99
============================================================
Subtotal: $19.99

Shipping: UPS Ground (EU) $5.00


============================================================
Order Total: $24.99

Thank you for your business.

----==_mimepart_59787c5911256_b5273fe34676f64c7634f
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="viewport" content="width=device-width" />
		



	<style>body {
width: 100% !important; min-width: 100%; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; margin: 0; padding: 0;
}
.ExternalClass {
width: 100%;
}
.ExternalClass {
line-height: 100%;
}
#backgroundTable {
margin: 0; padding: 0; width: 100% !important; line-height: 100% !important;
}
img {
outline: none; text-decoration: none; -ms-interpolation-mode: bicubic; width: auto; max-width: 100%; float: left; clear: both; display: block;
}
body {
color: #222222; font-family: Helvetica, Arial, sans-serif; font-weight: normal; padding: 0; margin: 0; text-align: left; line-height: 1.3;
}
body {
font-size: 14px; line-height: 19px;
}
a:hover {
color: #2795b6 !important;
}
a:active {
color: #2795b6 !important;
}
a:visited {
color: #2ba6cb !important;
}
h1 a:active {
color: #2ba6cb !important;
}
h2 a:active {
color: #2ba6cb !important;
}
h3 a:active {
color: #2ba6cb !important;
}
h4 a:active {
color: #2ba6cb !important;
}
h5 a:active {
color: #2ba6cb !important;
}
h6 a:active {
color: #2ba6cb !important;
}
h1 a:visited {
color: #2ba6cb !important;
}
h2 a:visited {
color: #2ba6cb !important;
}
h3 a:visited {
color: #2ba6cb !important;
}
h4 a:visited {
color: #2ba6cb !important;
}
h5 a:visited {
color: #2ba6cb !important;
}
h6 a:visited {
color: #2ba6cb !important;
}
table.button:hover td {
background: #2795b6 !important;
}
table.button:visited td {
background: #2795b6 !important;
}
table.button:active td {
background: #2795b6 !important;
}
table.button:hover td a {
color: #ffffff !important;
}
table.button:visited td a {
color: #ffffff !important;
}
table.button:active td a {
color: #ffffff !important;
}
table.button:hover td {
background: #2795b6 !important;
}
table.tiny-button:hover td {
background: #2795b6 !important;
}
table.small-button:hover td {
background: #2795b6 !important;
}
table.medium-button:hover td {
background: #2795b6 !important;
}
table.large-button:hover td {
background: #2795b6 !important;
}
table.button:hover td a {
color: #ffffff !important;
}
table.button:active td a {
color: #ffffff !important;
}
table.button td a:visited {
color: #ffffff !important;
}
table.tiny-button:hover td a {
color: #ffffff !important;
}
table.tiny-button:active td a {
color: #ffffff !important;
}
table.tiny-button td a:visited {
color: #ffffff !important;
}
table.small-button:hover td a {
color: #ffffff !important;
}
table.small-button:active td a {
color: #ffffff !important;
}
table.small-button td a:visited {
color: #ffffff !important;
}
table.medium-button:hover td a {
color: #ffffff !important;
}
table.medium-button:active td a {
color: #ffffff !important;
}
table.medium-button td a:visited {
color: #ffffff !important;
}
table.large-button:hover td a {
color: #ffffff !important;
}
table.large-button:active td a {
color: #ffffff !important;
}
table.large-button td a:visited {
color: #ffffff !important;
}
table.secondary:hover td {
background: #d0d0d0 !important; color: #555555;
}
table.secondary:hover td a {
color: #555555 !important;
}
table.secondary td a:visited {
color: #555555 !important;
}
table.secondary:active td a {
color: #555555 !important;
}
table.success:hover td {
background: #457a1a !important;
}
table.alert:hover td {
background: #970b0e !important;
}
body.outlook p {
display: inline !important;
}
@media only screen and (max-width: 600px) {
  table[class="body"] img {
    max-width: auto !important; max-height: auto !important;
  }
  table[class="body"] center {
    min-width: 0 !important;
  }
  table[class="body"] .container {
    width: 95% !important;
  }
  table[class="body"] .row {
    width: 100% !important; display: block !important;
  }
  table[class="body"] .wrapper {
    display: block !important; padding-right: 0 !important;
  }
  table[class="body"] .columns {
    table-layout: fixed !important; float: none !important; width: 100% !important; padding-right: 0px !important; padding-left: 0px !important; display: block !important;
  }
  table[class="body"] .column {
    table-layout: fixed !important; float: none !important; width: 100% !important; padding-right: 0px !important; padding-left: 0px !important; display: block !important;
  }
  table[class="body"] .wrapper.first .columns {
    display: table !important;
  }
  table[class="body"] .wrapper.first .column {
    display: table !important;
  }
  table[class="body"] table.columns td {
    width: 100% !important;
  }
  table[class="body"] table.column td {
    width: 100% !important;
  }
  table[class="body"] .columns td.one {
    width: 8.333333% !important;
  }
  table[class="body"] .column td.one {
    width: 8.333333% !important;
  }
  table[class="body"] .columns td.two {
    width: 16.666666% !important;
  }
  table[class="body"] .column td.two {
    width: 16.666666% !important;
  }
  table[class="body"] .columns td.three {
    width: 25% !important;
  }
  table[class="body"] .column td.three {
    width: 25% !important;
  }
  table[class="body"] .columns td.four {
    width: 33.333333% !important;
  }
  table[class="body"] .column td.four {
    width: 33.333333% !important;
  }
  table[class="body"] .columns td.five {
    width: 41.666666% !important;
  }
  table[class="body"] .column td.five {
    width: 41.666666% !important;
  }
  table[class="body"] .columns td.six {
    width: 50% !important;
  }
  table[class="body"] .column td.six {
    width: 50% !important;
  }
  table[class="body"] .columns td.seven {
    width: 58.333333% !important;
  }
  table[class="body"] .column td.seven {
    width: 58.333333% !important;
  }
  table[class="body"] .columns td.eight {
    width: 66.666666% !important;
  }
  table[class="body"] .column td.eight {
    width: 66.666666% !important;
  }
  table[class="body"] .columns td.nine {
    width: 75% !important;
  }
  table[class="body"] .column td.nine {
    width: 75% !important;
  }
  table[class="body"] .columns td.ten {
    width: 83.333333% !important;
  }
  table[class="body"] .column td.ten {
    width: 83.333333% !important;
  }
  table[class="body"] .columns td.eleven {
    width: 91.666666% !important;
  }
  table[class="body"] .column td.eleven {
    width: 91.666666% !important;
  }
  table[class="body"] .columns td.twelve {
    width: 100% !important;
  }
  table[class="body"] .column td.twelve {
    width: 100% !important;
  }
  table[class="body"] td.offset-by-one {
    padding-left: 0 !important;
  }
  table[class="body"] td.offset-by-two {
    padding-left: 0 !important;
  }
  table[class="body"] td.offset-by-three {
    padding-left: 0 !important;
  }
  table[class="body"] td.offset-by-four {
    padding-left: 0 !important;
  }
  table[class="body"] td.offset-by-five {
    padding-left: 0 !important;
  }
  table[class="body"] td.offset-by-six {
    padding-left: 0 !important;
  }
  table[class="body"] td.offset-by-seven {
    padding-left: 0 !important;
  }
  table[class="body"] td.offset-by-eight {
    padding-left: 0 !important;
  }
  table[class="body"] td.offset-by-nine {
    padding-left: 0 !important;
  }
  table[class="body"] td.offset-by-ten {
    padding-left: 0 !important;
  }
  table[class="body"] td.offset-by-eleven {
    padding-left: 0 !important;
  }
  table[class="body"] table.columns td.expander {
    width: 1px !important;
  }
  table[class="body"] .right-text-pad {
    padding-left: 10px !important;
  }
  table[class="body"] .text-pad-right {
    padding-left: 10px !important;
  }
  table[class="body"] .left-text-pad {
    padding-right: 10px !important;
  }
  table[class="body"] .text-pad-left {
    padding-right: 10px !important;
  }
  table[class="body"] .hide-for-small {
    display: none !important;
  }
  table[class="body"] .show-for-desktop {
    display: none !important;
  }
  table[class="body"] .show-for-small {
    display: block !important; width: auto !important; overflow: visible !important;
  }
  table[class="body"] .hide-for-desktop {
    display: block !important; width: auto !important; overflow: visible !important;
  }
  table[class="body"] .right-text-pad {
    padding-left: 10px !important;
  }
  table[class="body"] .left-text-pad {
    padding-right: 10px !important;
  }
  .logo {
    margin-left: auto; margin-right: auto; float: none !important;
  }
}
</style></head>
	<body style="width: 100% !important; margin: 0; padding: 0; min-width: 100%; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; color: #222222; font-family: Helvetica, Arial, sans-serif; font-weight: normal; text-align: left; line-height: 19px; font-size: 14px;">
	  <table class="body" style="border-spacing: 0; margin: 20px 0 0; padding: 0; border-collapse: collapse; vertical-align: top; text-align: left; height: 100%; width: 100%; color: #222222; font-family: Helvetica, Arial, sans-serif; font-weight: normal; line-height: 19px; font-size: 14px;">
	    <tr style="vertical-align: top; padding: 0;" align="left">
	      <td class="center" align="center" valign="top" style="word-break: break-word; margin: 0; padding: 0; -webkit-hyphens: none; -moz-hyphens: none; hyphens: none; border-collapse: collapse !important; color: #222222; font-family: Helvetica, Arial, sans-serif; font-weight: normal; line-height: 19px; font-size: 14px;">
	        <center style="width: 100%; min-width: 580px;">
	          <!-- You can override this template to design your own header. -->
<table class="row header" style="border-spacing: 0; border-collapse: collapse; vertical-align: top; text-align: left; padding: 0px; width: 100%; position: relative;" bgcolor="#fff">
  <tr style="vertical-align: top; padding: 0;" align="left">
    <td class="center" align="center" style="word-break: break-word; margin: 0; padding: 0; -webkit-hyphens: none; -moz-hyphens: none; hyphens: none; border-collapse: collapse !important; color: #222222; font-family: Helvetica, Arial, sans-serif; font-weight: normal; line-height: 19px; font-size: 14px;" valign="top">
      <center style="width: 100%; min-width: 580px;">

        <table class="container" style="border-spacing: 0; border-collapse: collapse; vertical-align: top; text-align: inherit; padding: 0; margin: 0 auto; width: 580px;">
          <tr style="vertical-align: top; padding: 0;" align="left">
            <td class="wrapper last" style="word-break: break-word; margin: 0; padding: 10px 0px 0px; -webkit-hyphens: none; -moz-hyphens: none; hyphens: none; border-collapse: collapse !important; position: relative; color: #222222; font-family: Helvetica, Arial, sans-serif; font-weight: normal; line-height: 19px; font-size: 14px;" align="left" valign="top">

              <table class="twelve columns" style="border-spacing: 0; border-collapse: collapse; vertical-align: top; text-align: left; padding: 0; margin: 0 auto; width: 580px;">
                <tr style="vertical-align: top; padding: 0;" align="left">
                  <td class="twelve sub-columns last" style="word-break: break-word; margin: 0; padding: 0px 0px 10px; -webkit-hyphens: none; -moz-hyphens: none; hyphens: none; border-collapse: collapse !important; min-width: 0px; width: 100%; color: #222222; font-family: Helvetica, Arial, sans-serif; font-weight: normal; line-height: 19px; font-size: 14px;" align="left" valign="top">
                    <a class="template-label" href="http://demo.spreecommerce.org/" style="color: #2ba6cb; text-decoration: none; font-weight: bold; font-size: 11px;">
                      <img class="logo" alt="Spree Demo Site" title="Spree Demo Site" src="/assets/logo/spree_50-0ae687ccd486b63b01687b1df9e5394430f6fce3ab40c28250b179be4363ddc1.png" style="outline: none; border: none; text-decoration: none; -ms-interpolation-mode: bicubic; width: auto; max-width: 100%; clear: both; display: block;" align="left" />
</a>                  </td>
                  <td class="expander" style="word-break: break-word; margin: 0; padding: 0; -webkit-hyphens: none; -moz-hyphens: none; hyphens: none; border-collapse: collapse !important; visibility: hidden; width: 0px; color: #222222; font-family: Helvetica, Arial, sans-serif; font-weight: normal; line-height: 19px; font-size: 14px;" align="left" valign="top"></td>
                </tr>
              </table>

            </td>
          </tr>
        </table>

      </center>
    </td>
  </tr>
</table>

	          <table class="container" style="border-spacing: 0; border-collapse: collapse; vertical-align: top; text-align: inherit; padding: 0; margin: 0 auto; width: 580px;">
	            <tr style="vertical-align: top; padding: 0;" align="left">
	              <td style="word-break: break-word; margin: 0; padding: 0; -webkit-hyphens: none; -moz-hyphens: none; hyphens: none; border-collapse: collapse !important; color: #222222; font-family: Helvetica, Arial, sans-serif; font-weight: normal; line-height: 19px; font-size: 14px;" align="left" valign="top">
	                <table class="row" style="border-spacing: 0; padding: 0px; border-collapse: collapse; vertical-align: top; text-align: left; width: 100%; position: relative; display: block;">
	                  <tr style="vertical-align: top; padding: 0;" align="left">
	                    <td class="wrapper last" style="word-break: break-word; margin: 0; padding: 10px 0px 0px; -webkit-hyphens: none; -moz-hyphens: none; hyphens: none; border-collapse: collapse !important; position: relative; color: #222222; font-family: Helvetica, Arial, sans-serif; font-weight: normal; line-height: 19px; font-size: 14px;" align="left" valign="top">
	                      <table class="twelve columns" style="border-spacing: 0; border-collapse: collapse; vertical-align: top; text-align: left; padding: 0; margin: 0 auto; width: 580px;">
	                        <tr style="vertical-align: top; padding: 0;" align="left">
	                          <td style="word-break: break-word; margin: 0; padding: 0px 0px 10px; -webkit-hyphens: none; -moz-hyphens: none; hyphens: none; border-collapse: collapse !important; color: #222222; font-family: Helvetica, Arial, sans-serif; font-weight: normal; line-height: 19px; font-size: 14px;" align="left" valign="top">
	                            <table class="row header" style="border-spacing: 0; padding: 0px; border-collapse: collapse; vertical-align: top; text-align: left; width: 100%; position: relative; display: block;" bgcolor="#fff">
  <tr style="vertical-align: top; padding: 0;" align="left">
    <td style="word-break: break-word; margin: 0; padding: 0px 0px 10px; -webkit-hyphens: none; -moz-hyphens: none; hyphens: none; border-collapse: collapse !important; color: #222222; font-family: Helvetica, Arial, sans-serif; font-weight: normal; line-height: 19px; font-size: 14px;" align="left" valign="top">
      <p class="lede" style="color: #222222; font-family: Helvetica, Arial, sans-serif; font-weight: normal; line-height: 21px; padding: 0; margin: 0 0 10px; font-size: 18px;" align="left">
        Dear Customer,
      </p>
      <p style="color: #222222; font-family: Helvetica, Arial, sans-serif; font-weight: normal; line-height: 19px; padding: 0; margin: 0 0 10px; font-size: 14px;" align="left">
        Please review and retain the following order information for your records.
      </p>
      <p style="color: #222222; font-family: Helvetica, Arial, sans-serif; font-weight: normal; line-height: 19px; padding: 0; margin: 0 0 10px; font-size: 14px;" align="left">
        Order R139847242 Summary
      </p>
      <table class="container" style="border-spacing: 0; border-collapse: collapse; vertical-align: top; text-align: inherit; padding: 0; margin: 0 auto; width: 580px;">
        <tr style="vertical-align: top; padding: 0;" align="left">
          <td class="wrapper last" style="word-break: break-word; margin: 0; padding: 0px 0px 10px; -webkit-hyphens: none; -moz-hyphens: none; hyphens: none; border-collapse: collapse !important; position: relative; color: #222222; font-family: Helvetica, Arial, sans-serif; font-weight: normal; line-height: 19px; font-size: 14px;" align="left" valign="top">
            <table class="twelve columns" style="border-spacing: 0; border-collapse: collapse; vertical-align: top; text-align: left; padding: 0; margin: 0 auto; width: 580px;">
              <tr style="vertical-align: top; padding: 0;" align="left">
  <td class="six sub-columns" style="word-break: break-word; margin: 0; padding: 0px 10px 10px 0px; -webkit-hyphens: none; -moz-hyphens: none; hyphens: none; border-collapse: collapse !important; min-width: 0px; width: 50%; color: #222222; font-family: Helvetica, Arial, sans-serif; font-weight: normal; line-height: 19px; font-size: 14px;" align="left" valign="top">
    <strong>
      <a href="http://demo.spreecommerce.org/products/ruby-on-rails-baseball-jersey" style="color: #2ba6cb; text-decoration: none;">Ruby on Rails Baseball Jersey</a>
    </strong>
    Size: S, Color: Green    (ROR-00003)
  </td>
  <td class="six sub-columns last right" style="word-break: break-word; margin: 0; padding: 0px 0px 10px; -webkit-hyphens: none; -moz-hyphens: none; hyphens: none; border-collapse: collapse !important; min-width: 0px; width: 50%; color: #222222; font-family: Helvetica, Arial, sans-serif; font-weight: normal; line-height: 19px; font-size: 14px;" align="right" valign="top">
    1 x $19.99 = $19.99
  </td>
</tr>

              <tr style="vertical-align: top; padding: 0;" align="left">
  <td class="six sub-columns" style="word-break: break-word; margin: 0; padding: 0px 10px 10px 0px; -webkit-hyphens: none; -moz-hyphens: none; hyphens: none; border-collapse: collapse !important; min-width: 0px; width: 50%; color: #222222; font-family: Helvetica, Arial, sans-serif; font-weight: normal; line-height: 19px; font-size: 14px;" align="left" valign="top">
    Subtotal:
  </td>
  <td class="six sub-columns last right" style="word-break: break-word; margin: 0; padding: 0px 0px 10px; -webkit-hyphens: none; -moz-hyphens: none; hyphens: none; border-collapse: collapse !important; min-width: 0px; width: 50%; color: #222222; font-family: Helvetica, Arial, sans-serif; font-weight: normal; line-height: 19px; font-size: 14px;" align="right" valign="top">
    $19.99
  </td>
</tr>

                <tr style="vertical-align: top; padding: 0;" align="left">
                  <td class="six sub-columns" style="word-break: break-word; margin: 0; padding: 0px 10px 10px 0px; -webkit-hyphens: none; -moz-hyphens: none; hyphens: none; border-collapse: collapse !important; min-width: 0px; width: 50%; color: #222222; font-family: Helvetica, Arial, sans-serif; font-weight: normal; line-height: 19px; font-size: 14px;" align="left" valign="top">
                    Shipping UPS Ground (EU):
                  </td>
                  <td class="six sub-columns last right" style="word-break: break-word; margin: 0; padding: 0px 0px 10px; -webkit-hyphens: none; -moz-hyphens: none; hyphens: none; border-collapse: collapse !important; min-width: 0px; width: 50%; color: #222222; font-family: Helvetica, Arial, sans-serif; font-weight: normal; line-height: 19px; font-size: 14px;" align="right" valign="top">
                    $5.00
                  </td>
                </tr>
              <tr style="vertical-align: top; padding: 0;" align="left">
  <td class="six sub-columns" style="word-break: break-word; margin: 0; padding: 0px 10px 10px 0px; -webkit-hyphens: none; -moz-hyphens: none; hyphens: none; border-collapse: collapse !important; min-width: 0px; width: 50%; color: #222222; font-family: Helvetica, Arial, sans-serif; font-weight: normal; line-height: 19px; font-size: 14px;" align="left" valign="top">
    <strong>Order Total:</strong>
  </td>
  <td class="six sub-columns last right" style="word-break: break-word; margin: 0; padding: 0px 0px 10px; -webkit-hyphens: none; -moz-hyphens: none; hyphens: none; border-collapse: collapse !important; min-width: 0px; width: 50%; color: #222222; font-family: Helvetica, Arial, sans-serif; font-weight: normal; line-height: 19px; font-size: 14px;" align="right" valign="top">
    <strong>$24.99</strong>
  </td>
</tr>

            </table>
          </td>
        </tr>
      </table>
      <p style="color: #222222; font-family: Helvetica, Arial, sans-serif; font-weight: normal; line-height: 19px; padding: 0; margin: 0 0 10px; font-size: 14px;" align="left">
        Thank you for your business.
      </p>
    </td>
    <td class="expander" style="word-break: break-word; margin: 0; padding: 0; -webkit-hyphens: none; -moz-hyphens: none; hyphens: none; border-collapse: collapse !important; visibility: hidden; width: 0px; color: #222222; font-family: Helvetica, Arial, sans-serif; font-weight: normal; line-height: 19px; font-size: 14px;" align="left" valign="top"></td>
  </tr>
</table>

	                          </td>
	                          <td class="expander" style="word-break: break-word; margin: 0; padding: 0; -webkit-hyphens: none; -moz-hyphens: none; hyphens: none; border-collapse: collapse !important; visibility: hidden; width: 0px; color: #222222; font-family: Helvetica, Arial, sans-serif; font-weight: normal; line-height: 19px; font-size: 14px;" align="left" valign="top"></td>
	                        </tr>
	                      </table>
	                    </td>
	                  </tr>
	                </table>
	                <!-- You can override this template to design your own footer.
<table class="row footer">
  <tr>
    <td class="wrapper last">

      <table class="twelve columns">
        <tr>
          <td align="center">
            <center>
              <p style="text-align:center;"><a href="#">Terms</a> | <a href="#">Privacy</a> | <a href="#">Unsubscribe</a></p>
            </center>
          </td>
          <td class="expander"></td>
        </tr>
      </table>

    </td>
  </tr>
</table>
-->

	              <!-- container end below -->
	              </td>
	            </tr>
	          </table>
	        </center>
	      </td>
	    </tr>
	  </table>
	</body>
</html>

----==_mimepart_59787c5911256_b5273fe34676f64c7634f--

[1;32mDeface:[0m 1 overrides found for 'spree/shared/_nav_bar'
[ActiveJob] [ActionMailer::DeliveryJob] [6863e78d-0570-494f-aab2-1ebb5f6b7c72] Performed ActionMailer::DeliveryJob (Job ID: 6863e78d-0570-494f-aab2-1ebb5f6b7c72) from Async(mailers) in 1837.79ms
[1;32mDeface:[0m 'auth_shared_login_bar' matched 1 times with 'li#search-bar'
[1;32mDeface: [ERROR][0m The original source for 'auth_shared_login_bar' has changed, this override should be reviewed to ensure it's still valid.
  [1m[35m (1.9ms)[0m  [1m[34mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL[0m
  [1m[36mSpree::Taxon Load (1.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_search.html.erb (12.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_nav_bar.html.erb (37.5ms)
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_main_nav_bar.html.erb (4.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_header.html.erb (119.1ms)
Completed 200 OK in 1663ms (Views: 1256.2ms | ActiveRecord: 278.6ms)


Started GET "/cart_link" for 127.0.0.1 at 2017-07-26 13:26:17 +0200
Processing by Spree::StoreController#cart_link as */*
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.9ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.9ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_link_to_cart.html.erb (12.5ms)
Completed 200 OK in 335ms (Views: 306.1ms | ActiveRecord: 4.5ms)


Started GET "/" for 127.0.0.1 at 2017-07-26 13:26:24 +0200
Processing by Spree::HomeController#index as HTML
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (1.9ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.8ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/products_per_page"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/show_products_without_price"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/layout"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/home/index.html.erb within spree/layouts/spree_application
  [1m[36mSpree::Preference Load (1.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/max_level_in_taxons_menu"], ["LIMIT", 1]]
  [1m[36mSpree::Taxonomy Load (0.5ms)[0m  [1m[34mSELECT "spree_taxonomies".* FROM "spree_taxonomies" ORDER BY spree_taxonomies.position, spree_taxonomies.created_at[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IN (1, 2)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IN (2, 1) ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_taxonomies.html.erb (18.4ms)
  [1m[35m (3.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:26:24.371314') AND ("spree_products".available_on <= '2017-07-26 11:26:24.371287') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4) subquery_for_count[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 12], ["OFFSET", 0]]
  [1m[35mSQL (3.8ms)[0m  [1m[34mSELECT  DISTINCT "spree_products"."id" FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL LEFT OUTER JOIN "spree_product_promotion_rules" ON "spree_product_promotion_rules"."product_id" = "spree_products"."id" LEFT OUTER JOIN "spree_promotion_rules" ON "spree_promotion_rules"."id" = "spree_product_promotion_rules"."promotion_rule_id" LEFT OUTER JOIN "spree_promotions" ON "spree_promotions"."id" = "spree_promotion_rules"."promotion_id" AND "spree_promotions"."advertise" = $2 AND (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2017-07-26 11:26:24.506491') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2017-07-26 11:26:24.506644') WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:26:24.371314') AND ("spree_products".available_on <= '2017-07-26 11:26:24.371287') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $3 LIMIT $4 OFFSET $5[0m  [["is_master", "t"], ["advertise", "t"], ["currency", "USD"], ["LIMIT", 12], ["OFFSET", 0]]
  [1m[35m (2.8ms)[0m  [1m[34mSELECT MAX("spree_products"."updated_at") FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL LEFT OUTER JOIN "spree_product_promotion_rules" ON "spree_product_promotion_rules"."product_id" = "spree_products"."id" LEFT OUTER JOIN "spree_promotion_rules" ON "spree_promotion_rules"."id" = "spree_product_promotion_rules"."promotion_rule_id" LEFT OUTER JOIN "spree_promotions" ON "spree_promotions"."id" = "spree_promotion_rules"."promotion_id" AND "spree_promotions"."advertise" = $2 AND (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2017-07-26 11:26:24.512939') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2017-07-26 11:26:24.513082') WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:26:24.371314') AND ("spree_products".available_on <= '2017-07-26 11:26:24.371287') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $3 AND "spree_products"."id" IN (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12)[0m  [["is_master", "t"], ["advertise", "t"], ["currency", "USD"]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.7ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:26:24.371314') AND ("spree_products".available_on <= '2017-07-26 11:26:24.371287') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2[0m  [["is_master", "t"], ["currency", "USD"]]
  [1m[36mSpree::Product Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:26:24.371314') AND ("spree_products".available_on <= '2017-07-26 11:26:24.371287') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mCACHE Spree::Product Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:26:24.371314') AND ("spree_products".available_on <= '2017-07-26 11:26:24.371287') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (1.9ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:26:24.371314') AND ("spree_products".available_on <= '2017-07-26 11:26:24.371287') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 12], ["OFFSET", 0]]
  [1m[36mSpree::TaxCategory Load (0.5ms)[0m  [1m[34mSELECT "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = 1[0m
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."is_master" = $1 AND "spree_variants"."product_id" IN (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12)[0m  [["is_master", "t"]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" IN (6, 12, 11, 10, 9, 8, 1, 2, 3, 4, 5, 7)[0m
  [1m[36mSpree::Image Load (1.6ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" IN (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12) ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::ProductPromotionRule Load (0.8ms)[0m  [1m[34mSELECT "spree_product_promotion_rules".* FROM "spree_product_promotion_rules" WHERE "spree_product_promotion_rules"."product_id" IN (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12)[0m
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.1ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.1ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.1ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.1ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.1ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_products.html.erb (377.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/home/index.html.erb within spree/layouts/spree_application (475.2ms)
  [1m[36mSpree::Preference Load (0.9ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (4.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_translations.html.erb (1.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_head.html.erb (186.8ms)
  [1m[36mSpree::Tracker Load (0.7ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1 ORDER BY "spree_trackers"."id" ASC LIMIT $2[0m  [["active", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_analytics.js.erb (2.8ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[1;32mDeface:[0m 1 overrides found for 'spree/shared/_nav_bar'
[1;32mDeface:[0m 'auth_shared_login_bar' matched 1 times with 'li#search-bar'
[1;32mDeface: [ERROR][0m The original source for 'auth_shared_login_bar' has changed, this override should be reviewed to ensure it's still valid.
  [1m[35m (0.7ms)[0m  [1m[34mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_search.html.erb (5.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_nav_bar.html.erb (34.0ms)
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_main_nav_bar.html.erb (4.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_header.html.erb (105.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_sidebar.html.erb (0.6ms)
Completed 200 OK in 971ms (Views: 894.8ms | ActiveRecord: 37.4ms)


Started GET "/cart_link" for 127.0.0.1 at 2017-07-26 13:26:25 +0200
Processing by Spree::StoreController#cart_link as */*
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.8ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (1.0ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_link_to_cart.html.erb (13.1ms)
Completed 304 Not Modified in 323ms (Views: 296.4ms | ActiveRecord: 5.3ms)


Started GET "/?page=2" for 127.0.0.1 at 2017-07-26 13:26:35 +0200
Processing by Spree::HomeController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (2.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/products_per_page"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/show_products_without_price"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/layout"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/home/index.html.erb within spree/layouts/spree_application
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/max_level_in_taxons_menu"], ["LIMIT", 1]]
  [1m[36mSpree::Taxonomy Load (0.5ms)[0m  [1m[34mSELECT "spree_taxonomies".* FROM "spree_taxonomies" ORDER BY spree_taxonomies.position, spree_taxonomies.created_at[0m
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IN (1, 2)[0m
  [1m[36mSpree::Taxon Load (1.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IN (2, 1) ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_taxonomies.html.erb (16.7ms)
  [1m[35m (2.1ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:26:35.513720') AND ("spree_products".available_on <= '2017-07-26 11:26:35.513696') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4) subquery_for_count[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 12], ["OFFSET", 12]]
  [1m[35mSQL (2.3ms)[0m  [1m[34mSELECT  DISTINCT "spree_products"."id" FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL LEFT OUTER JOIN "spree_product_promotion_rules" ON "spree_product_promotion_rules"."product_id" = "spree_products"."id" LEFT OUTER JOIN "spree_promotion_rules" ON "spree_promotion_rules"."id" = "spree_product_promotion_rules"."promotion_rule_id" LEFT OUTER JOIN "spree_promotions" ON "spree_promotions"."id" = "spree_promotion_rules"."promotion_id" AND "spree_promotions"."advertise" = $2 AND (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2017-07-26 11:26:35.654633') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2017-07-26 11:26:35.654783') WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:26:35.513720') AND ("spree_products".available_on <= '2017-07-26 11:26:35.513696') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $3 LIMIT $4 OFFSET $5[0m  [["is_master", "t"], ["advertise", "t"], ["currency", "USD"], ["LIMIT", 12], ["OFFSET", 12]]
  [1m[35m (2.1ms)[0m  [1m[34mSELECT MAX("spree_products"."updated_at") FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL LEFT OUTER JOIN "spree_product_promotion_rules" ON "spree_product_promotion_rules"."product_id" = "spree_products"."id" LEFT OUTER JOIN "spree_promotion_rules" ON "spree_promotion_rules"."id" = "spree_product_promotion_rules"."promotion_rule_id" LEFT OUTER JOIN "spree_promotions" ON "spree_promotions"."id" = "spree_promotion_rules"."promotion_id" AND "spree_promotions"."advertise" = $2 AND (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2017-07-26 11:26:35.659687') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2017-07-26 11:26:35.659850') WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:26:35.513720') AND ("spree_products".available_on <= '2017-07-26 11:26:35.513696') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $3 AND "spree_products"."id" IN (13, 14, 15, 16)[0m  [["is_master", "t"], ["advertise", "t"], ["currency", "USD"]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.1ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.6ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:26:35.513720') AND ("spree_products".available_on <= '2017-07-26 11:26:35.513696') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2[0m  [["is_master", "t"], ["currency", "USD"]]
  [1m[36mSpree::Product Exists (4.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:26:35.513720') AND ("spree_products".available_on <= '2017-07-26 11:26:35.513696') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 1], ["OFFSET", 12]]
  [1m[36mCACHE Spree::Product Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:26:35.513720') AND ("spree_products".available_on <= '2017-07-26 11:26:35.513696') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 1], ["OFFSET", 12]]
  [1m[36mSpree::Product Load (2.0ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:26:35.513720') AND ("spree_products".available_on <= '2017-07-26 11:26:35.513696') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 12], ["OFFSET", 12]]
  [1m[36mSpree::Variant Load (1.1ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."is_master" = $1 AND "spree_variants"."product_id" IN (13, 14, 15, 16)[0m  [["is_master", "t"]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" IN (15, 16, 13, 14)[0m
  [1m[36mSpree::Image Load (1.0ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" IN (13, 14, 15, 16) ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::ProductPromotionRule Load (0.6ms)[0m  [1m[34mSELECT "spree_product_promotion_rules".* FROM "spree_product_promotion_rules" WHERE "spree_product_promotion_rules"."product_id" IN (13, 14, 15, 16)[0m
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (0.6ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."is_default" = $1 LIMIT $2[0m  [["is_default", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::TaxCategory Load (0.0ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."is_default" = $1 LIMIT $2[0m  [["is_default", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::TaxCategory Load (0.0ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."is_default" = $1 LIMIT $2[0m  [["is_default", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.1ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::TaxCategory Load (0.0ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."is_default" = $1 LIMIT $2[0m  [["is_default", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_products.html.erb (237.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/home/index.html.erb within spree/layouts/spree_application (331.9ms)
  [1m[36mSpree::Preference Load (1.2ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (3.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_translations.html.erb (14.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_head.html.erb (206.5ms)
  [1m[36mSpree::Tracker Load (0.7ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1 ORDER BY "spree_trackers"."id" ASC LIMIT $2[0m  [["active", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_analytics.js.erb (3.1ms)
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[1;32mDeface:[0m 1 overrides found for 'spree/shared/_nav_bar'
[1;32mDeface:[0m 'auth_shared_login_bar' matched 1 times with 'li#search-bar'
[1;32mDeface: [ERROR][0m The original source for 'auth_shared_login_bar' has changed, this override should be reviewed to ensure it's still valid.
  [1m[35m (0.7ms)[0m  [1m[34mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL[0m
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_search.html.erb (6.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_nav_bar.html.erb (35.6ms)
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_main_nav_bar.html.erb (4.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_header.html.erb (106.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_sidebar.html.erb (0.5ms)
Completed 200 OK in 857ms (Views: 778.8ms | ActiveRecord: 37.0ms)


Started GET "/cart_link" for 127.0.0.1 at 2017-07-26 13:26:36 +0200
Processing by Spree::StoreController#cart_link as */*
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.9ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_link_to_cart.html.erb (14.2ms)
Completed 304 Not Modified in 321ms (Views: 290.6ms | ActiveRecord: 4.9ms)


Started GET "/admin" for 127.0.0.1 at 2017-07-26 13:26:45 +0200
Started GET "/admin/orders" for 127.0.0.1 at 2017-07-26 13:26:45 +0200
Processing by Spree::Admin::OrdersController#index as HTML
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.8ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 2]]
Redirected to http://localhost:3000/forbidden
Completed 302 Found in 14ms (ActiveRecord: 2.1ms)


Started GET "/forbidden" for 127.0.0.1 at 2017-07-26 13:26:45 +0200
Processing by Spree::HomeController#forbidden as HTML
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (1.0ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (2.5ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (1.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/layout"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/forbidden.html.erb within spree/layouts/spree_application
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/forbidden.html.erb within spree/layouts/spree_application (0.5ms)
  [1m[36mSpree::Preference Load (1.1ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (3.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_translations.html.erb (0.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_head.html.erb (181.4ms)
  [1m[36mSpree::Tracker Load (1.0ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1 ORDER BY "spree_trackers"."id" ASC LIMIT $2[0m  [["active", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_analytics.js.erb (4.2ms)
  [1m[36mSpree::Preference Load (1.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[1;32mDeface:[0m 1 overrides found for 'spree/shared/_nav_bar'
[1;32mDeface:[0m 'auth_shared_login_bar' matched 1 times with 'li#search-bar'
[1;32mDeface: [ERROR][0m The original source for 'auth_shared_login_bar' has changed, this override should be reviewed to ensure it's still valid.
  [1m[35m (0.7ms)[0m  [1m[34mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_search.html.erb (6.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_nav_bar.html.erb (34.1ms)
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_main_nav_bar.html.erb (3.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_header.html.erb (110.2ms)
Completed 403 Forbidden in 455ms (Views: 430.4ms | ActiveRecord: 13.4ms)


Started GET "/cart_link" for 127.0.0.1 at 2017-07-26 13:26:46 +0200
Processing by Spree::StoreController#cart_link as */*
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.6ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_link_to_cart.html.erb (13.7ms)
Completed 304 Not Modified in 303ms (Views: 276.4ms | ActiveRecord: 5.4ms)


Started GET "/cart" for 127.0.0.1 at 2017-07-26 13:26:54 +0200
Processing by Spree::OrdersController#edit as HTML
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.5ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.2ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.8ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["LIMIT", 1]]
  [1m[36mSpree::Address Load (1.4ms)[0m  [1m[34mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::Address Load (0.6ms)[0m  [1m[34mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_orders" SET "user_id" = 2, "email" = 'jorge.cardenas@talentocorporativo.com', "created_by_id" = 2, "bill_address_id" = 5, "ship_address_id" = 6 WHERE "spree_orders"."id" IS NULL[0m
  [1m[36mSpree::Preference Load (0.8ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/layout"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/orders/edit.html.erb within spree/layouts/spree_application
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/orders/edit.html.erb within spree/layouts/spree_application (2.7ms)
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_put_site_name_in_title"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/title_site_name_separator"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.8ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_translations.html.erb (0.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_head.html.erb (187.9ms)
  [1m[36mSpree::Tracker Load (1.0ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1 ORDER BY "spree_trackers"."id" ASC LIMIT $2[0m  [["active", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_analytics.js.erb (4.2ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[1;32mDeface:[0m 1 overrides found for 'spree/shared/_nav_bar'
[1;32mDeface:[0m 'auth_shared_login_bar' matched 1 times with 'li#search-bar'
[1;32mDeface: [ERROR][0m The original source for 'auth_shared_login_bar' has changed, this override should be reviewed to ensure it's still valid.
  [1m[35m (0.9ms)[0m  [1m[34mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL[0m
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_search.html.erb (6.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_nav_bar.html.erb (32.5ms)
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.9ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_main_nav_bar.html.erb (5.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_header.html.erb (106.2ms)
Completed 200 OK in 510ms (Views: 434.7ms | ActiveRecord: 17.6ms)


Started GET "/cart_link" for 127.0.0.1 at 2017-07-26 13:26:54 +0200
Processing by Spree::StoreController#cart_link as */*
  [1m[36mSpree::Preference Load (0.8ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (2.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.9ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_link_to_cart.html.erb (13.8ms)
Completed 304 Not Modified in 326ms (Views: 293.9ms | ActiveRecord: 6.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-26 13:26:56 +0200
Processing by Spree::HomeController#index as HTML
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (1.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.1ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/products_per_page"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/show_products_without_price"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (1.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/layout"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/home/index.html.erb within spree/layouts/spree_application
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/max_level_in_taxons_menu"], ["LIMIT", 1]]
  [1m[36mSpree::Taxonomy Load (0.5ms)[0m  [1m[34mSELECT "spree_taxonomies".* FROM "spree_taxonomies" ORDER BY spree_taxonomies.position, spree_taxonomies.created_at[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IN (1, 2)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IN (2, 1) ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_taxonomies.html.erb (13.6ms)
  [1m[35m (1.9ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:26:56.810192') AND ("spree_products".available_on <= '2017-07-26 11:26:56.810167') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4) subquery_for_count[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 12], ["OFFSET", 0]]
  [1m[35mSQL (5.8ms)[0m  [1m[34mSELECT  DISTINCT "spree_products"."id" FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL LEFT OUTER JOIN "spree_product_promotion_rules" ON "spree_product_promotion_rules"."product_id" = "spree_products"."id" LEFT OUTER JOIN "spree_promotion_rules" ON "spree_promotion_rules"."id" = "spree_product_promotion_rules"."promotion_rule_id" LEFT OUTER JOIN "spree_promotions" ON "spree_promotions"."id" = "spree_promotion_rules"."promotion_id" AND "spree_promotions"."advertise" = $2 AND (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2017-07-26 11:26:56.957151') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2017-07-26 11:26:56.957311') WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:26:56.810192') AND ("spree_products".available_on <= '2017-07-26 11:26:56.810167') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $3 LIMIT $4 OFFSET $5[0m  [["is_master", "t"], ["advertise", "t"], ["currency", "USD"], ["LIMIT", 12], ["OFFSET", 0]]
  [1m[35m (5.3ms)[0m  [1m[34mSELECT MAX("spree_products"."updated_at") FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL LEFT OUTER JOIN "spree_product_promotion_rules" ON "spree_product_promotion_rules"."product_id" = "spree_products"."id" LEFT OUTER JOIN "spree_promotion_rules" ON "spree_promotion_rules"."id" = "spree_product_promotion_rules"."promotion_rule_id" LEFT OUTER JOIN "spree_promotions" ON "spree_promotions"."id" = "spree_promotion_rules"."promotion_id" AND "spree_promotions"."advertise" = $2 AND (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2017-07-26 11:26:56.966238') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2017-07-26 11:26:56.966409') WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:26:56.810192') AND ("spree_products".available_on <= '2017-07-26 11:26:56.810167') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $3 AND "spree_products"."id" IN (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12)[0m  [["is_master", "t"], ["advertise", "t"], ["currency", "USD"]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.6ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[35m (2.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:26:56.810192') AND ("spree_products".available_on <= '2017-07-26 11:26:56.810167') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2[0m  [["is_master", "t"], ["currency", "USD"]]
  [1m[36mSpree::Product Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:26:56.810192') AND ("spree_products".available_on <= '2017-07-26 11:26:56.810167') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mCACHE Spree::Product Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:26:56.810192') AND ("spree_products".available_on <= '2017-07-26 11:26:56.810167') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (1.9ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:26:56.810192') AND ("spree_products".available_on <= '2017-07-26 11:26:56.810167') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 12], ["OFFSET", 0]]
  [1m[36mSpree::TaxCategory Load (1.0ms)[0m  [1m[34mSELECT "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = 1[0m
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."is_master" = $1 AND "spree_variants"."product_id" IN (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12)[0m  [["is_master", "t"]]
  [1m[36mSpree::Price Load (0.8ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" IN (6, 12, 11, 10, 9, 8, 1, 2, 3, 4, 5, 7)[0m
  [1m[36mSpree::Image Load (0.8ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" IN (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12) ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::ProductPromotionRule Load (0.6ms)[0m  [1m[34mSELECT "spree_product_promotion_rules".* FROM "spree_product_promotion_rules" WHERE "spree_product_promotion_rules"."product_id" IN (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12)[0m
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.1ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.1ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.1ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.2ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.2ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.1ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.9ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.1ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_products.html.erb (373.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/home/index.html.erb within spree/layouts/spree_application (481.7ms)
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_translations.html.erb (0.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_head.html.erb (197.3ms)
  [1m[36mSpree::Tracker Load (0.7ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1 ORDER BY "spree_trackers"."id" ASC LIMIT $2[0m  [["active", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_analytics.js.erb (3.0ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[1;32mDeface:[0m 1 overrides found for 'spree/shared/_nav_bar'
[1;32mDeface:[0m 'auth_shared_login_bar' matched 1 times with 'li#search-bar'
[1;32mDeface: [ERROR][0m The original source for 'auth_shared_login_bar' has changed, this override should be reviewed to ensure it's still valid.
  [1m[35m (1.3ms)[0m  [1m[34mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_search.html.erb (6.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_nav_bar.html.erb (34.0ms)
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_main_nav_bar.html.erb (5.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_header.html.erb (132.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_sidebar.html.erb (0.6ms)
Completed 200 OK in 1025ms (Views: 942.3ms | ActiveRecord: 42.6ms)


Started GET "/cart_link" for 127.0.0.1 at 2017-07-26 13:26:57 +0200
Processing by Spree::StoreController#cart_link as */*
  [1m[36mSpree::Preference Load (0.8ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.3ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.9ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_link_to_cart.html.erb (13.4ms)
Completed 304 Not Modified in 296ms (Views: 269.0ms | ActiveRecord: 5.5ms)


Started GET "/" for 127.0.0.1 at 2017-07-26 13:27:22 +0200
Processing by Spree::HomeController#index as HTML
  [1m[36mSpree::Order Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/products_per_page"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/show_products_without_price"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/layout"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/home/index.html.erb within spree/layouts/spree_application
  [1m[36mSpree::Preference Load (1.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/max_level_in_taxons_menu"], ["LIMIT", 1]]
  [1m[36mSpree::Taxonomy Load (0.6ms)[0m  [1m[34mSELECT "spree_taxonomies".* FROM "spree_taxonomies" ORDER BY spree_taxonomies.position, spree_taxonomies.created_at[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IN (1, 2)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IN (2, 1) ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_taxonomies.html.erb (13.7ms)
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:27:22.584396') AND ("spree_products".available_on <= '2017-07-26 11:27:22.584371') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4) subquery_for_count[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 12], ["OFFSET", 0]]
  [1m[35mSQL (2.6ms)[0m  [1m[34mSELECT  DISTINCT "spree_products"."id" FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL LEFT OUTER JOIN "spree_product_promotion_rules" ON "spree_product_promotion_rules"."product_id" = "spree_products"."id" LEFT OUTER JOIN "spree_promotion_rules" ON "spree_promotion_rules"."id" = "spree_product_promotion_rules"."promotion_rule_id" LEFT OUTER JOIN "spree_promotions" ON "spree_promotions"."id" = "spree_promotion_rules"."promotion_id" AND "spree_promotions"."advertise" = $2 AND (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2017-07-26 11:27:22.703722') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2017-07-26 11:27:22.703924') WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:27:22.584396') AND ("spree_products".available_on <= '2017-07-26 11:27:22.584371') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $3 LIMIT $4 OFFSET $5[0m  [["is_master", "t"], ["advertise", "t"], ["currency", "USD"], ["LIMIT", 12], ["OFFSET", 0]]
  [1m[35m (2.5ms)[0m  [1m[34mSELECT MAX("spree_products"."updated_at") FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL LEFT OUTER JOIN "spree_product_promotion_rules" ON "spree_product_promotion_rules"."product_id" = "spree_products"."id" LEFT OUTER JOIN "spree_promotion_rules" ON "spree_promotion_rules"."id" = "spree_product_promotion_rules"."promotion_rule_id" LEFT OUTER JOIN "spree_promotions" ON "spree_promotions"."id" = "spree_promotion_rules"."promotion_id" AND "spree_promotions"."advertise" = $2 AND (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2017-07-26 11:27:22.709854') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2017-07-26 11:27:22.710214') WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:27:22.584396') AND ("spree_products".available_on <= '2017-07-26 11:27:22.584371') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $3 AND "spree_products"."id" IN (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12)[0m  [["is_master", "t"], ["advertise", "t"], ["currency", "USD"]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.5ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:27:22.584396') AND ("spree_products".available_on <= '2017-07-26 11:27:22.584371') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2[0m  [["is_master", "t"], ["currency", "USD"]]
  [1m[36mSpree::Product Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:27:22.584396') AND ("spree_products".available_on <= '2017-07-26 11:27:22.584371') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mCACHE Spree::Product Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:27:22.584396') AND ("spree_products".available_on <= '2017-07-26 11:27:22.584371') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (2.1ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:27:22.584396') AND ("spree_products".available_on <= '2017-07-26 11:27:22.584371') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 12], ["OFFSET", 0]]
  [1m[36mSpree::TaxCategory Load (0.6ms)[0m  [1m[34mSELECT "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = 1[0m
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."is_master" = $1 AND "spree_variants"."product_id" IN (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12)[0m  [["is_master", "t"]]
  [1m[36mSpree::Price Load (1.1ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" IN (6, 12, 11, 10, 9, 8, 1, 2, 3, 4, 5, 7)[0m
  [1m[36mSpree::Image Load (2.8ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" IN (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12) ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::ProductPromotionRule Load (0.8ms)[0m  [1m[34mSELECT "spree_product_promotion_rules".* FROM "spree_product_promotion_rules" WHERE "spree_product_promotion_rules"."product_id" IN (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12)[0m
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_products.html.erb (318.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/home/index.html.erb within spree/layouts/spree_application (412.9ms)
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_translations.html.erb (1.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_head.html.erb (237.8ms)
  [1m[36mSpree::Tracker Load (1.0ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1 ORDER BY "spree_trackers"."id" ASC LIMIT $2[0m  [["active", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_analytics.js.erb (4.0ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[1;32mDeface:[0m 1 overrides found for 'spree/shared/_nav_bar'
[1;32mDeface:[0m 'auth_shared_login_bar' matched 1 times with 'li#search-bar'
[1;32mDeface: [ERROR][0m The original source for 'auth_shared_login_bar' has changed, this override should be reviewed to ensure it's still valid.
  [1m[35m (0.7ms)[0m  [1m[34mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_search.html.erb (5.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_nav_bar.html.erb (31.2ms)
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_main_nav_bar.html.erb (4.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_header.html.erb (100.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_sidebar.html.erb (0.6ms)
Completed 200 OK in 942ms (Views: 879.3ms | ActiveRecord: 32.2ms)


Started GET "/cart_link" for 127.0.0.1 at 2017-07-26 13:27:24 +0200
Processing by Spree::StoreController#cart_link as */*
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.9ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.9ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.9ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_link_to_cart.html.erb (9.6ms)
Completed 200 OK in 330ms (Views: 298.7ms | ActiveRecord: 4.2ms)


Started GET "/admin/pages" for 127.0.0.1 at 2017-07-26 13:27:31 +0200
  
ActionController::RoutingError (No route matches [GET] "/admin/pages"):
  
actionpack (5.1.2) lib/action_dispatch/middleware/debug_exceptions.rb:63:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.2) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.2) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.2) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.2) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.2) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.2) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.2) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.2) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.2) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.2) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.2) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.2) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.2) lib/rails/engine.rb:522:in `call'
puma (3.9.1) lib/puma/configuration.rb:224:in `call'
puma (3.9.1) lib/puma/server.rb:602:in `handle_request'
puma (3.9.1) lib/puma/server.rb:435:in `process_client'
puma (3.9.1) lib/puma/server.rb:299:in `block in run'
puma (3.9.1) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/admin" for 127.0.0.1 at 2017-07-26 13:27:35 +0200
Started GET "/admin/orders" for 127.0.0.1 at 2017-07-26 13:27:35 +0200
Processing by Spree::Admin::OrdersController#index as HTML
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
Redirected to http://localhost:3000/login
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)


Started GET "/login" for 127.0.0.1 at 2017-07-26 13:27:35 +0200
Processing by Spree::UserSessionsController#new as HTML
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/layout"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/frontend/spree/user_sessions/new.html.erb within spree/layouts/spree_application
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/frontend/spree/shared/_login.html.erb (6.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/frontend/spree/user_sessions/new.html.erb within spree/layouts/spree_application (26.8ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_put_site_name_in_title"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/title_site_name_separator"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_translations.html.erb (0.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_head.html.erb (178.9ms)
  [1m[36mSpree::Tracker Load (0.6ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1 ORDER BY "spree_trackers"."id" ASC LIMIT $2[0m  [["active", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_analytics.js.erb (2.5ms)
  [1m[36mSpree::Preference Load (0.9ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[1;32mDeface:[0m 1 overrides found for 'spree/shared/_nav_bar'
[1;32mDeface:[0m 'auth_shared_login_bar' matched 1 times with 'li#search-bar'
[1;32mDeface: [ERROR][0m The original source for 'auth_shared_login_bar' has changed, this override should be reviewed to ensure it's still valid.
  [1m[35m (0.8ms)[0m  [1m[34mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_search.html.erb (5.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_nav_bar.html.erb (29.6ms)
  [1m[36mSpree::Preference Load (0.9ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.9ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_main_nav_bar.html.erb (7.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_header.html.erb (100.0ms)
Completed 200 OK in 427ms (Views: 414.3ms | ActiveRecord: 7.4ms)


Started GET "/cart_link" for 127.0.0.1 at 2017-07-26 13:27:35 +0200
Processing by Spree::StoreController#cart_link as */*
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_link_to_cart.html.erb (8.1ms)
Completed 304 Not Modified in 340ms (Views: 311.5ms | ActiveRecord: 3.0ms)


Started POST "/login" for 127.0.0.1 at 2017-07-26 13:27:43 +0200
Processing by Spree::UserSessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Jj7ucYnjM0x7XTOodWKB2KRO0OtpeQVuugxnL4PYPV77atQ7+5kZ5kbU/ymQI1OlNA3nLcMbV9hPCL2uHpbq6A==", "spree_user"=>{"email"=>"jorgecf@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Login"}
  [1m[36mSpree::User Load (2.0ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."email" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["email", "jorgecf@gmail.com"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."guest_token" = $1 AND "spree_orders"."user_id" IS NULL[0m  [["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_users" SET "current_sign_in_at" = $1, "last_sign_in_at" = $2, "current_sign_in_ip" = $3, "last_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "spree_users"."id" = $7[0m  [["current_sign_in_at", "2017-07-26 11:27:43.088614"], ["last_sign_in_at", "2017-07-26 11:27:43.088614"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["sign_in_count", 1], ["updated_at", "2017-07-26 11:27:43.089628"], ["id", 1]]
  [1m[35m (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/admin/orders
Completed 302 Found in 35ms (ActiveRecord: 13.8ms)


Started GET "/admin/orders" for 127.0.0.1 at 2017-07-26 13:27:43 +0200
Processing by Spree::Admin::OrdersController#index as HTML
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/show_only_complete_orders_by_default"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_orders_per_page"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/index.html.erb within spree/layouts/admin
  [1m[35m (0.8ms)[0m  [1m[34mSELECT DISTINCT "spree_promotions"."name", "spree_promotions"."id" FROM "spree_promotions" INNER JOIN spree_order_promotions
        ON spree_order_promotions.promotion_id = spree_promotions.id[0m
  [1m[35m (6.2ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_orders"."id") FROM "spree_orders" WHERE ("spree_orders"."completed_at" IS NOT NULL)[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_index_table_options.html.erb (34.3ms)
  [1m[36mSpree::Order Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE ("spree_orders"."completed_at" IS NOT NULL) LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mSpree::Order Load (1.4ms)[0m  [1m[34mSELECT  DISTINCT "spree_orders".* FROM "spree_orders" WHERE ("spree_orders"."completed_at" IS NOT NULL) ORDER BY "spree_orders"."completed_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  [1m[36mSpree::User Load (0.9ms)[0m  [1m[34mSELECT "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = 2[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_index_table_options.html.erb (29.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/index.html.erb within spree/layouts/admin (148.9ms)
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (5.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (1105.6ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (2.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (24.5ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (14.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (14.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (6.3ms)
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.9ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (34.6ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (224.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (16.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_table_filter.html.erb (1.4ms)
Completed 200 OK in 1759ms (Views: 1698.8ms | ActiveRecord: 18.7ms)


Started GET "/admin/users" for 127.0.0.1 at 2017-07-26 13:28:53 +0200
Processing by Spree::Admin::UsersController#index as HTML
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.7ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_users_per_page"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/users/index.html.erb within spree/layouts/admin
  [1m[36mSpree::User Exists (8.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mSpree::User Load (1.2ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/users/index.html.erb within spree/layouts/admin (52.6ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (1.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (384.8ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (1.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (19.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (4.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.4ms)
  [1m[36mSpree::Store Load (1.1ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (14.0ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (148.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_table_filter.html.erb (1.5ms)
Completed 200 OK in 835ms (Views: 780.2ms | ActiveRecord: 15.7ms)


Started GET "/admin/reports" for 127.0.0.1 at 2017-07-26 13:29:16 +0200
Processing by Spree::Admin::ReportsController#index as HTML
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/reports/index.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/reports/index.html.erb within spree/layouts/admin (1.3ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (402.4ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (1.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (22.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (3.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.3ms)
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.7ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (17.7ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (153.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (0.9ms)
Completed 200 OK in 778ms (Views: 737.6ms | ActiveRecord: 5.7ms)


Started GET "/admin/orders" for 127.0.0.1 at 2017-07-26 13:29:18 +0200
Processing by Spree::Admin::OrdersController#index as HTML
  [1m[36mSpree::Preference Load (0.2ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/show_only_complete_orders_by_default"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_orders_per_page"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/index.html.erb within spree/layouts/admin
  [1m[35m (1.1ms)[0m  [1m[34mSELECT DISTINCT "spree_promotions"."name", "spree_promotions"."id" FROM "spree_promotions" INNER JOIN spree_order_promotions
        ON spree_order_promotions.promotion_id = spree_promotions.id[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_orders"."id") FROM "spree_orders" WHERE ("spree_orders"."completed_at" IS NOT NULL)[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_index_table_options.html.erb (29.2ms)
  [1m[36mSpree::Order Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE ("spree_orders"."completed_at" IS NOT NULL) LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mSpree::Order Load (1.3ms)[0m  [1m[34mSELECT  DISTINCT "spree_orders".* FROM "spree_orders" WHERE ("spree_orders"."completed_at" IS NOT NULL) ORDER BY "spree_orders"."completed_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = 2[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_index_table_options.html.erb (27.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/index.html.erb within spree/layouts/admin (139.8ms)
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (1.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (396.7ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (1.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (17.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (3.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (1.6ms)
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (10.1ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (135.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (0.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_table_filter.html.erb (1.3ms)
Completed 200 OK in 933ms (Views: 877.7ms | ActiveRecord: 10.2ms)


Started GET "/admin/orders?utf8=%E2%9C%93&q%5Bcreated_at_gt%5D=&q%5Bcreated_at_lt%5D=&q%5Bnumber_cont%5D=&q%5Bstate_eq%5D=&q%5Bpayment_state_eq%5D=balance_due&q%5Bshipment_state_eq%5D=&q%5Bbill_address_firstname_start%5D=&q%5Bbill_address_lastname_start%5D=&q%5Bemail_cont%5D=&q%5Bline_items_variant_sku_eq%5D=&q%5Bpromotions_id_in%5D=&q%5Bcompleted_at_not_null%5D=0&q%5Bcompleted_at_not_null%5D=1&q%5Bconsidered_risky_eq%5D=&per_page=15" for 127.0.0.1 at 2017-07-26 13:29:29 +0200
Processing by Spree::Admin::OrdersController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"created_at_gt"=>"", "created_at_lt"=>"", "number_cont"=>"[FILTERED]", "state_eq"=>"", "payment_state_eq"=>"balance_due", "shipment_state_eq"=>"", "bill_address_firstname_start"=>"", "bill_address_lastname_start"=>"", "email_cont"=>"", "line_items_variant_sku_eq"=>"", "promotions_id_in"=>"", "completed_at_not_null"=>"1", "considered_risky_eq"=>""}, "per_page"=>"15"}
  [1m[36mSpree::Preference Load (1.0ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (4.1ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/show_only_complete_orders_by_default"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/index.html.erb within spree/layouts/admin
  [1m[35m (0.9ms)[0m  [1m[34mSELECT DISTINCT "spree_promotions"."name", "spree_promotions"."id" FROM "spree_promotions" INNER JOIN spree_order_promotions
        ON spree_order_promotions.promotion_id = spree_promotions.id[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_orders"."id") FROM "spree_orders" WHERE ("spree_orders"."payment_state" = 'balance_due' AND "spree_orders"."completed_at" IS NOT NULL)[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_orders_per_page"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_index_table_options.html.erb (30.1ms)
  [1m[36mSpree::Order Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE ("spree_orders"."payment_state" = 'balance_due' AND "spree_orders"."completed_at" IS NOT NULL) LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mSpree::Order Load (1.3ms)[0m  [1m[34mSELECT  DISTINCT "spree_orders".* FROM "spree_orders" WHERE ("spree_orders"."payment_state" = 'balance_due' AND "spree_orders"."completed_at" IS NOT NULL) ORDER BY "spree_orders"."completed_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 15], ["OFFSET", 0]]
  [1m[36mSpree::User Load (0.9ms)[0m  [1m[34mSELECT "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = 2[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_index_table_options.html.erb (24.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/index.html.erb within spree/layouts/admin (136.1ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (352.7ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (3.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (21.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (5.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (3.9ms)
  [1m[36mSpree::Store Load (1.0ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (1.0ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.7ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (17.9ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (181.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (2.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_table_filter.html.erb (1.4ms)
Completed 200 OK in 956ms (Views: 903.8ms | ActiveRecord: 15.1ms)


Started GET "/admin/orders/new" for 127.0.0.1 at 2017-07-26 13:30:43 +0200
Processing by Spree::Admin::OrdersController#new as HTML
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.7ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Order Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R966198594"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R966198594"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R966198594"], ["LIMIT", 1]]
  [1m[36mSpree::Order Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."guest_token" = $1 LIMIT $2[0m  [["guest_token", "ZANtB3iOTOPw4vU5UGIolQ1501068643904"], ["LIMIT", 1]]
  [1m[35mSQL (2.4ms)[0m  [1m[32mINSERT INTO "spree_orders" ("number", "state", "created_at", "updated_at", "currency", "created_by_id", "guest_token") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["number", "R966198594"], ["state", "cart"], ["created_at", "2017-07-26 11:30:43.904469"], ["updated_at", "2017-07-26 11:30:43.904469"], ["currency", "USD"], ["created_by_id", 1], ["guest_token", "ZANtB3iOTOPw4vU5UGIolQ1501068643904"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/orders/R966198594/cart
Completed 302 Found in 24ms (ActiveRecord: 8.5ms)


Started GET "/admin/orders/R966198594/cart" for 127.0.0.1 at 2017-07-26 13:30:43 +0200
Processing by Spree::Admin::OrdersController#cart as HTML
  Parameters: {"id"=>"R966198594"}
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (1.6ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.7ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R966198594"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 4 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[36mCACHE Spree::Order Load (0.1ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R966198594"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Adjustment Load (0.0ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 4 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[36mSpree::Shipment Load (1.0ms)[0m  [1m[34mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 4]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 AND "spree_shipments"."state" = 'shipped'[0m  [["order_id", 4]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/cart.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_order_actions.html.erb (3.0ms)
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (0.8ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 4]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_order_tabs.html.erb (10.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_error_messages.html.erb (0.8ms)
  [1m[36mSpree::Payment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 LIMIT $2[0m  [["order_id", 4], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_autocomplete.js.erb (11.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_autocomplete_line_items_stock.js.erb (1.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_add_line_item.html.erb (66.9ms)
  [1m[36mSpree::LineItem Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 LIMIT $2[0m  [["order_id", 4], ["LIMIT", 1]]
  [1m[36mCACHE Spree::LineItem Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 LIMIT $2[0m  [["order_id", 4], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_line_items.html.erb (2.2ms)
  [1m[36mSpree::Adjustment Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_line_items" ON "spree_adjustments"."adjustable_id" = "spree_line_items"."id" WHERE "spree_line_items"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3 LIMIT $4[0m  [["order_id", 4], ["adjustable_type", "Spree::LineItem"], ["eligible", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_adjustments.html.erb (4.3ms)
  [1m[36mSpree::Adjustment Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_shipments" ON "spree_adjustments"."adjustable_id" = "spree_shipments"."id" WHERE "spree_shipments"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3 LIMIT $4[0m  [["order_id", 4], ["adjustable_type", "Spree::Shipment"], ["eligible", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_adjustments.html.erb (3.0ms)
  [1m[36mSpree::Adjustment Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3 LIMIT $4[0m  [["adjustable_id", 4], ["adjustable_type", "Spree::Order"], ["eligible", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_adjustments.html.erb (2.8ms)
  [1m[36mCACHE Spree::LineItem Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 LIMIT $2[0m  [["order_id", 4], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_update_order_state.js.erb (1.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_line_items_edit_form.html.erb (178.0ms)
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 4]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_order_summary.html.erb (6.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/cart.html.erb within spree/layouts/admin (455.0ms)
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (560.1ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (1.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (25.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (3.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (3.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (1.8ms)
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (17.3ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (214.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_sidebar.html.erb (0.8ms)
Completed 200 OK in 1575ms (Views: 1516.1ms | ActiveRecord: 15.2ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-07-26 13:31:02 +0200
Processing by Spree::Admin::ProductsController#index as HTML
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (1.0ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_products_per_page"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/products/index.html.erb within spree/layouts/admin
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_products"."id") FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:31:02.819329')[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_index_table_options.html.erb (28.8ms)
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:31:02.819329') LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (1.0ms)[0m  [1m[34mSELECT  DISTINCT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:31:02.819329') ORDER BY "spree_products"."name" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."is_master" = $1 AND "spree_variants"."product_id" IN (7, 6, 2, 3, 4, 13, 5, 14, 1, 12, 8, 9, 16, 10, 15, 11) ORDER BY "spree_variants"."position" ASC[0m  [["is_master", "f"]]
  [1m[36mSpree::Image Load (1.2ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" IN (17, 18, 19, 20, 21, 22, 23, 24, 25, 26) ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."is_master" = $1 AND "spree_variants"."product_id" IN (7, 6, 2, 3, 4, 13, 5, 14, 1, 12, 8, 9, 16, 10, 15, 11)[0m  [["is_master", "t"]]
  [1m[36mSpree::Image Load (0.9ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" IN (6, 12, 11, 10, 9, 8, 15, 16, 1, 2, 3, 4, 13, 5, 14, 7) ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.7ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."currency" = $1 AND "spree_prices"."variant_id" IN (6, 12, 11, 10, 9, 8, 15, 16, 1, 2, 3, 4, 13, 5, 14, 7)[0m  [["currency", "USD"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_index_table_options.html.erb (20.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/products/index.html.erb within spree/layouts/admin (216.9ms)
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (387.6ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (2.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (23.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (3.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (3.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (1.8ms)
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.8ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (15.5ms)
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (140.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (0.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_table_filter.html.erb (1.5ms)
Completed 200 OK in 981ms (Views: 952.9ms | ActiveRecord: 14.4ms)


Started GET "/admin/products/apache-baseball-jersey/edit" for 127.0.0.1 at 2017-07-26 13:31:17 +0200
Processing by Spree::Admin::ProductsController#edit as HTML
  Parameters: {"id"=>"apache-baseball-jersey"}
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."slug" = $1 ORDER BY "spree_products"."id" ASC LIMIT $2[0m  [["slug", "apache-baseball-jersey"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/products/edit.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_product_tabs.html.erb (4.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_error_messages.html.erb (1.1ms)
  [1m[36mSpree::Variant Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 7], ["is_master", "f"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 7], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 7], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Variant Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 7], ["is_master", "f"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.9ms)[0m  [1m[34mSELECT "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."name" ASC[0m
  [1m[36mSpree::TaxCategory Load (0.6ms)[0m  [1m[34mSELECT "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL ORDER BY "spree_tax_categories"."name" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "spree_taxons".id FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 7]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "spree_option_types".id FROM "spree_option_types" INNER JOIN "spree_product_option_types" ON "spree_option_types"."id" = "spree_product_option_types"."option_type_id" WHERE "spree_product_option_types"."product_id" = $1 ORDER BY "spree_option_types"."position" ASC[0m  [["product_id", 7]]
  [1m[36mActsAsTaggableOn::Tagging Load (1.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 7], ["taggable_type", "Spree::Product"]]
  [1m[36mActsAsTaggableOn::Tag Load (9.4ms)[0m  [1m[34mSELECT "spree_tags".* FROM "spree_tags" INNER JOIN "spree_taggings" ON "spree_tags"."id" = "spree_taggings"."tag_id" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2 AND (spree_taggings.context = 'tags' AND spree_taggings.tagger_id IS NULL)[0m  [["taggable_id", 7], ["taggable_type", "Spree::Product"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/products/_form.html.erb (120.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_edit_resource_links.html.erb (1.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/products/edit.html.erb within spree/layouts/admin (245.3ms)
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (373.0ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (1.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (23.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (3.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (5.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.1ms)
  [1m[36mSpree::Store Load (0.9ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (11.1ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (158.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (0.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_sidebar.html.erb (0.7ms)
Completed 200 OK in 1006ms (Views: 964.2ms | ActiveRecord: 32.0ms)


Started GET "/api/v1/taxons?ids=7,9&without_children=true&token=b1af2810df846a04152517c389d5167128d83feb542749ac" for 127.0.0.1 at 2017-07-26 13:31:18 +0200
Processing by Spree::Api::V1::TaxonsController#index as JSON
  Parameters: {"ids"=>"7,9", "without_children"=>"true", "token"=>"b1af2810df846a04152517c389d5167128d83feb542749ac"}
  [1m[36mSpree::User Load (1.5ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."spree_api_key" = $1 LIMIT $2[0m  [["spree_api_key", "b1af2810df846a04152517c389d5167128d83feb542749ac"], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "spree_roles"."name" FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/taxons/index.v1.rabl
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" IN (7, 9) LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IN (7, 9) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) AND ("spree_taxons"."id" != 7) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 16) AND ("spree_taxons"."rgt" >= 17) AND ("spree_taxons"."id" != 9) ORDER BY "spree_taxons"."lft"[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "spree_taxons" WHERE "spree_taxons"."id" IN (7, 9) LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 25], ["OFFSET", 0]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/taxons/index.v1.rabl (10.7ms)
Completed 200 OK in 307ms (Views: 289.8ms | ActiveRecord: 6.6ms)


Started GET "/api/v1/option_types?q%5Bname_cont%5D=&token=b1af2810df846a04152517c389d5167128d83feb542749ac&_=1501068678108" for 127.0.0.1 at 2017-07-26 13:32:03 +0200
Processing by Spree::Api::V1::OptionTypesController#index as JSON
  Parameters: {"q"=>{"name_cont"=>""}, "token"=>"b1af2810df846a04152517c389d5167128d83feb542749ac", "_"=>"1501068678108"}
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."spree_api_key" = $1 LIMIT $2[0m  [["spree_api_key", "b1af2810df846a04152517c389d5167128d83feb542749ac"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "spree_roles"."name" FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::OptionType Load (1.2ms)[0m  [1m[34mSELECT "spree_option_types".* FROM "spree_option_types" ORDER BY "spree_option_types"."position" ASC[0m
  [1m[36mSpree::OptionValue Load (0.8ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."option_type_id" IN (1, 2) ORDER BY "spree_option_values"."position" ASC[0m
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/option_types/index.v1.rabl
  [1m[36mCACHE Spree::OptionType Load (0.1ms)[0m  [1m[34mSELECT "spree_option_types".* FROM "spree_option_types" ORDER BY "spree_option_types"."position" ASC[0m
  [1m[36mCACHE Spree::OptionValue Load (0.0ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."option_type_id" IN (1, 2) ORDER BY "spree_option_values"."position" ASC[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/option_types/index.v1.rabl (78.3ms)
Completed 200 OK in 349ms (Views: 329.6ms | ActiveRecord: 4.0ms)


Started GET "/api/v1/option_types?q%5Bname_cont%5D=&token=b1af2810df846a04152517c389d5167128d83feb542749ac&_=1501068678109" for 127.0.0.1 at 2017-07-26 13:32:10 +0200
Processing by Spree::Api::V1::OptionTypesController#index as JSON
  Parameters: {"q"=>{"name_cont"=>""}, "token"=>"b1af2810df846a04152517c389d5167128d83feb542749ac", "_"=>"1501068678109"}
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."spree_api_key" = $1 LIMIT $2[0m  [["spree_api_key", "b1af2810df846a04152517c389d5167128d83feb542749ac"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "spree_roles"."name" FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Role Load (0.3ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::OptionType Load (0.6ms)[0m  [1m[34mSELECT "spree_option_types".* FROM "spree_option_types" ORDER BY "spree_option_types"."position" ASC[0m
  [1m[36mSpree::OptionValue Load (1.6ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."option_type_id" IN (1, 2) ORDER BY "spree_option_values"."position" ASC[0m
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/option_types/index.v1.rabl
  [1m[36mCACHE Spree::OptionType Load (0.0ms)[0m  [1m[34mSELECT "spree_option_types".* FROM "spree_option_types" ORDER BY "spree_option_types"."position" ASC[0m
  [1m[36mCACHE Spree::OptionValue Load (0.0ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."option_type_id" IN (1, 2) ORDER BY "spree_option_values"."position" ASC[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/option_types/index.v1.rabl (73.6ms)
Completed 200 OK in 332ms (Views: 315.7ms | ActiveRecord: 4.2ms)


Started GET "/api/v1/option_types?q%5Bname_cont%5D=&token=b1af2810df846a04152517c389d5167128d83feb542749ac&_=1501068678110" for 127.0.0.1 at 2017-07-26 13:32:11 +0200
Processing by Spree::Api::V1::OptionTypesController#index as JSON
  Parameters: {"q"=>{"name_cont"=>""}, "token"=>"b1af2810df846a04152517c389d5167128d83feb542749ac", "_"=>"1501068678110"}
  [1m[36mSpree::User Load (0.6ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."spree_api_key" = $1 LIMIT $2[0m  [["spree_api_key", "b1af2810df846a04152517c389d5167128d83feb542749ac"], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "spree_roles"."name" FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Role Load (0.7ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::OptionType Load (0.6ms)[0m  [1m[34mSELECT "spree_option_types".* FROM "spree_option_types" ORDER BY "spree_option_types"."position" ASC[0m
  [1m[36mSpree::OptionValue Load (0.6ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."option_type_id" IN (1, 2) ORDER BY "spree_option_values"."position" ASC[0m
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/option_types/index.v1.rabl
  [1m[36mCACHE Spree::OptionType Load (0.0ms)[0m  [1m[34mSELECT "spree_option_types".* FROM "spree_option_types" ORDER BY "spree_option_types"."position" ASC[0m
  [1m[36mCACHE Spree::OptionValue Load (0.0ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."option_type_id" IN (1, 2) ORDER BY "spree_option_values"."position" ASC[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/option_types/index.v1.rabl (76.6ms)
Completed 200 OK in 331ms (Views: 317.2ms | ActiveRecord: 3.8ms)


Started GET "/t/categories/clothing" for 127.0.0.1 at 2017-07-26 13:51:29 +0200
Processing by Spree::TaxonsController#show as HTML
  Parameters: {"id"=>"categories/clothing"}
  [1m[36mSpree::Preference Load (1.1ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.9ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (1.2ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.4ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.9ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."permalink" = $1 ORDER BY "spree_taxons"."id" ASC LIMIT $2[0m  [["permalink", "categories/clothing"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/products_per_page"], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" >= 6) AND ("spree_taxons"."lft" < 11) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/show_products_without_price"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/layout"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/taxons/show.html.erb within spree/layouts/spree_application
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/max_level_in_taxons_menu"], ["LIMIT", 1]]
  [1m[36mSpree::Taxonomy Load (0.6ms)[0m  [1m[34mSELECT "spree_taxonomies".* FROM "spree_taxonomies" ORDER BY spree_taxonomies.position, spree_taxonomies.created_at[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IN (1, 2)[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IN (2, 1) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 6) AND ("spree_taxons"."rgt" >= 11) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mCACHE Spree::Taxon Load (0.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 6) AND ("spree_taxons"."rgt" >= 11) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mCACHE Spree::Taxon Load (0.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 6) AND ("spree_taxons"."rgt" >= 11) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mCACHE Spree::Taxon Load (0.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 6) AND ("spree_taxons"."rgt" >= 11) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mCACHE Spree::Taxon Load (0.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 6) AND ("spree_taxons"."rgt" >= 11) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mCACHE Spree::Taxon Load (0.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 6) AND ("spree_taxons"."rgt" >= 11) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mCACHE Spree::Taxon Load (0.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 6) AND ("spree_taxons"."rgt" >= 11) ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_taxonomies.html.erb (29.2ms)
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_products"."id") FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL LEFT OUTER JOIN "spree_products_taxons" ON "spree_products_taxons"."product_id" = "spree_products"."id" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:51:29.513613') AND ("spree_products".available_on <= '2017-07-26 11:51:29.513574') AND "spree_products_taxons"."taxon_id" IN (5, 6, 7) AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2[0m  [["is_master", "t"], ["currency", "USD"]]
  [1m[35mSQL (2.9ms)[0m  [1m[34mSELECT  DISTINCT "spree_products"."id", spree_products_taxons.position AS alias_0 FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL LEFT OUTER JOIN "spree_products_taxons" ON "spree_products_taxons"."product_id" = "spree_products"."id" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:51:29.513613') AND ("spree_products".available_on <= '2017-07-26 11:51:29.513574') AND "spree_products_taxons"."taxon_id" IN (5, 6, 7) AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 ORDER BY spree_products_taxons.position ASC LIMIT $3 OFFSET $4[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 12], ["OFFSET", 0]]
  [1m[36mSpree::Product Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL LEFT OUTER JOIN "spree_products_taxons" ON "spree_products_taxons"."product_id" = "spree_products"."id" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:51:29.513613') AND ("spree_products".available_on <= '2017-07-26 11:51:29.513574') AND "spree_products_taxons"."taxon_id" IN (5, 6, 7) AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 AND "spree_products"."id" IN (3, 4, 5, 9, 7, 6, 8, 10) LIMIT $3[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 1]]
  [1m[35mCACHE SQL (0.0ms)[0m  [1m[34mSELECT  DISTINCT "spree_products"."id", spree_products_taxons.position AS alias_0 FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL LEFT OUTER JOIN "spree_products_taxons" ON "spree_products_taxons"."product_id" = "spree_products"."id" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:51:29.513613') AND ("spree_products".available_on <= '2017-07-26 11:51:29.513574') AND "spree_products_taxons"."taxon_id" IN (5, 6, 7) AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 ORDER BY spree_products_taxons.position ASC LIMIT $3 OFFSET $4[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 12], ["OFFSET", 0]]
  [1m[36mCACHE Spree::Product Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL LEFT OUTER JOIN "spree_products_taxons" ON "spree_products_taxons"."product_id" = "spree_products"."id" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:51:29.513613') AND ("spree_products".available_on <= '2017-07-26 11:51:29.513574') AND "spree_products_taxons"."taxon_id" IN (5, 6, 7) AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 AND "spree_products"."id" IN (3, 4, 5, 9, 7, 6, 8, 10) LIMIT $3[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 1]]
  [1m[35mCACHE SQL (0.0ms)[0m  [1m[34mSELECT  DISTINCT "spree_products"."id", spree_products_taxons.position AS alias_0 FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL LEFT OUTER JOIN "spree_products_taxons" ON "spree_products_taxons"."product_id" = "spree_products"."id" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:51:29.513613') AND ("spree_products".available_on <= '2017-07-26 11:51:29.513574') AND "spree_products_taxons"."taxon_id" IN (5, 6, 7) AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 ORDER BY spree_products_taxons.position ASC LIMIT $3 OFFSET $4[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 12], ["OFFSET", 0]]
  [1m[35mSQL (3.2ms)[0m  [1m[34mSELECT "spree_products"."id" AS t0_r0, "spree_products"."name" AS t0_r1, "spree_products"."description" AS t0_r2, "spree_products"."available_on" AS t0_r3, "spree_products"."deleted_at" AS t0_r4, "spree_products"."slug" AS t0_r5, "spree_products"."meta_description" AS t0_r6, "spree_products"."meta_keywords" AS t0_r7, "spree_products"."tax_category_id" AS t0_r8, "spree_products"."shipping_category_id" AS t0_r9, "spree_products"."created_at" AS t0_r10, "spree_products"."updated_at" AS t0_r11, "spree_products"."promotionable" AS t0_r12, "spree_products"."meta_title" AS t0_r13, "spree_products"."discontinue_on" AS t0_r14, "spree_products_taxons"."product_id" AS t1_r0, "spree_products_taxons"."taxon_id" AS t1_r1, "spree_products_taxons"."id" AS t1_r2, "spree_products_taxons"."position" AS t1_r3 FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL LEFT OUTER JOIN "spree_products_taxons" ON "spree_products_taxons"."product_id" = "spree_products"."id" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:51:29.513613') AND ("spree_products".available_on <= '2017-07-26 11:51:29.513574') AND "spree_products_taxons"."taxon_id" IN (5, 6, 7) AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 AND "spree_products"."id" IN (3, 4, 5, 9, 7, 6, 8, 10) ORDER BY spree_products_taxons.position ASC[0m  [["is_master", "t"], ["currency", "USD"]]
  [1m[36mSpree::TaxCategory Load (0.6ms)[0m  [1m[34mSELECT "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = 1[0m
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."is_master" = $1 AND "spree_variants"."product_id" IN (3, 4, 5, 9, 7, 6, 8, 10)[0m  [["is_master", "t"]]
  [1m[36mSpree::Price Load (0.7ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" IN (6, 10, 9, 8, 3, 4, 5, 7)[0m
  [1m[36mSpree::Image Load (1.3ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" IN (3, 4, 5, 9, 7, 6, 8, 10) ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mCACHE Spree::Order Load (0.1ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.9ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.1ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_products.html.erb (263.5ms)
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" = $1 ORDER BY "spree_taxons"."lft"[0m  [["parent_id", 5]]
  [1m[35m (3.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL INNER JOIN "spree_products_taxons" ON "spree_products"."id" = "spree_products_taxons"."product_id" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products_taxons"."taxon_id" = $2 AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:51:29.992918') AND ("spree_products".available_on <= '2017-07-26 11:51:29.992893') ORDER BY "spree_products_taxons"."position" ASC LIMIT $3) subquery_for_count[0m  [["is_master", "t"], ["taxon_id", 6], ["LIMIT", 4]]
  [1m[36mSpree::Product Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL INNER JOIN "spree_products_taxons" ON "spree_products"."id" = "spree_products_taxons"."product_id" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products_taxons"."taxon_id" = $2 AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:51:29.992918') AND ("spree_products".available_on <= '2017-07-26 11:51:29.992893') LIMIT $3[0m  [["is_master", "t"], ["taxon_id", 6], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Product Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL INNER JOIN "spree_products_taxons" ON "spree_products"."id" = "spree_products_taxons"."product_id" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products_taxons"."taxon_id" = $2 AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:51:29.992918') AND ("spree_products".available_on <= '2017-07-26 11:51:29.992893') LIMIT $3[0m  [["is_master", "t"], ["taxon_id", 6], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (2.5ms)[0m  [1m[34mSELECT  DISTINCT (spree_products.id), spree_products.*, spree_products_taxons.position FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL INNER JOIN "spree_products_taxons" ON "spree_products"."id" = "spree_products_taxons"."product_id" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products_taxons"."taxon_id" = $2 AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:51:29.992918') AND ("spree_products".available_on <= '2017-07-26 11:51:29.992893') ORDER BY "spree_products_taxons"."position" ASC LIMIT $3[0m  [["is_master", "t"], ["taxon_id", 6], ["LIMIT", 4]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 4], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Image Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 LIMIT $3[0m  [["viewable_id", 4], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Image Load (0.8ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 ORDER BY "spree_assets"."position" ASC LIMIT $3[0m  [["viewable_id", 4], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.7ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 4]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (0.8ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 9], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Image Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 LIMIT $3[0m  [["viewable_id", 9], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Image Load (0.7ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 ORDER BY "spree_assets"."position" ASC LIMIT $3[0m  [["viewable_id", 9], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 9]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::TaxCategory Load (0.0ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_products.html.erb (52.3ms)
  [1m[35m (2.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL INNER JOIN "spree_products_taxons" ON "spree_products"."id" = "spree_products_taxons"."product_id" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products_taxons"."taxon_id" = $2 AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:51:30.077462') AND ("spree_products".available_on <= '2017-07-26 11:51:30.077441') ORDER BY "spree_products_taxons"."position" ASC LIMIT $3) subquery_for_count[0m  [["is_master", "t"], ["taxon_id", 7], ["LIMIT", 4]]
  [1m[36mSpree::Product Exists (2.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL INNER JOIN "spree_products_taxons" ON "spree_products"."id" = "spree_products_taxons"."product_id" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products_taxons"."taxon_id" = $2 AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:51:30.077462') AND ("spree_products".available_on <= '2017-07-26 11:51:30.077441') LIMIT $3[0m  [["is_master", "t"], ["taxon_id", 7], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Product Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL INNER JOIN "spree_products_taxons" ON "spree_products"."id" = "spree_products_taxons"."product_id" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products_taxons"."taxon_id" = $2 AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:51:30.077462') AND ("spree_products".available_on <= '2017-07-26 11:51:30.077441') LIMIT $3[0m  [["is_master", "t"], ["taxon_id", 7], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (3.5ms)[0m  [1m[34mSELECT  DISTINCT (spree_products.id), spree_products.*, spree_products_taxons.position FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL INNER JOIN "spree_products_taxons" ON "spree_products"."id" = "spree_products_taxons"."product_id" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products_taxons"."taxon_id" = $2 AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:51:30.077462') AND ("spree_products".available_on <= '2017-07-26 11:51:30.077441') ORDER BY "spree_products_taxons"."position" ASC LIMIT $3[0m  [["is_master", "t"], ["taxon_id", 7], ["LIMIT", 4]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 3], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Image Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 LIMIT $3[0m  [["viewable_id", 3], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Image Load (0.8ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 ORDER BY "spree_assets"."position" ASC LIMIT $3[0m  [["viewable_id", 3], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.7ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 3]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::TaxCategory Load (0.0ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 5], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Image Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 LIMIT $3[0m  [["viewable_id", 5], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Image Load (0.8ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 ORDER BY "spree_assets"."position" ASC LIMIT $3[0m  [["viewable_id", 5], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.8ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 5]]
  [1m[36mCACHE Spree::Order Load (0.1ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::TaxCategory Load (0.0ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 7], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Image Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 LIMIT $3[0m  [["viewable_id", 7], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Image Load (1.4ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 ORDER BY "spree_assets"."position" ASC LIMIT $3[0m  [["viewable_id", 7], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 7]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::TaxCategory Load (0.0ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 6], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Image Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 LIMIT $3[0m  [["viewable_id", 6], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Image Load (1.8ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 ORDER BY "spree_assets"."position" ASC LIMIT $3[0m  [["viewable_id", 6], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.7ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 6]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::TaxCategory Load (0.0ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_products.html.erb (91.0ms)
  Rendered collection of /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/taxons/_taxon.html.erb [2 times] (213.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/taxons/show.html.erb within spree/layouts/spree_application (589.0ms)
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 6) AND ("spree_taxons"."rgt" >= 11) AND "spree_taxons"."parent_id" IS NULL ORDER BY "spree_taxons"."lft" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_put_site_name_in_title"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/title_site_name_separator"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_translations.html.erb (1.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_head.html.erb (289.2ms)
  [1m[36mSpree::Tracker Load (1.1ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1 ORDER BY "spree_trackers"."id" ASC LIMIT $2[0m  [["active", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_analytics.js.erb (3.4ms)
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[1;32mDeface:[0m 1 overrides found for 'spree/shared/_nav_bar'
[1;32mDeface:[0m 'auth_shared_login_bar' matched 1 times with 'li#search-bar'
[1;32mDeface: [ERROR][0m The original source for 'auth_shared_login_bar' has changed, this override should be reviewed to ensure it's still valid.
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" = $1[0m  [["parent_id", 1]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" = $1 ORDER BY "spree_taxons"."lft"[0m  [["parent_id", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_search.html.erb (9.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_nav_bar.html.erb (35.3ms)
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_main_nav_bar.html.erb (3.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_header.html.erb (109.0ms)
  [1m[36mSpree::Taxon Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 6) AND ("spree_taxons"."rgt" >= 11) AND ("spree_taxons"."id" != 5) LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 6) AND ("spree_taxons"."rgt" >= 11) AND ("spree_taxons"."id" != 5) ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_sidebar.html.erb (0.8ms)
Completed 200 OK in 1224ms (Views: 1070.8ms | ActiveRecord: 85.5ms)


Started GET "/cart_link" for 127.0.0.1 at 2017-07-26 13:51:30 +0200
Processing by Spree::StoreController#cart_link as */*
  [1m[36mSpree::Preference Load (4.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.9ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (1.0ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.6ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.2ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_link_to_cart.html.erb (14.6ms)
Completed 304 Not Modified in 337ms (Views: 302.7ms | ActiveRecord: 10.4ms)


Started GET "/t/categories/mugs" for 127.0.0.1 at 2017-07-26 13:51:33 +0200
Processing by Spree::TaxonsController#show as HTML
  Parameters: {"id"=>"categories/mugs"}
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (2.0ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (1.2ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.5ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (11.2ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."permalink" = $1 ORDER BY "spree_taxons"."id" ASC LIMIT $2[0m  [["permalink", "categories/mugs"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (4.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (2.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/products_per_page"], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" >= 4) AND ("spree_taxons"."lft" < 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Preference Load (1.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/show_products_without_price"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/layout"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/taxons/show.html.erb within spree/layouts/spree_application
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/max_level_in_taxons_menu"], ["LIMIT", 1]]
  [1m[36mSpree::Taxonomy Load (0.7ms)[0m  [1m[34mSELECT "spree_taxonomies".* FROM "spree_taxonomies" ORDER BY spree_taxonomies.position, spree_taxonomies.created_at[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IN (1, 2)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IN (2, 1) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mCACHE Spree::Taxon Load (0.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mCACHE Spree::Taxon Load (0.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mCACHE Spree::Taxon Load (0.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mCACHE Spree::Taxon Load (0.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mCACHE Spree::Taxon Load (0.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mCACHE Spree::Taxon Load (0.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_taxonomies.html.erb (37.7ms)
  [1m[36mSpree::Property Load (0.7ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."name" = $1 LIMIT $2[0m  [["name", "brand"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_filters.html.erb (14.3ms)
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_products"."id") FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL LEFT OUTER JOIN "spree_products_taxons" ON "spree_products_taxons"."product_id" = "spree_products"."id" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:51:33.163637') AND ("spree_products".available_on <= '2017-07-26 11:51:33.163592') AND "spree_products_taxons"."taxon_id" = 4 AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2[0m  [["is_master", "t"], ["currency", "USD"]]
  [1m[35mSQL (4.3ms)[0m  [1m[34mSELECT  DISTINCT "spree_products"."id", spree_products_taxons.position AS alias_0 FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL LEFT OUTER JOIN "spree_products_taxons" ON "spree_products_taxons"."product_id" = "spree_products"."id" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:51:33.163637') AND ("spree_products".available_on <= '2017-07-26 11:51:33.163592') AND "spree_products_taxons"."taxon_id" = 4 AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 ORDER BY spree_products_taxons.position ASC LIMIT $3 OFFSET $4[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 12], ["OFFSET", 0]]
  [1m[36mSpree::Product Exists (4.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL LEFT OUTER JOIN "spree_products_taxons" ON "spree_products_taxons"."product_id" = "spree_products"."id" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:51:33.163637') AND ("spree_products".available_on <= '2017-07-26 11:51:33.163592') AND "spree_products_taxons"."taxon_id" = 4 AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 AND "spree_products"."id" IN (13, 14, 15, 16) LIMIT $3[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 1]]
  [1m[35mCACHE SQL (0.0ms)[0m  [1m[34mSELECT  DISTINCT "spree_products"."id", spree_products_taxons.position AS alias_0 FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL LEFT OUTER JOIN "spree_products_taxons" ON "spree_products_taxons"."product_id" = "spree_products"."id" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:51:33.163637') AND ("spree_products".available_on <= '2017-07-26 11:51:33.163592') AND "spree_products_taxons"."taxon_id" = 4 AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 ORDER BY spree_products_taxons.position ASC LIMIT $3 OFFSET $4[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 12], ["OFFSET", 0]]
  [1m[36mCACHE Spree::Product Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL LEFT OUTER JOIN "spree_products_taxons" ON "spree_products_taxons"."product_id" = "spree_products"."id" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:51:33.163637') AND ("spree_products".available_on <= '2017-07-26 11:51:33.163592') AND "spree_products_taxons"."taxon_id" = 4 AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 AND "spree_products"."id" IN (13, 14, 15, 16) LIMIT $3[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 1]]
  [1m[35mCACHE SQL (0.0ms)[0m  [1m[34mSELECT  DISTINCT "spree_products"."id", spree_products_taxons.position AS alias_0 FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL LEFT OUTER JOIN "spree_products_taxons" ON "spree_products_taxons"."product_id" = "spree_products"."id" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:51:33.163637') AND ("spree_products".available_on <= '2017-07-26 11:51:33.163592') AND "spree_products_taxons"."taxon_id" = 4 AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 ORDER BY spree_products_taxons.position ASC LIMIT $3 OFFSET $4[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 12], ["OFFSET", 0]]
  [1m[35mSQL (2.5ms)[0m  [1m[34mSELECT "spree_products"."id" AS t0_r0, "spree_products"."name" AS t0_r1, "spree_products"."description" AS t0_r2, "spree_products"."available_on" AS t0_r3, "spree_products"."deleted_at" AS t0_r4, "spree_products"."slug" AS t0_r5, "spree_products"."meta_description" AS t0_r6, "spree_products"."meta_keywords" AS t0_r7, "spree_products"."tax_category_id" AS t0_r8, "spree_products"."shipping_category_id" AS t0_r9, "spree_products"."created_at" AS t0_r10, "spree_products"."updated_at" AS t0_r11, "spree_products"."promotionable" AS t0_r12, "spree_products"."meta_title" AS t0_r13, "spree_products"."discontinue_on" AS t0_r14, "spree_products_taxons"."product_id" AS t1_r0, "spree_products_taxons"."taxon_id" AS t1_r1, "spree_products_taxons"."id" AS t1_r2, "spree_products_taxons"."position" AS t1_r3 FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL LEFT OUTER JOIN "spree_products_taxons" ON "spree_products_taxons"."product_id" = "spree_products"."id" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:51:33.163637') AND ("spree_products".available_on <= '2017-07-26 11:51:33.163592') AND "spree_products_taxons"."taxon_id" = 4 AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 AND "spree_products"."id" IN (13, 14, 15, 16) ORDER BY spree_products_taxons.position ASC[0m  [["is_master", "t"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."is_master" = $1 AND "spree_variants"."product_id" IN (13, 14, 15, 16)[0m  [["is_master", "t"]]
  [1m[36mSpree::Price Load (0.8ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" IN (15, 16, 13, 14)[0m
  [1m[36mSpree::Image Load (0.8ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" IN (13, 14, 15, 16) ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.5ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (0.6ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."is_default" = $1 LIMIT $2[0m  [["is_default", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::TaxCategory Load (0.0ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."is_default" = $1 LIMIT $2[0m  [["is_default", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::TaxCategory Load (0.0ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."is_default" = $1 LIMIT $2[0m  [["is_default", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::TaxCategory Load (0.1ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."is_default" = $1 LIMIT $2[0m  [["is_default", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_products.html.erb (119.0ms)
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" = $1 ORDER BY "spree_taxons"."lft"[0m  [["parent_id", 4]]
  Rendered collection of /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/taxons/_taxon.html.erb [0 times] (0.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/taxons/show.html.erb within spree/layouts/spree_application (274.5ms)
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) AND "spree_taxons"."parent_id" IS NULL ORDER BY "spree_taxons"."lft" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_put_site_name_in_title"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/title_site_name_separator"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_translations.html.erb (1.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_head.html.erb (177.4ms)
  [1m[36mSpree::Tracker Load (0.6ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1 ORDER BY "spree_trackers"."id" ASC LIMIT $2[0m  [["active", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_analytics.js.erb (2.4ms)
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[1;32mDeface:[0m 1 overrides found for 'spree/shared/_nav_bar'
[1;32mDeface:[0m 'auth_shared_login_bar' matched 1 times with 'li#search-bar'
[1;32mDeface: [ERROR][0m The original source for 'auth_shared_login_bar' has changed, this override should be reviewed to ensure it's still valid.
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" = $1[0m  [["parent_id", 1]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" = $1 ORDER BY "spree_taxons"."lft"[0m  [["parent_id", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_search.html.erb (11.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_nav_bar.html.erb (33.7ms)
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_main_nav_bar.html.erb (3.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_header.html.erb (106.8ms)
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) AND ("spree_taxons"."id" != 4) LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) AND ("spree_taxons"."id" != 4) ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_sidebar.html.erb (0.6ms)
Completed 200 OK in 798ms (Views: 682.1ms | ActiveRecord: 60.1ms)


Started GET "/cart_link" for 127.0.0.1 at 2017-07-26 13:51:34 +0200
Processing by Spree::StoreController#cart_link as */*
  [1m[36mSpree::Preference Load (1.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (1.0ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.4ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_link_to_cart.html.erb (14.8ms)
Completed 304 Not Modified in 351ms (Views: 318.1ms | ActiveRecord: 6.7ms)


Started GET "/products/ruby-on-rails-mug?taxon_id=4" for 127.0.0.1 at 2017-07-26 13:51:36 +0200
Processing by Spree::ProductsController#show as HTML
  Parameters: {"taxon_id"=>"4", "id"=>"ruby-on-rails-mug"}
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.9ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.9ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mSpree::Product Load (1.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 11:51:36.041734') AND ("spree_products".available_on <= '2017-07-26 11:51:36.041684') AND "spree_products"."slug" = $2 ORDER BY "spree_products"."id" ASC LIMIT $3[0m  [["is_master", "t"], ["slug", "ruby-on-rails-mug"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (1.2ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = 13 ORDER BY "spree_variants"."position" ASC[0m
  [1m[36mSpree::Image Load (0.9ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 13 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 13[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/layout"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/show.html.erb within spree/layouts/spree_application
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.5ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Promotion Load (1.3ms)[0m  [1m[34mSELECT "spree_promotions".* FROM "spree_promotions" INNER JOIN "spree_promotion_rules" ON "spree_promotions"."id" = "spree_promotion_rules"."promotion_id" INNER JOIN "spree_product_promotion_rules" ON "spree_promotion_rules"."id" = "spree_product_promotion_rules"."promotion_rule_id" WHERE "spree_product_promotion_rules"."product_id" = $1 AND "spree_promotions"."advertise" = $2 AND (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2017-07-26 11:51:36.143666') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2017-07-26 11:51:36.143763')[0m  [["product_id", 13], ["advertise", "t"]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 13], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Image Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 LIMIT $3[0m  [["viewable_id", 13], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Image Load (0.8ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 ORDER BY "spree_assets"."position" ASC LIMIT $3[0m  [["viewable_id", 13], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Image Load (0.9ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_id", 13], ["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Variant Load (0.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 13], ["is_master", "f"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/_thumbnails.html.erb (15.7ms)
  [1m[36mSpree::ProductProperty Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.7ms)[0m  [1m[34mSELECT "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 ORDER BY "spree_product_properties"."position" ASC[0m  [["product_id", 13]]
  [1m[36mSpree::Property Load (2.7ms)[0m  [1m[34mSELECT "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" IN (9, 10)[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/_properties.html.erb (10.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/_promotions.html.erb (1.6ms)
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/show_raw_product_description"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (2.1ms)[0m  [1m[34mSELECT DISTINCT "spree_variants".* FROM "spree_variants" INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 AND ("spree_variants"."discontinue_on" IS NULL OR "spree_variants"."discontinue_on" >= '2017-07-26 11:51:36.292765') AND ("spree_variants".deleted_at IS NULL) AND (spree_prices.currency = 'USD') AND (spree_prices.amount IS NOT NULL) ORDER BY "spree_variants"."position" ASC[0m  [["product_id", 13], ["is_master", "f"]]
  [1m[36mSpree::Price Load (0.9ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 13]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 13], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.1ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (2.1ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."is_default" = $1 LIMIT $2[0m  [["is_default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 13], ["active", "t"]]
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC[0m  [["product_id", 13]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 13], ["active", "t"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/_cart_form.html.erb (50.2ms)
  [1m[36mSpree::Taxon Load (1.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 13]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/_taxons.html.erb (5.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/show.html.erb within spree/layouts/spree_application (239.0ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_put_site_name_in_title"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/title_site_name_separator"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_translations.html.erb (1.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_head.html.erb (183.5ms)
  [1m[36mSpree::Tracker Load (0.6ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1 ORDER BY "spree_trackers"."id" ASC LIMIT $2[0m  [["active", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_analytics.js.erb (2.9ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[1;32mDeface:[0m 1 overrides found for 'spree/shared/_nav_bar'
[1;32mDeface:[0m 'auth_shared_login_bar' matched 1 times with 'li#search-bar'
[1;32mDeface: [ERROR][0m The original source for 'auth_shared_login_bar' has changed, this override should be reviewed to ensure it's still valid.
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" = $1[0m  [["parent_id", 1]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" = $1 ORDER BY "spree_taxons"."lft"[0m  [["parent_id", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_search.html.erb (9.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_nav_bar.html.erb (32.7ms)
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.1ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_main_nav_bar.html.erb (6.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_header.html.erb (110.6ms)
  [1m[36mSpree::Taxon Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) AND ("spree_taxons"."id" != 4) LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (1.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) AND ("spree_taxons"."id" != 4) ORDER BY "spree_taxons"."lft"[0m
Completed 200 OK in 739ms (Views: 642.6ms | ActiveRecord: 40.2ms)


Started GET "/cart_link" for 127.0.0.1 at 2017-07-26 13:51:36 +0200
Processing by Spree::StoreController#cart_link as */*
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (1.3ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "5yhEjCOFPNsfyaeBRiqr9A1501066971123"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_link_to_cart.html.erb (14.1ms)
Completed 304 Not Modified in 293ms (Views: 266.6ms | ActiveRecord: 5.6ms)


Started GET "/admin/orders" for 127.0.0.1 at 2017-07-26 13:52:59 +0200
Processing by Spree::Admin::OrdersController#index as HTML
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (1.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/show_only_complete_orders_by_default"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_orders_per_page"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/index.html.erb within spree/layouts/admin
  [1m[35m (1.0ms)[0m  [1m[34mSELECT DISTINCT "spree_promotions"."name", "spree_promotions"."id" FROM "spree_promotions" INNER JOIN spree_order_promotions
        ON spree_order_promotions.promotion_id = spree_promotions.id[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_orders"."id") FROM "spree_orders" WHERE ("spree_orders"."completed_at" IS NOT NULL)[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_index_table_options.html.erb (32.6ms)
  [1m[36mSpree::Order Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE ("spree_orders"."completed_at" IS NOT NULL) LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mSpree::Order Load (1.4ms)[0m  [1m[34mSELECT  DISTINCT "spree_orders".* FROM "spree_orders" WHERE ("spree_orders"."completed_at" IS NOT NULL) ORDER BY "spree_orders"."completed_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = 2[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_index_table_options.html.erb (22.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/index.html.erb within spree/layouts/admin (138.4ms)
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (736.3ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (1.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (21.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (3.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (5.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (1.7ms)
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.7ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (11.4ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (147.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_table_filter.html.erb (1.5ms)
Completed 200 OK in 1261ms (Views: 1216.6ms | ActiveRecord: 11.8ms)


Started GET "/admin/orders/R139847242/edit" for 127.0.0.1 at 2017-07-26 13:53:04 +0200
Processing by Spree::Admin::OrdersController#edit as HTML
  Parameters: {"id"=>"R139847242"}
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R139847242"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.9ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 3 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R139847242"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Adjustment Load (0.0ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 3 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[36mSpree::Address Load (0.7ms)[0m  [1m[34mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Shipment Load (0.7ms)[0m  [1m[34mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::Address Load (0.5ms)[0m  [1m[34mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[36mSpree::State Load (0.6ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT $2[0m  [["id", 628], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Country Load (0.0ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/address_requires_state"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingRate Load (0.9ms)[0m  [1m[34mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2 ORDER BY "spree_shipping_rates"."cost" ASC LIMIT $3[0m  [["shipment_id", 3], ["selected", "t"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingMethod Load (0.7ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.8ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_variants"."id" AS t1_r0, "spree_variants"."sku" AS t1_r1, "spree_variants"."weight" AS t1_r2, "spree_variants"."height" AS t1_r3, "spree_variants"."width" AS t1_r4, "spree_variants"."depth" AS t1_r5, "spree_variants"."deleted_at" AS t1_r6, "spree_variants"."is_master" AS t1_r7, "spree_variants"."product_id" AS t1_r8, "spree_variants"."cost_price" AS t1_r9, "spree_variants"."position" AS t1_r10, "spree_variants"."cost_currency" AS t1_r11, "spree_variants"."track_inventory" AS t1_r12, "spree_variants"."tax_category_id" AS t1_r13, "spree_variants"."updated_at" AS t1_r14, "spree_variants"."discontinue_on" AS t1_r15, "spree_variants"."created_at" AS t1_r16 FROM "spree_inventory_units" INNER JOIN "spree_variants" ON "spree_variants"."id" = "spree_inventory_units"."variant_id" AND "spree_variants"."deleted_at" IS NULL WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 3]]
  [1m[36mSpree::ShippingCategory Load (1.5ms)[0m  [1m[34mSELECT DISTINCT "spree_shipping_categories".* FROM "spree_shipping_categories" INNER JOIN "spree_products" ON "spree_products"."shipping_category_id" = "spree_shipping_categories"."id" AND "spree_products"."deleted_at" IS NULL INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."deleted_at" IS NULL WHERE "spree_variants"."id" = 19[0m
  [1m[36mSpree::ShippingMethodCategory Load (2.4ms)[0m  [1m[34mSELECT "spree_shipping_method_categories".* FROM "spree_shipping_method_categories" WHERE "spree_shipping_method_categories"."shipping_category_id" = 1[0m
  [1m[36mSpree::ShippingMethod Load (0.7ms)[0m  [1m[34mSELECT "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL AND "spree_shipping_methods"."id" IN (1, 2, 3, 4, 5)[0m
  [1m[36mSpree::Calculator Load (1.1ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (1.2ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 1]]
  [1m[36mSpree::ZoneMember Load (0.6ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 2[0m
  [1m[36mSpree::Calculator Load (0.7ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 2], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.8ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 2]]
  [1m[36mCACHE Spree::ZoneMember Load (0.0ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 2[0m
  [1m[36mSpree::Calculator Load (0.8ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 3], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (1.2ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 3]]
  [1m[36mCACHE Spree::ZoneMember Load (0.0ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 2[0m
  [1m[36mSpree::Calculator Load (0.6ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 4], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (1.0ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 4]]
  [1m[36mSpree::ZoneMember Load (0.6ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 1[0m
  [1m[36mSpree::Calculator Load (0.9ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 5], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.8ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 5]]
  [1m[36mCACHE Spree::ZoneMember Load (0.0ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 1[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/tax_using_ship_address"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[34mSELECT "spree_zones"."id" AS t0_r0, "spree_zones"."name" AS t0_r1, "spree_zones"."description" AS t0_r2, "spree_zones"."default_tax" AS t0_r3, "spree_zones"."zone_members_count" AS t0_r4, "spree_zones"."created_at" AS t0_r5, "spree_zones"."updated_at" AS t0_r6, "spree_zones"."kind" AS t0_r7, "spree_zone_members"."id" AS t1_r0, "spree_zone_members"."zoneable_type" AS t1_r1, "spree_zone_members"."zoneable_id" AS t1_r2, "spree_zone_members"."zone_id" AS t1_r3, "spree_zone_members"."created_at" AS t1_r4, "spree_zone_members"."updated_at" AS t1_r5 FROM "spree_zones" LEFT OUTER JOIN "spree_zone_members" ON "spree_zone_members"."zone_id" = "spree_zones"."id" WHERE ((spree_zone_members.zoneable_type = 'Spree::Country' AND spree_zone_members.zoneable_id = 68) OR (spree_zone_members.zoneable_type = 'Spree::State' AND spree_zone_members.zoneable_id = 628)) ORDER BY spree_zones.zone_members_count, spree_zones.created_at[0m
  [1m[36mSpree::Zone Load (0.5ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingRate Load (0.8ms)[0m  [1m[34mSELECT "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 ORDER BY "spree_shipping_rates"."cost" ASC[0m  [["shipment_id", 3]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."id" = 10[0m  [["shipment_id", 3]]
  [1m[35mSQL (2.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_rates" ("shipment_id", "shipping_method_id", "selected", "cost", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["shipment_id", 3], ["shipping_method_id", 4], ["selected", "t"], ["cost", "5.0"], ["created_at", "2017-07-26 11:53:04.411961"], ["updated_at", "2017-07-26 11:53:04.411961"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (2.5ms)[0m  [1m[33mUPDATE "spree_shipping_rates" SET "selected" = 'f' WHERE "spree_shipping_rates"."id" IN (SELECT "spree_shipping_rates"."id" FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 ORDER BY "spree_shipping_rates"."cost" ASC)[0m  [["shipment_id", 3]]
  [1m[36mSpree::ShippingRate Load (0.8ms)[0m  [1m[34mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."id" = $2 ORDER BY "spree_shipping_rates"."cost" ASC LIMIT $3[0m  [["shipment_id", 3], ["id", 11], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_shipping_rates" SET "selected" = $1, "updated_at" = $2 WHERE "spree_shipping_rates"."id" = $3[0m  [["selected", "t"], ["updated_at", "2017-07-26 11:53:04.426474"], ["id", 11]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Shipment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 AND ("spree_shipments"."id" != $2) LIMIT $3[0m  [["number", "H21517727852"], ["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Shipment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 AND ("spree_shipments"."id" != $2) LIMIT $3[0m  [["number", "H21517727852"], ["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/edit.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_order_actions.html.erb (7.1ms)
  [1m[35m (3.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 AND "spree_shipments"."state" = 'shipped'[0m  [["order_id", 3]]
  [1m[36mSpree::Preference Load (0.8ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (0.9ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::PaymentMethod Load (1.0ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_order_tabs.html.erb (22.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_error_messages.html.erb (1.0ms)
  [1m[36mSpree::Payment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_autocomplete.js.erb (5.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_autocomplete_stock.js.erb (1.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_add_product.html.erb (71.9ms)
  [1m[36mSpree::LineItem Exists (6.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Shipment Load (1.1ms)[0m  [1m[34mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 ORDER BY "spree_shipments"."created_at" ASC[0m  [["order_id", 3]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_split.js.erb (1.2ms)
  [1m[36mSpree::StockLocation Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::InventoryUnit Load (0.5ms)[0m  [1m[34mSELECT "spree_inventory_units".* FROM "spree_inventory_units" WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 3]]
  [1m[36mSpree::LineItem Load (0.5ms)[0m  [1m[34mSELECT  "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Image Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 LIMIT $3[0m  [["viewable_id", 19], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Image Load (1.0ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 ORDER BY "spree_assets"."position" ASC LIMIT $3[0m  [["viewable_id", 19], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Exists (6.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" INNER JOIN "spree_option_value_variants" ON "spree_option_values"."id" = "spree_option_value_variants"."option_value_id" WHERE "spree_option_value_variants"."variant_id" = $1 LIMIT $2[0m  [["variant_id", 19], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Load (1.6ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" INNER JOIN "spree_option_value_variants" ON "spree_option_values"."id" = "spree_option_value_variants"."option_value_id" WHERE "spree_option_value_variants"."variant_id" = $1[0m  [["variant_id", 19]]
  [1m[36mSpree::OptionType Load (0.9ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.7ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_shipment_manifest.html.erb (40.9ms)
  [1m[36mSpree::ShippingRate Load (0.6ms)[0m  [1m[34mSELECT "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 ORDER BY "spree_shipping_rates"."cost" ASC[0m  [["shipment_id", 3]]
  [1m[36mSpree::ShippingMethod Load (0.6ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::Shipment Load (0.9ms)[0m  [1m[34mSELECT  "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::ShippingRate Load (0.8ms)[0m  [1m[34mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2 ORDER BY "spree_shipping_rates"."cost" ASC LIMIT $3[0m  [["shipment_id", 3], ["selected", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::ShippingMethod Load (0.0ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered collection of /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_shipment.html.erb [1 times] (124.1ms)
  [1m[36mSpree::Adjustment Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_line_items" ON "spree_adjustments"."adjustable_id" = "spree_line_items"."id" WHERE "spree_line_items"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3 LIMIT $4[0m  [["order_id", 3], ["adjustable_type", "Spree::LineItem"], ["eligible", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_adjustments.html.erb (4.3ms)
  [1m[36mSpree::Adjustment Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_shipments" ON "spree_adjustments"."adjustable_id" = "spree_shipments"."id" WHERE "spree_shipments"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3 LIMIT $4[0m  [["order_id", 3], ["adjustable_type", "Spree::Shipment"], ["eligible", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_adjustments.html.erb (3.2ms)
  [1m[36mSpree::Adjustment Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3 LIMIT $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_adjustments.html.erb (3.2ms)
  [1m[36mCACHE Spree::LineItem Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::InventoryUnit Load (0.0ms)[0m  [1m[34mSELECT "spree_inventory_units".* FROM "spree_inventory_units" WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 3]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_update_order_state.js.erb (2.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_form.html.erb (310.5ms)
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::PaymentMethod Load (0.0ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_order_summary.html.erb (9.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/edit.html.erb within spree/layouts/admin (627.0ms)
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (433.1ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (1.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (24.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (4.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.2ms)
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (14.8ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (193.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_sidebar.html.erb (0.8ms)
Completed 200 OK in 1742ms (Views: 1528.3ms | ActiveRecord: 81.8ms)


Started GET "/api/v1/variants?q%5Bid_eq%5D=19&token=b1af2810df846a04152517c389d5167128d83feb542749ac" for 127.0.0.1 at 2017-07-26 13:53:27 +0200
Processing by Spree::Api::V1::VariantsController#index as JSON
  Parameters: {"q"=>{"id_eq"=>"19"}, "token"=>"b1af2810df846a04152517c389d5167128d83feb542749ac"}
  [1m[36mSpree::User Load (0.6ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."spree_api_key" = $1 LIMIT $2[0m  [["spree_api_key", "b1af2810df846a04152517c389d5167128d83feb542749ac"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "spree_roles"."name" FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/variants/index.v1.rabl
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 19 LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  [1m[36mSpree::OptionValueVariant Load (0.7ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 19[0m
  [1m[36mSpree::OptionValue Load (0.5ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 6)[0m
  [1m[36mSpree::OptionType Load (0.6ms)[0m  [1m[34mSELECT "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" IN (1, 2) ORDER BY "spree_option_types"."position" ASC[0m
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."currency" = $1 AND "spree_prices"."variant_id" = 19[0m  [["currency", "USD"]]
  [1m[36mSpree::Image Load (0.8ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 19 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::StockItem Load (0.6ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = 19[0m
  [1m[36mSpree::StockLocation Load (0.7ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = 1[0m
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 19], ["active", "t"]]
  [1m[36mSpree::StockItem Load (1.1ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 19], ["active", "t"]]
  [1m[36mCACHE Spree::StockItem Load (0.0ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 19], ["active", "t"]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 19], ["active", "t"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 19 LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 25], ["OFFSET", 0]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/variants/index.v1.rabl (169.2ms)
Completed 200 OK in 409ms (Views: 389.9ms | ActiveRecord: 11.1ms)


Started GET "/admin/orders" for 127.0.0.1 at 2017-07-26 13:53:58 +0200
Processing by Spree::Admin::OrdersController#index as HTML
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (1.0ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/show_only_complete_orders_by_default"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_orders_per_page"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/index.html.erb within spree/layouts/admin
  [1m[35m (1.1ms)[0m  [1m[34mSELECT DISTINCT "spree_promotions"."name", "spree_promotions"."id" FROM "spree_promotions" INNER JOIN spree_order_promotions
        ON spree_order_promotions.promotion_id = spree_promotions.id[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_orders"."id") FROM "spree_orders" WHERE ("spree_orders"."completed_at" IS NOT NULL)[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_index_table_options.html.erb (30.5ms)
  [1m[36mSpree::Order Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE ("spree_orders"."completed_at" IS NOT NULL) LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mSpree::Order Load (1.3ms)[0m  [1m[34mSELECT  DISTINCT "spree_orders".* FROM "spree_orders" WHERE ("spree_orders"."completed_at" IS NOT NULL) ORDER BY "spree_orders"."completed_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = 2[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_index_table_options.html.erb (23.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/index.html.erb within spree/layouts/admin (128.0ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (547.0ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (1.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (24.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (6.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.1ms)
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (9.7ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (156.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_table_filter.html.erb (13.7ms)
Completed 200 OK in 1116ms (Views: 1066.3ms | ActiveRecord: 10.4ms)


Started GET "/admin/orders/R987654321/edit" for 127.0.0.1 at 2017-07-26 13:54:20 +0200
Processing by Spree::Admin::OrdersController#edit as HTML
  Parameters: {"id"=>"R987654321"}
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Order Load (1.5ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R987654321"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.8ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 2 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R987654321"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Adjustment Load (0.0ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 2 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[36mSpree::Address Load (0.8ms)[0m  [1m[34mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Shipment Load (1.0ms)[0m  [1m[34mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 2]]
  [1m[36mSpree::Address Load (0.6ms)[0m  [1m[34mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT $2[0m  [["id", 3045], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Country Load (0.0ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/address_requires_state"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingRate Load (1.0ms)[0m  [1m[34mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2 ORDER BY "spree_shipping_rates"."cost" ASC LIMIT $3[0m  [["shipment_id", 2], ["selected", "t"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingMethod Load (1.2ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_variants"."id" AS t1_r0, "spree_variants"."sku" AS t1_r1, "spree_variants"."weight" AS t1_r2, "spree_variants"."height" AS t1_r3, "spree_variants"."width" AS t1_r4, "spree_variants"."depth" AS t1_r5, "spree_variants"."deleted_at" AS t1_r6, "spree_variants"."is_master" AS t1_r7, "spree_variants"."product_id" AS t1_r8, "spree_variants"."cost_price" AS t1_r9, "spree_variants"."position" AS t1_r10, "spree_variants"."cost_currency" AS t1_r11, "spree_variants"."track_inventory" AS t1_r12, "spree_variants"."tax_category_id" AS t1_r13, "spree_variants"."updated_at" AS t1_r14, "spree_variants"."discontinue_on" AS t1_r15, "spree_variants"."created_at" AS t1_r16 FROM "spree_inventory_units" INNER JOIN "spree_variants" ON "spree_variants"."id" = "spree_inventory_units"."variant_id" AND "spree_variants"."deleted_at" IS NULL WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 2]]
  [1m[36mSpree::ShippingCategory Load (1.2ms)[0m  [1m[34mSELECT DISTINCT "spree_shipping_categories".* FROM "spree_shipping_categories" INNER JOIN "spree_products" ON "spree_products"."shipping_category_id" = "spree_shipping_categories"."id" AND "spree_products"."deleted_at" IS NULL INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."deleted_at" IS NULL WHERE "spree_variants"."id" = 2[0m
  [1m[36mSpree::ShippingMethodCategory Load (0.7ms)[0m  [1m[34mSELECT "spree_shipping_method_categories".* FROM "spree_shipping_method_categories" WHERE "spree_shipping_method_categories"."shipping_category_id" = 1[0m
  [1m[36mSpree::ShippingMethod Load (0.9ms)[0m  [1m[34mSELECT "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL AND "spree_shipping_methods"."id" IN (1, 2, 3, 4, 5)[0m
  [1m[36mSpree::Calculator Load (0.7ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (1.7ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 1]]
  [1m[36mSpree::ZoneMember Load (1.2ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 2[0m
  [1m[36mSpree::Calculator Load (0.6ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 2], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.7ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 2]]
  [1m[36mCACHE Spree::ZoneMember Load (0.0ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 2[0m
  [1m[36mSpree::Calculator Load (0.8ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 3], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.7ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 3]]
  [1m[36mCACHE Spree::ZoneMember Load (0.0ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 2[0m
  [1m[36mSpree::Calculator Load (0.7ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 4], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.8ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 4]]
  [1m[36mSpree::ZoneMember Load (0.6ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 1[0m
  [1m[36mSpree::Calculator Load (0.7ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 5], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.8ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 5]]
  [1m[36mCACHE Spree::ZoneMember Load (0.0ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 1[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/tax_using_ship_address"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT "spree_zones"."id" AS t0_r0, "spree_zones"."name" AS t0_r1, "spree_zones"."description" AS t0_r2, "spree_zones"."default_tax" AS t0_r3, "spree_zones"."zone_members_count" AS t0_r4, "spree_zones"."created_at" AS t0_r5, "spree_zones"."updated_at" AS t0_r6, "spree_zones"."kind" AS t0_r7, "spree_zone_members"."id" AS t1_r0, "spree_zone_members"."zoneable_type" AS t1_r1, "spree_zone_members"."zoneable_id" AS t1_r2, "spree_zone_members"."zone_id" AS t1_r3, "spree_zone_members"."created_at" AS t1_r4, "spree_zone_members"."updated_at" AS t1_r5 FROM "spree_zones" LEFT OUTER JOIN "spree_zone_members" ON "spree_zone_members"."zone_id" = "spree_zones"."id" WHERE ((spree_zone_members.zoneable_type = 'Spree::Country' AND spree_zone_members.zoneable_id = 232) OR (spree_zone_members.zoneable_type = 'Spree::State' AND spree_zone_members.zoneable_id = 3045)) ORDER BY spree_zones.zone_members_count, spree_zones.created_at[0m
  [1m[36mSpree::Zone Load (0.6ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingRate Load (0.6ms)[0m  [1m[34mSELECT "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 ORDER BY "spree_shipping_rates"."cost" ASC[0m  [["shipment_id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[31mDELETE FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."id" IN (7, 8, 9)[0m  [["shipment_id", 2]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_rates" ("shipment_id", "shipping_method_id", "selected", "cost", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["shipment_id", 2], ["shipping_method_id", 1], ["selected", "t"], ["cost", "5.0"], ["created_at", "2017-07-26 11:54:20.260100"], ["updated_at", "2017-07-26 11:54:20.260100"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_rates" ("shipment_id", "shipping_method_id", "cost", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["shipment_id", 2], ["shipping_method_id", 2], ["cost", "10.0"], ["created_at", "2017-07-26 11:54:20.261924"], ["updated_at", "2017-07-26 11:54:20.261924"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_shipping_rates" ("shipment_id", "shipping_method_id", "cost", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["shipment_id", 2], ["shipping_method_id", 3], ["cost", "15.0"], ["created_at", "2017-07-26 11:54:20.263686"], ["updated_at", "2017-07-26 11:54:20.263686"]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (2.5ms)[0m  [1m[33mUPDATE "spree_shipping_rates" SET "selected" = 'f' WHERE "spree_shipping_rates"."id" IN (SELECT "spree_shipping_rates"."id" FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 ORDER BY "spree_shipping_rates"."cost" ASC)[0m  [["shipment_id", 2]]
  [1m[36mSpree::ShippingRate Load (0.7ms)[0m  [1m[34mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."id" = $2 ORDER BY "spree_shipping_rates"."cost" ASC LIMIT $3[0m  [["shipment_id", 2], ["id", 12], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_shipping_rates" SET "selected" = $1, "updated_at" = $2 WHERE "spree_shipping_rates"."id" = $3[0m  [["selected", "t"], ["updated_at", "2017-07-26 11:54:20.274389"], ["id", 12]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Shipment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 AND ("spree_shipments"."id" != $2) LIMIT $3[0m  [["number", "H55771096793"], ["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Shipment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 AND ("spree_shipments"."id" != $2) LIMIT $3[0m  [["number", "H55771096793"], ["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/edit.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_order_actions.html.erb (6.5ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 AND "spree_shipments"."state" = 'shipped'[0m  [["order_id", 2]]
  [1m[36mSpree::Preference Load (1.0ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (0.9ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 2]]
  [1m[36mSpree::PaymentMethod Load (0.6ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_order_tabs.html.erb (16.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_error_messages.html.erb (1.0ms)
  [1m[36mSpree::Payment Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) LIMIT $2[0m  [["order_id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_autocomplete.js.erb (7.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_autocomplete_stock.js.erb (1.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_add_product.html.erb (67.3ms)
  [1m[36mSpree::LineItem Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 LIMIT $2[0m  [["order_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Shipment Load (0.7ms)[0m  [1m[34mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 ORDER BY "spree_shipments"."created_at" ASC[0m  [["order_id", 2]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_split.js.erb (1.6ms)
  [1m[36mSpree::StockLocation Load (0.7ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::InventoryUnit Load (0.5ms)[0m  [1m[34mSELECT "spree_inventory_units".* FROM "spree_inventory_units" WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 2]]
  [1m[36mSpree::LineItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Image Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 LIMIT $3[0m  [["viewable_id", 2], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Image Load (1.0ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 ORDER BY "spree_assets"."position" ASC LIMIT $3[0m  [["viewable_id", 2], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" INNER JOIN "spree_option_value_variants" ON "spree_option_values"."id" = "spree_option_value_variants"."option_value_id" WHERE "spree_option_value_variants"."variant_id" = $1 LIMIT $2[0m  [["variant_id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_shipment_manifest.html.erb (23.4ms)
  [1m[36mSpree::ShippingRate Load (0.6ms)[0m  [1m[34mSELECT "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 ORDER BY "spree_shipping_rates"."cost" ASC[0m  [["shipment_id", 2]]
  [1m[36mSpree::ShippingMethod Load (0.6ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Shipment Load (0.5ms)[0m  [1m[34mSELECT  "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.6ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::ShippingMethod Load (0.6ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Shipment Load (0.0ms)[0m  [1m[34mSELECT  "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::ShippingMethod Load (0.6ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Shipment Load (0.0ms)[0m  [1m[34mSELECT  "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::ShippingRate Load (0.9ms)[0m  [1m[34mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2 ORDER BY "spree_shipping_rates"."cost" ASC LIMIT $3[0m  [["shipment_id", 2], ["selected", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::ShippingMethod Load (0.0ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered collection of /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_shipment.html.erb [1 times] (123.4ms)
  [1m[36mSpree::Adjustment Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_line_items" ON "spree_adjustments"."adjustable_id" = "spree_line_items"."id" WHERE "spree_line_items"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3 LIMIT $4[0m  [["order_id", 2], ["adjustable_type", "Spree::LineItem"], ["eligible", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (1.2ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" INNER JOIN "spree_line_items" ON "spree_adjustments"."adjustable_id" = "spree_line_items"."id" WHERE "spree_line_items"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3 ORDER BY "spree_line_items"."created_at" ASC[0m  [["order_id", 2], ["adjustable_type", "Spree::LineItem"], ["eligible", "t"]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_adjustments.html.erb (14.6ms)
  [1m[36mSpree::Adjustment Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_shipments" ON "spree_adjustments"."adjustable_id" = "spree_shipments"."id" WHERE "spree_shipments"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3 LIMIT $4[0m  [["order_id", 2], ["adjustable_type", "Spree::Shipment"], ["eligible", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_adjustments.html.erb (3.7ms)
  [1m[36mSpree::Adjustment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3 LIMIT $4[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::Order"], ["eligible", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_adjustments.html.erb (6.3ms)
  [1m[36mCACHE Spree::LineItem Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 LIMIT $2[0m  [["order_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::InventoryUnit Load (0.1ms)[0m  [1m[34mSELECT "spree_inventory_units".* FROM "spree_inventory_units" WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 2]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_update_order_state.js.erb (2.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_form.html.erb (320.1ms)
  [1m[36mCACHE Spree::Payment Load (0.1ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 2]]
  [1m[36mCACHE Spree::PaymentMethod Load (0.0ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_order_summary.html.erb (9.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/edit.html.erb within spree/layouts/admin (611.0ms)
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (1.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (3.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (410.3ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (1.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (24.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (5.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (1.9ms)
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (12.9ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (193.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_sidebar.html.erb (1.2ms)
Completed 200 OK in 1691ms (Views: 1469.0ms | ActiveRecord: 64.5ms)


Started PUT "/api/v1/shipments/H55771096793.json" for 127.0.0.1 at 2017-07-26 13:54:33 +0200
Processing by Spree::Api::V1::ShipmentsController#update as JSON
  Parameters: {"shipment"=>{"selected_shipping_rate_id"=>"14"}, "token"=>"b1af2810df846a04152517c389d5167128d83feb542749ac", "id"=>"H55771096793"}
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."spree_api_key" = $1 LIMIT $2[0m  [["spree_api_key", "b1af2810df846a04152517c389d5167128d83feb542749ac"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "spree_roles"."name" FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Shipment Load (0.8ms)[0m  [1m[34mSELECT  "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 LIMIT $2[0m  [["number", "H55771096793"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.0ms)[0m  [1m[33mUPDATE "spree_shipping_rates" SET "selected" = 'f' WHERE "spree_shipping_rates"."id" IN (SELECT "spree_shipping_rates"."id" FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 ORDER BY "spree_shipping_rates"."cost" ASC)[0m  [["shipment_id", 2]]
  [1m[36mSpree::ShippingRate Load (0.9ms)[0m  [1m[34mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."id" = $2 ORDER BY "spree_shipping_rates"."cost" ASC LIMIT $3[0m  [["shipment_id", 2], ["id", 14], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_shipping_rates" SET "selected" = $1, "updated_at" = $2 WHERE "spree_shipping_rates"."id" = $3[0m  [["selected", "t"], ["updated_at", "2017-07-26 11:54:33.961494"], ["id", 14]]
  [1m[36mSpree::Shipment Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 AND ("spree_shipments"."id" != $2) LIMIT $3[0m  [["number", "H55771096793"], ["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (3.7ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Shipment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 AND ("spree_shipments"."id" != $2) LIMIT $3[0m  [["number", "H55771096793"], ["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Shipment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 AND ("spree_shipments"."id" != $2) LIMIT $3[0m  [["number", "H55771096793"], ["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Shipment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 AND ("spree_shipments"."id" != $2) LIMIT $3[0m  [["number", "H55771096793"], ["id", 2], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::ShippingRate Load (1.4ms)[0m  [1m[34mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2 ORDER BY "spree_shipping_rates"."cost" ASC LIMIT $3[0m  [["shipment_id", 2], ["selected", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.6ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."included" = $3[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::Shipment"], ["included", "f"]]
  [1m[35mSQL (1.9ms)[0m  [1m[33mUPDATE "spree_shipments" SET "cost" = 15.0, "adjustment_total" = 0, "updated_at" = '2017-07-26 11:54:33.992498' WHERE "spree_shipments"."id" = $1[0m  [["id", 2]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 2]]
  [1m[36mSpree::Payment Load (0.7ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 2]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))[0m  [["order_id", 2]]
  [1m[36mSpree::Reimbursement Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_reimbursements" WHERE "spree_reimbursements"."order_id" = $1 LIMIT $2[0m  [["order_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Reimbursement Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_reimbursements" WHERE "spree_reimbursements"."order_id" = $1 LIMIT $2[0m  [["order_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Reimbursement Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_reimbursements" WHERE "spree_reimbursements"."order_id" = $1 LIMIT $2[0m  [["order_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::InventoryUnit Load (0.6ms)[0m  [1m[34mSELECT "spree_inventory_units".* FROM "spree_inventory_units" WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 2]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/auto_capture_on_dispatch"], ["LIMIT", 1]]
  [1m[35mSQL (2.2ms)[0m  [1m[33mUPDATE "spree_shipments" SET "state" = 'pending', "updated_at" = '2017-07-26 11:54:34.015979' WHERE "spree_shipments"."id" = $1[0m  [["id", 2]]
  [1m[36mSpree::Shipment Load (0.6ms)[0m  [1m[34mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 2]]
  [1m[36mSpree::InventoryUnit Load (0.5ms)[0m  [1m[34mSELECT "spree_inventory_units".* FROM "spree_inventory_units" WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 2]]
  [1m[35mSQL (1.9ms)[0m  [1m[33mUPDATE "spree_orders" SET "payment_state" = 'balance_due', "shipment_state" = 'pending', "item_total" = 22.99, "item_count" = 1, "adjustment_total" = 2.36, "included_tax_total" = 0.0, "additional_tax_total" = 1.15, "payment_total" = 0.0, "shipment_total" = 15.0, "promo_total" = 0.0, "total" = 40.35, "updated_at" = '2017-07-26 11:54:34.027100' WHERE "spree_orders"."id" = $1[0m  [["id", 2]]
  [1m[36mSpree::Shipment Load (0.7ms)[0m  [1m[34mSELECT  "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/shipments/show.v1.rabl
  [1m[36mSpree::ShippingRate Load (0.8ms)[0m  [1m[34mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2 ORDER BY "spree_shipping_rates"."cost" ASC LIMIT $3[0m  [["shipment_id", 2], ["selected", "t"], ["LIMIT", 1]]
  [1m[36mSpree::InventoryUnit Load (0.5ms)[0m  [1m[34mSELECT "spree_inventory_units".* FROM "spree_inventory_units" WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 2]]
  [1m[36mSpree::LineItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (1.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::ShippingRate Load (0.7ms)[0m  [1m[34mSELECT "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 ORDER BY "spree_shipping_rates"."cost" ASC[0m  [["shipment_id", 2]]
  [1m[36mSpree::ShippingMethod Load (0.7ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Shipment Load (0.0ms)[0m  [1m[34mSELECT  "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.7ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::ShippingMethod Load (0.6ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Shipment Load (0.0ms)[0m  [1m[34mSELECT  "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::ShippingMethod Load (0.9ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Shipment Load (0.0ms)[0m  [1m[34mSELECT  "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::ShippingMethod Load (0.0ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Shipment Load (0.0ms)[0m  [1m[34mSELECT  "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::ShippingMethod Load (1.0ms)[0m  [1m[34mSELECT "spree_shipping_methods".* FROM "spree_shipping_methods" INNER JOIN "spree_shipping_rates" ON "spree_shipping_methods"."id" = "spree_shipping_rates"."shipping_method_id" WHERE "spree_shipping_methods"."deleted_at" IS NULL AND "spree_shipping_rates"."shipment_id" = $1 ORDER BY "spree_shipping_rates"."cost" ASC[0m  [["shipment_id", 2]]
  [1m[36mSpree::Zone Load (0.7ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 1]]
  [1m[36mSpree::ShippingCategory Load (2.1ms)[0m  [1m[34mSELECT "spree_shipping_categories".* FROM "spree_shipping_categories" INNER JOIN "spree_shipping_method_categories" ON "spree_shipping_categories"."id" = "spree_shipping_method_categories"."shipping_category_id" WHERE "spree_shipping_method_categories"."shipping_method_id" = $1[0m  [["shipping_method_id", 1]]
  [1m[36mSpree::Zone Load (0.8ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 2]]
  [1m[36mSpree::ShippingCategory Load (0.7ms)[0m  [1m[34mSELECT "spree_shipping_categories".* FROM "spree_shipping_categories" INNER JOIN "spree_shipping_method_categories" ON "spree_shipping_categories"."id" = "spree_shipping_method_categories"."shipping_category_id" WHERE "spree_shipping_method_categories"."shipping_method_id" = $1[0m  [["shipping_method_id", 2]]
  [1m[36mSpree::Zone Load (0.9ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 3]]
  [1m[36mSpree::ShippingCategory Load (0.6ms)[0m  [1m[34mSELECT "spree_shipping_categories".* FROM "spree_shipping_categories" INNER JOIN "spree_shipping_method_categories" ON "spree_shipping_categories"."id" = "spree_shipping_method_categories"."shipping_category_id" WHERE "spree_shipping_method_categories"."shipping_method_id" = $1[0m  [["shipping_method_id", 3]]
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 2], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Load (0.7ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" INNER JOIN "spree_option_value_variants" ON "spree_option_values"."id" = "spree_option_value_variants"."option_value_id" WHERE "spree_option_value_variants"."variant_id" = $1[0m  [["variant_id", 2]]
  [1m[36mSpree::Image Load (0.9ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_id", 2], ["viewable_type", "Spree::Variant"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 2], ["active", "t"]]
  [1m[36mSpree::StockItem Load (2.3ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 2], ["active", "t"]]
  [1m[36mCACHE Spree::StockItem Load (0.0ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 2], ["active", "t"]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 2], ["active", "t"]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.5ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/shipments/show.v1.rabl (305.2ms)
Completed 200 OK in 681ms (Views: 567.8ms | ActiveRecord: 49.5ms)


Started GET "/admin/orders/R987654321/edit" for 127.0.0.1 at 2017-07-26 13:54:34 +0200
Processing by Spree::Admin::OrdersController#edit as HTML
  Parameters: {"id"=>"R987654321"}
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R987654321"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 2 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R987654321"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Adjustment Load (0.0ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 2 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[36mSpree::Address Load (2.5ms)[0m  [1m[34mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Shipment Load (0.6ms)[0m  [1m[34mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 2]]
  [1m[36mSpree::Address Load (0.6ms)[0m  [1m[34mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT $2[0m  [["id", 3045], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Country Load (0.0ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/address_requires_state"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingRate Load (0.7ms)[0m  [1m[34mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2 ORDER BY "spree_shipping_rates"."cost" ASC LIMIT $3[0m  [["shipment_id", 2], ["selected", "t"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingMethod Load (0.5ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.8ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_variants"."id" AS t1_r0, "spree_variants"."sku" AS t1_r1, "spree_variants"."weight" AS t1_r2, "spree_variants"."height" AS t1_r3, "spree_variants"."width" AS t1_r4, "spree_variants"."depth" AS t1_r5, "spree_variants"."deleted_at" AS t1_r6, "spree_variants"."is_master" AS t1_r7, "spree_variants"."product_id" AS t1_r8, "spree_variants"."cost_price" AS t1_r9, "spree_variants"."position" AS t1_r10, "spree_variants"."cost_currency" AS t1_r11, "spree_variants"."track_inventory" AS t1_r12, "spree_variants"."tax_category_id" AS t1_r13, "spree_variants"."updated_at" AS t1_r14, "spree_variants"."discontinue_on" AS t1_r15, "spree_variants"."created_at" AS t1_r16 FROM "spree_inventory_units" INNER JOIN "spree_variants" ON "spree_variants"."id" = "spree_inventory_units"."variant_id" AND "spree_variants"."deleted_at" IS NULL WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 2]]
  [1m[36mSpree::ShippingCategory Load (1.2ms)[0m  [1m[34mSELECT DISTINCT "spree_shipping_categories".* FROM "spree_shipping_categories" INNER JOIN "spree_products" ON "spree_products"."shipping_category_id" = "spree_shipping_categories"."id" AND "spree_products"."deleted_at" IS NULL INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."deleted_at" IS NULL WHERE "spree_variants"."id" = 2[0m
  [1m[36mSpree::ShippingMethodCategory Load (0.5ms)[0m  [1m[34mSELECT "spree_shipping_method_categories".* FROM "spree_shipping_method_categories" WHERE "spree_shipping_method_categories"."shipping_category_id" = 1[0m
  [1m[36mSpree::ShippingMethod Load (0.9ms)[0m  [1m[34mSELECT "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL AND "spree_shipping_methods"."id" IN (1, 2, 3, 4, 5)[0m
  [1m[36mSpree::Calculator Load (0.7ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.7ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 1]]
  [1m[36mSpree::ZoneMember Load (0.6ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 2[0m
  [1m[36mSpree::Calculator Load (0.7ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 2], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.9ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 2]]
  [1m[36mCACHE Spree::ZoneMember Load (0.0ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 2[0m
  [1m[36mSpree::Calculator Load (0.6ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 3], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (1.0ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 3]]
  [1m[36mCACHE Spree::ZoneMember Load (0.0ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 2[0m
  [1m[36mSpree::Calculator Load (0.6ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 4], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (1.0ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 4]]
  [1m[36mSpree::ZoneMember Load (0.6ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 1[0m
  [1m[36mSpree::Calculator Load (0.7ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 5], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.8ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 5]]
  [1m[36mCACHE Spree::ZoneMember Load (0.0ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 1[0m
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/tax_using_ship_address"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[34mSELECT "spree_zones"."id" AS t0_r0, "spree_zones"."name" AS t0_r1, "spree_zones"."description" AS t0_r2, "spree_zones"."default_tax" AS t0_r3, "spree_zones"."zone_members_count" AS t0_r4, "spree_zones"."created_at" AS t0_r5, "spree_zones"."updated_at" AS t0_r6, "spree_zones"."kind" AS t0_r7, "spree_zone_members"."id" AS t1_r0, "spree_zone_members"."zoneable_type" AS t1_r1, "spree_zone_members"."zoneable_id" AS t1_r2, "spree_zone_members"."zone_id" AS t1_r3, "spree_zone_members"."created_at" AS t1_r4, "spree_zone_members"."updated_at" AS t1_r5 FROM "spree_zones" LEFT OUTER JOIN "spree_zone_members" ON "spree_zone_members"."zone_id" = "spree_zones"."id" WHERE ((spree_zone_members.zoneable_type = 'Spree::Country' AND spree_zone_members.zoneable_id = 232) OR (spree_zone_members.zoneable_type = 'Spree::State' AND spree_zone_members.zoneable_id = 3045)) ORDER BY spree_zones.zone_members_count, spree_zones.created_at[0m
  [1m[36mSpree::Zone Load (0.5ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingRate Load (0.6ms)[0m  [1m[34mSELECT "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 ORDER BY "spree_shipping_rates"."cost" ASC[0m  [["shipment_id", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[31mDELETE FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."id" IN (12, 13, 14)[0m  [["shipment_id", 2]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "spree_shipping_rates" ("shipment_id", "shipping_method_id", "selected", "cost", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["shipment_id", 2], ["shipping_method_id", 1], ["selected", "t"], ["cost", "5.0"], ["created_at", "2017-07-26 11:54:34.818941"], ["updated_at", "2017-07-26 11:54:34.818941"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_rates" ("shipment_id", "shipping_method_id", "cost", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["shipment_id", 2], ["shipping_method_id", 2], ["cost", "10.0"], ["created_at", "2017-07-26 11:54:34.821875"], ["updated_at", "2017-07-26 11:54:34.821875"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_shipping_rates" ("shipment_id", "shipping_method_id", "cost", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["shipment_id", 2], ["shipping_method_id", 3], ["cost", "15.0"], ["created_at", "2017-07-26 11:54:34.823632"], ["updated_at", "2017-07-26 11:54:34.823632"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (2.0ms)[0m  [1m[33mUPDATE "spree_shipping_rates" SET "selected" = 'f' WHERE "spree_shipping_rates"."id" IN (SELECT "spree_shipping_rates"."id" FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 ORDER BY "spree_shipping_rates"."cost" ASC)[0m  [["shipment_id", 2]]
  [1m[36mSpree::ShippingRate Load (0.7ms)[0m  [1m[34mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."id" = $2 ORDER BY "spree_shipping_rates"."cost" ASC LIMIT $3[0m  [["shipment_id", 2], ["id", 17], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_shipping_rates" SET "selected" = $1, "updated_at" = $2 WHERE "spree_shipping_rates"."id" = $3[0m  [["selected", "t"], ["updated_at", "2017-07-26 11:54:34.836473"], ["id", 17]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Shipment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 AND ("spree_shipments"."id" != $2) LIMIT $3[0m  [["number", "H55771096793"], ["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Shipment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 AND ("spree_shipments"."id" != $2) LIMIT $3[0m  [["number", "H55771096793"], ["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/edit.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_order_actions.html.erb (4.0ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 AND "spree_shipments"."state" = 'shipped'[0m  [["order_id", 2]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (0.8ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 2]]
  [1m[36mSpree::PaymentMethod Load (1.3ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_order_tabs.html.erb (17.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_error_messages.html.erb (0.7ms)
  [1m[36mSpree::Payment Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) LIMIT $2[0m  [["order_id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_autocomplete.js.erb (2.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_autocomplete_stock.js.erb (1.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_add_product.html.erb (57.9ms)
  [1m[36mSpree::LineItem Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 LIMIT $2[0m  [["order_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Shipment Load (0.7ms)[0m  [1m[34mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 ORDER BY "spree_shipments"."created_at" ASC[0m  [["order_id", 2]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_split.js.erb (1.0ms)
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::InventoryUnit Load (0.6ms)[0m  [1m[34mSELECT "spree_inventory_units".* FROM "spree_inventory_units" WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 2]]
  [1m[36mSpree::LineItem Load (0.6ms)[0m  [1m[34mSELECT  "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.8ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Image Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 LIMIT $3[0m  [["viewable_id", 2], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Image Load (0.9ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 ORDER BY "spree_assets"."position" ASC LIMIT $3[0m  [["viewable_id", 2], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" INNER JOIN "spree_option_value_variants" ON "spree_option_values"."id" = "spree_option_value_variants"."option_value_id" WHERE "spree_option_value_variants"."variant_id" = $1 LIMIT $2[0m  [["variant_id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_shipment_manifest.html.erb (25.0ms)
  [1m[36mSpree::ShippingRate Load (0.7ms)[0m  [1m[34mSELECT "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 ORDER BY "spree_shipping_rates"."cost" ASC[0m  [["shipment_id", 2]]
  [1m[36mSpree::ShippingMethod Load (0.5ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Shipment Load (0.5ms)[0m  [1m[34mSELECT  "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.6ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::ShippingMethod Load (0.6ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Shipment Load (0.0ms)[0m  [1m[34mSELECT  "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::ShippingMethod Load (0.6ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Shipment Load (0.0ms)[0m  [1m[34mSELECT  "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::ShippingRate Load (0.7ms)[0m  [1m[34mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2 ORDER BY "spree_shipping_rates"."cost" ASC LIMIT $3[0m  [["shipment_id", 2], ["selected", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::ShippingMethod Load (0.0ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered collection of /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_shipment.html.erb [1 times] (120.3ms)
  [1m[36mSpree::Adjustment Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_line_items" ON "spree_adjustments"."adjustable_id" = "spree_line_items"."id" WHERE "spree_line_items"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3 LIMIT $4[0m  [["order_id", 2], ["adjustable_type", "Spree::LineItem"], ["eligible", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.9ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" INNER JOIN "spree_line_items" ON "spree_adjustments"."adjustable_id" = "spree_line_items"."id" WHERE "spree_line_items"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3 ORDER BY "spree_line_items"."created_at" ASC[0m  [["order_id", 2], ["adjustable_type", "Spree::LineItem"], ["eligible", "t"]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_adjustments.html.erb (7.4ms)
  [1m[36mSpree::Adjustment Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_shipments" ON "spree_adjustments"."adjustable_id" = "spree_shipments"."id" WHERE "spree_shipments"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3 LIMIT $4[0m  [["order_id", 2], ["adjustable_type", "Spree::Shipment"], ["eligible", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_adjustments.html.erb (3.2ms)
  [1m[36mSpree::Adjustment Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3 LIMIT $4[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::Order"], ["eligible", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.8ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_id", 2], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_adjustments.html.erb (7.5ms)
  [1m[36mCACHE Spree::LineItem Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 LIMIT $2[0m  [["order_id", 2], ["LIMIT", 1]]
  [1m[36mCACHE Spree::InventoryUnit Load (0.0ms)[0m  [1m[34mSELECT "spree_inventory_units".* FROM "spree_inventory_units" WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 2]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_update_order_state.js.erb (2.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_form.html.erb (309.1ms)
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 2]]
  [1m[36mCACHE Spree::PaymentMethod Load (0.0ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_order_summary.html.erb (9.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/edit.html.erb within spree/layouts/admin (614.5ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (3.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (407.8ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (2.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (28.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (3.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (4.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (1.8ms)
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (14.8ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (210.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_sidebar.html.erb (1.4ms)
Completed 200 OK in 1759ms (Views: 1503.4ms | ActiveRecord: 60.1ms)


Started GET "/admin/orders/R139847242/edit" for 127.0.0.1 at 2017-07-26 14:03:39 +0200
Processing by Spree::Admin::OrdersController#edit as HTML
  Parameters: {"id"=>"R139847242"}
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (1.1ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Order Load (1.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R139847242"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 3 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R139847242"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Adjustment Load (0.0ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 3 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[36mSpree::Address Load (0.5ms)[0m  [1m[34mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Shipment Load (1.6ms)[0m  [1m[34mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::Address Load (0.6ms)[0m  [1m[34mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT $2[0m  [["id", 628], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Country Load (0.0ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/address_requires_state"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingRate Load (3.5ms)[0m  [1m[34mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2 ORDER BY "spree_shipping_rates"."cost" ASC LIMIT $3[0m  [["shipment_id", 3], ["selected", "t"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingMethod Load (2.2ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" AS t0_r0, "spree_inventory_units"."state" AS t0_r1, "spree_inventory_units"."variant_id" AS t0_r2, "spree_inventory_units"."order_id" AS t0_r3, "spree_inventory_units"."shipment_id" AS t0_r4, "spree_inventory_units"."created_at" AS t0_r5, "spree_inventory_units"."updated_at" AS t0_r6, "spree_inventory_units"."pending" AS t0_r7, "spree_inventory_units"."line_item_id" AS t0_r8, "spree_inventory_units"."quantity" AS t0_r9, "spree_inventory_units"."original_return_item_id" AS t0_r10, "spree_variants"."id" AS t1_r0, "spree_variants"."sku" AS t1_r1, "spree_variants"."weight" AS t1_r2, "spree_variants"."height" AS t1_r3, "spree_variants"."width" AS t1_r4, "spree_variants"."depth" AS t1_r5, "spree_variants"."deleted_at" AS t1_r6, "spree_variants"."is_master" AS t1_r7, "spree_variants"."product_id" AS t1_r8, "spree_variants"."cost_price" AS t1_r9, "spree_variants"."position" AS t1_r10, "spree_variants"."cost_currency" AS t1_r11, "spree_variants"."track_inventory" AS t1_r12, "spree_variants"."tax_category_id" AS t1_r13, "spree_variants"."updated_at" AS t1_r14, "spree_variants"."discontinue_on" AS t1_r15, "spree_variants"."created_at" AS t1_r16 FROM "spree_inventory_units" INNER JOIN "spree_variants" ON "spree_variants"."id" = "spree_inventory_units"."variant_id" AND "spree_variants"."deleted_at" IS NULL WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 3]]
  [1m[36mSpree::ShippingCategory Load (4.2ms)[0m  [1m[34mSELECT DISTINCT "spree_shipping_categories".* FROM "spree_shipping_categories" INNER JOIN "spree_products" ON "spree_products"."shipping_category_id" = "spree_shipping_categories"."id" AND "spree_products"."deleted_at" IS NULL INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."deleted_at" IS NULL WHERE "spree_variants"."id" = 19[0m
  [1m[36mSpree::ShippingMethodCategory Load (1.2ms)[0m  [1m[34mSELECT "spree_shipping_method_categories".* FROM "spree_shipping_method_categories" WHERE "spree_shipping_method_categories"."shipping_category_id" = 1[0m
  [1m[36mSpree::ShippingMethod Load (0.9ms)[0m  [1m[34mSELECT "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."deleted_at" IS NULL AND "spree_shipping_methods"."id" IN (1, 2, 3, 4, 5)[0m
  [1m[36mSpree::Calculator Load (0.8ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (1.0ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 1]]
  [1m[36mSpree::ZoneMember Load (2.1ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 2[0m
  [1m[36mSpree::Calculator Load (5.6ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 2], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (1.8ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 2]]
  [1m[36mCACHE Spree::ZoneMember Load (0.0ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 2[0m
  [1m[36mSpree::Calculator Load (0.6ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 3], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.8ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 3]]
  [1m[36mCACHE Spree::ZoneMember Load (0.0ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 2[0m
  [1m[36mSpree::Calculator Load (0.6ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 4], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (1.1ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 4]]
  [1m[36mSpree::ZoneMember Load (1.0ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 1[0m
  [1m[36mSpree::Calculator Load (0.7ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 5], ["calculable_type", "Spree::ShippingMethod"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (1.0ms)[0m  [1m[34mSELECT "spree_zones".* FROM "spree_zones" INNER JOIN "spree_shipping_method_zones" ON "spree_zones"."id" = "spree_shipping_method_zones"."zone_id" WHERE "spree_shipping_method_zones"."shipping_method_id" = $1[0m  [["shipping_method_id", 5]]
  [1m[36mCACHE Spree::ZoneMember Load (0.0ms)[0m  [1m[34mSELECT "spree_zone_members".* FROM "spree_zone_members" WHERE "spree_zone_members"."zone_id" = 1[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/tax_using_ship_address"], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[34mSELECT "spree_zones"."id" AS t0_r0, "spree_zones"."name" AS t0_r1, "spree_zones"."description" AS t0_r2, "spree_zones"."default_tax" AS t0_r3, "spree_zones"."zone_members_count" AS t0_r4, "spree_zones"."created_at" AS t0_r5, "spree_zones"."updated_at" AS t0_r6, "spree_zones"."kind" AS t0_r7, "spree_zone_members"."id" AS t1_r0, "spree_zone_members"."zoneable_type" AS t1_r1, "spree_zone_members"."zoneable_id" AS t1_r2, "spree_zone_members"."zone_id" AS t1_r3, "spree_zone_members"."created_at" AS t1_r4, "spree_zone_members"."updated_at" AS t1_r5 FROM "spree_zones" LEFT OUTER JOIN "spree_zone_members" ON "spree_zone_members"."zone_id" = "spree_zones"."id" WHERE ((spree_zone_members.zoneable_type = 'Spree::Country' AND spree_zone_members.zoneable_id = 68) OR (spree_zone_members.zoneable_type = 'Spree::State' AND spree_zone_members.zoneable_id = 628)) ORDER BY spree_zones.zone_members_count, spree_zones.created_at[0m
  [1m[36mSpree::Zone Load (1.1ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingRate Load (1.0ms)[0m  [1m[34mSELECT "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 ORDER BY "spree_shipping_rates"."cost" ASC[0m  [["shipment_id", 3]]
  [1m[35m (3.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.5ms)[0m  [1m[31mDELETE FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."id" = 11[0m  [["shipment_id", 3]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "spree_shipping_rates" ("shipment_id", "shipping_method_id", "selected", "cost", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["shipment_id", 3], ["shipping_method_id", 4], ["selected", "t"], ["cost", "5.0"], ["created_at", "2017-07-26 12:03:39.776660"], ["updated_at", "2017-07-26 12:03:39.776660"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (3.7ms)[0m  [1m[33mUPDATE "spree_shipping_rates" SET "selected" = 'f' WHERE "spree_shipping_rates"."id" IN (SELECT "spree_shipping_rates"."id" FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 ORDER BY "spree_shipping_rates"."cost" ASC)[0m  [["shipment_id", 3]]
  [1m[36mSpree::ShippingRate Load (1.2ms)[0m  [1m[34mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."id" = $2 ORDER BY "spree_shipping_rates"."cost" ASC LIMIT $3[0m  [["shipment_id", 3], ["id", 18], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_shipping_rates" SET "selected" = $1, "updated_at" = $2 WHERE "spree_shipping_rates"."id" = $3[0m  [["selected", "t"], ["updated_at", "2017-07-26 12:03:39.795455"], ["id", 18]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Shipment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 AND ("spree_shipments"."id" != $2) LIMIT $3[0m  [["number", "H21517727852"], ["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Shipment Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."number" = $1 AND ("spree_shipments"."id" != $2) LIMIT $3[0m  [["number", "H21517727852"], ["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/edit.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_order_actions.html.erb (6.7ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 AND "spree_shipments"."state" = 'shipped'[0m  [["order_id", 3]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (0.9ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::PaymentMethod Load (1.5ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_order_tabs.html.erb (21.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_error_messages.html.erb (1.2ms)
  [1m[36mSpree::Payment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_autocomplete.js.erb (8.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_autocomplete_stock.js.erb (1.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_add_product.html.erb (74.0ms)
  [1m[36mSpree::LineItem Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Shipment Load (5.6ms)[0m  [1m[34mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 ORDER BY "spree_shipments"."created_at" ASC[0m  [["order_id", 3]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_split.js.erb (1.5ms)
  [1m[36mSpree::StockLocation Load (0.6ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::InventoryUnit Load (0.5ms)[0m  [1m[34mSELECT "spree_inventory_units".* FROM "spree_inventory_units" WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 3]]
  [1m[36mSpree::LineItem Load (1.3ms)[0m  [1m[34mSELECT  "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.8ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Image Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 LIMIT $3[0m  [["viewable_id", 19], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Image Load (0.8ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 ORDER BY "spree_assets"."position" ASC LIMIT $3[0m  [["viewable_id", 19], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" INNER JOIN "spree_option_value_variants" ON "spree_option_values"."id" = "spree_option_value_variants"."option_value_id" WHERE "spree_option_value_variants"."variant_id" = $1 LIMIT $2[0m  [["variant_id", 19], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Load (1.3ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" INNER JOIN "spree_option_value_variants" ON "spree_option_values"."id" = "spree_option_value_variants"."option_value_id" WHERE "spree_option_value_variants"."variant_id" = $1[0m  [["variant_id", 19]]
  [1m[36mSpree::OptionType Load (0.5ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (1.1ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_shipment_manifest.html.erb (35.5ms)
  [1m[36mSpree::ShippingRate Load (0.6ms)[0m  [1m[34mSELECT "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 ORDER BY "spree_shipping_rates"."cost" ASC[0m  [["shipment_id", 3]]
  [1m[36mSpree::ShippingMethod Load (0.9ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSpree::Shipment Load (0.7ms)[0m  [1m[34mSELECT  "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::ShippingRate Load (1.5ms)[0m  [1m[34mSELECT  "spree_shipping_rates".* FROM "spree_shipping_rates" WHERE "spree_shipping_rates"."shipment_id" = $1 AND "spree_shipping_rates"."selected" = $2 ORDER BY "spree_shipping_rates"."cost" ASC LIMIT $3[0m  [["shipment_id", 3], ["selected", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::ShippingMethod Load (0.0ms)[0m  [1m[34mSELECT  "spree_shipping_methods".* FROM "spree_shipping_methods" WHERE "spree_shipping_methods"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendered collection of /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_shipment.html.erb [1 times] (140.1ms)
  [1m[36mSpree::Adjustment Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_line_items" ON "spree_adjustments"."adjustable_id" = "spree_line_items"."id" WHERE "spree_line_items"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3 LIMIT $4[0m  [["order_id", 3], ["adjustable_type", "Spree::LineItem"], ["eligible", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_adjustments.html.erb (5.6ms)
  [1m[36mSpree::Adjustment Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_shipments" ON "spree_adjustments"."adjustable_id" = "spree_shipments"."id" WHERE "spree_shipments"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3 LIMIT $4[0m  [["order_id", 3], ["adjustable_type", "Spree::Shipment"], ["eligible", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_adjustments.html.erb (4.3ms)
  [1m[36mSpree::Adjustment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3 LIMIT $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_adjustments.html.erb (3.1ms)
  [1m[36mCACHE Spree::LineItem Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::InventoryUnit Load (0.0ms)[0m  [1m[34mSELECT "spree_inventory_units".* FROM "spree_inventory_units" WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 3]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_update_order_state.js.erb (3.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_form.html.erb (387.8ms)
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::PaymentMethod Load (0.0ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_order_summary.html.erb (27.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/edit.html.erb within spree/layouts/admin (739.2ms)
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (5.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (586.7ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (1.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (35.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (3.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (5.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (3.8ms)
  [1m[36mSpree::Store Load (1.3ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (1.1ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (9.2ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (226.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_sidebar.html.erb (0.7ms)
Completed 200 OK in 2109ms (Views: 1850.0ms | ActiveRecord: 93.3ms)


Started GET "/admin/orders/R139847242/adjustments" for 127.0.0.1 at 2017-07-26 14:03:58 +0200
Processing by Spree::Admin::AdjustmentsController#index as HTML
  Parameters: {"order_id"=>"R139847242"}
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (1.1ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.3ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Order Load (1.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R139847242"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/adjustments/index.html.erb within spree/layouts/admin
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 AND "spree_shipments"."state" = 'shipped'[0m  [["order_id", 3]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (1.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::PaymentMethod Load (0.6ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_order_tabs.html.erb (22.6ms)
  [1m[36mSpree::Adjustment Load (1.6ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::PaymentMethod Load (0.0ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_order_summary.html.erb (9.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/adjustments/index.html.erb within spree/layouts/admin (94.2ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (403.1ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (1.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (21.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (3.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (1.7ms)
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (13.4ms)
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (155.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_sidebar.html.erb (0.9ms)
Completed 200 OK in 930ms (Views: 874.4ms | ActiveRecord: 13.2ms)


Started GET "/admin/orders/R139847242/payments" for 127.0.0.1 at 2017-07-26 14:04:01 +0200
Processing by Spree::Admin::PaymentsController#index as HTML
  Parameters: {"order_id"=>"R139847242"}
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Order Load (0.6ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R139847242"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R139847242"], ["LIMIT", 1]]
  [1m[36mSpree::PaymentMethod Load (1.7ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."active" = $1 AND "spree_payment_methods"."display_on" IN ('back_end', 'both') ORDER BY "spree_payment_methods"."position" ASC LIMIT $2[0m  [["active", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Address Load (0.8ms)[0m  [1m[34mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (1.1ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::Refund Load (24.2ms)[0m  [1m[34mSELECT "spree_refunds".* FROM "spree_refunds" WHERE "spree_refunds"."payment_id" = 3[0m
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/payments/index.html.erb within spree/layouts/admin
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 AND "spree_shipments"."state" = 'shipped'[0m  [["order_id", 3]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (0.9ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::PaymentMethod Load (0.7ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_order_tabs.html.erb (34.2ms)
  [1m[36mSpree::Reimbursement Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_reimbursements" WHERE "spree_reimbursements"."order_id" = $1 LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Reimbursement Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_reimbursements" WHERE "spree_reimbursements"."order_id" = $1 LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Reimbursement Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_reimbursements" WHERE "spree_reimbursements"."order_id" = $1 LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Reimbursement Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_reimbursements" WHERE "spree_reimbursements"."order_id" = $1 LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  [1m[36mSpree::PaymentMethod Load (0.6ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::PaymentMethod Load (0.0ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/payments/_list.html.erb (11.9ms)
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::PaymentMethod Load (0.0ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_order_summary.html.erb (8.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/payments/index.html.erb within spree/layouts/admin (149.1ms)
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (3.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (404.3ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (2.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (18.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (5.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (5.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (1.7ms)
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (9.6ms)
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (166.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (0.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_sidebar.html.erb (0.6ms)
Completed 200 OK in 1066ms (Views: 936.5ms | ActiveRecord: 46.4ms)


Started GET "/api/v1/orders/R139847242/payments/PARP10CI.json?token=b1af2810df846a04152517c389d5167128d83feb542749ac" for 127.0.0.1 at 2017-07-26 14:04:03 +0200
Processing by Spree::Api::V1::PaymentsController#show as JSON
  Parameters: {"token"=>"b1af2810df846a04152517c389d5167128d83feb542749ac", "order_id"=>"R139847242", "id"=>"PARP10CI"}
  [1m[36mSpree::User Load (0.6ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."spree_api_key" = $1 LIMIT $2[0m  [["spree_api_key", "b1af2810df846a04152517c389d5167128d83feb542749ac"], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "spree_roles"."name" FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Order Load (0.7ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R139847242"], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Payment Load (1.6ms)[0m  [1m[34mSELECT  "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."number" = $2 ORDER BY "spree_payments"."created_at" ASC LIMIT $3[0m  [["order_id", 3], ["number", "PARP10CI"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/payments/show.v1.rabl
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/payments/show.v1.rabl (1.7ms)
Completed 200 OK in 268ms (Views: 253.1ms | ActiveRecord: 4.2ms)


Started GET "/admin/orders/R139847242/return_authorizations" for 127.0.0.1 at 2017-07-26 14:04:06 +0200
Processing by Spree::Admin::ReturnAuthorizationsController#index as HTML
  Parameters: {"order_id"=>"R139847242"}
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Order Load (0.6ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R139847242"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/return_authorizations/index.html.erb within spree/layouts/admin
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 AND "spree_shipments"."state" = 'shipped'[0m  [["order_id", 3]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (0.7ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::PaymentMethod Load (0.6ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_order_tabs.html.erb (21.5ms)
  [1m[36mSpree::Shipment Load (0.9ms)[0m  [1m[34mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/return_authorizations/index.html.erb within spree/layouts/admin (55.7ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (452.3ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (3.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (20.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (3.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.9ms)
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (1.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (13.0ms)
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (152.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (2.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_sidebar.html.erb (1.3ms)
Completed 200 OK in 933ms (Views: 886.6ms | ActiveRecord: 10.8ms)


Started GET "/admin/orders/R139847242/customer_returns" for 127.0.0.1 at 2017-07-26 14:04:12 +0200
Processing by Spree::Admin::CustomerReturnsController#index as HTML
  Parameters: {"order_id"=>"R139847242"}
  [1m[36mSpree::Preference Load (0.9ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Order Load (0.7ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R139847242"], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "spree_inventory_units"."id" FROM "spree_inventory_units" WHERE "spree_inventory_units"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::ReturnItem Load (7.2ms)[0m  [1m[34mSELECT "spree_return_items".* FROM "spree_return_items" WHERE "spree_return_items"."inventory_unit_id" = 3[0m
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/customer_returns/index.html.erb within spree/layouts/admin
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 AND "spree_shipments"."state" = 'shipped'[0m  [["order_id", 3]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (0.7ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::PaymentMethod Load (0.6ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_order_tabs.html.erb (26.7ms)
  [1m[36mSpree::Shipment Load (1.9ms)[0m  [1m[34mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/customer_returns/index.html.erb within spree/layouts/admin (57.9ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (538.4ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (2.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (19.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (4.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (6.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (3.9ms)
  [1m[36mSpree::Store Load (1.0ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (1.1ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (12.1ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (165.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_sidebar.html.erb (0.8ms)
Completed 200 OK in 1105ms (Views: 984.2ms | ActiveRecord: 23.4ms)


Started GET "/admin/orders/R139847242/state_changes" for 127.0.0.1 at 2017-07-26 14:04:17 +0200
Processing by Spree::Admin::StateChangesController#index as HTML
  Parameters: {"order_id"=>"R139847242"}
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Order Load (0.7ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R139847242"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/state_changes/index.html.erb within spree/layouts/admin
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 AND "spree_shipments"."state" = 'shipped'[0m  [["order_id", 3]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (0.9ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::PaymentMethod Load (0.8ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_order_tabs.html.erb (21.9ms)
  [1m[36mSpree::StateChange Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_state_changes" WHERE "spree_state_changes"."stateful_id" = $1 AND "spree_state_changes"."stateful_type" = $2 LIMIT $3[0m  [["stateful_id", 3], ["stateful_type", "Spree::Order"], ["LIMIT", 1]]
  [1m[36mSpree::StateChange Load (0.7ms)[0m  [1m[34mSELECT "spree_state_changes".* FROM "spree_state_changes" WHERE "spree_state_changes"."stateful_id" = $1 AND "spree_state_changes"."stateful_type" = $2 ORDER BY "spree_state_changes"."created_at" DESC[0m  [["stateful_id", 3], ["stateful_type", "Spree::Order"]]
  [1m[36mSpree::User Load (0.9ms)[0m  [1m[34mSELECT "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = 2[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/state_changes/index.html.erb within spree/layouts/admin (71.4ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (413.7ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (3.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (24.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (4.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (3.2ms)
  [1m[36mSpree::Store Load (1.5ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (14.3ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (150.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_sidebar.html.erb (0.9ms)
Completed 200 OK in 927ms (Views: 867.5ms | ActiveRecord: 14.0ms)


Started GET "/admin/orders/R139847242/cart" for 127.0.0.1 at 2017-07-26 14:04:42 +0200
Processing by Spree::Admin::OrdersController#cart as HTML
  Parameters: {"id"=>"R139847242"}
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.3ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R139847242"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 3 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R139847242"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Adjustment Load (0.0ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 3 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 AND "spree_shipments"."state" = 'shipped'[0m  [["order_id", 3]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/cart.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_order_actions.html.erb (3.2ms)
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 AND "spree_shipments"."state" = 'shipped'[0m  [["order_id", 3]]
  [1m[36mSpree::Preference Load (1.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (0.8ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::PaymentMethod Load (0.7ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_order_tabs.html.erb (22.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_error_messages.html.erb (0.9ms)
  [1m[36mSpree::Payment Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_autocomplete.js.erb (6.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_autocomplete_line_items_stock.js.erb (1.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_add_line_item.html.erb (65.5ms)
  [1m[36mSpree::LineItem Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::LineItem Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (1.0ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 ORDER BY "spree_line_items"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Image Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 LIMIT $3[0m  [["viewable_id", 19], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Image Load (1.1ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 ORDER BY "spree_assets"."position" ASC LIMIT $3[0m  [["viewable_id", 19], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" INNER JOIN "spree_option_value_variants" ON "spree_option_values"."id" = "spree_option_value_variants"."option_value_id" WHERE "spree_option_value_variants"."variant_id" = $1 LIMIT $2[0m  [["variant_id", 19], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Load (0.7ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" INNER JOIN "spree_option_value_variants" ON "spree_option_values"."id" = "spree_option_value_variants"."option_value_id" WHERE "spree_option_value_variants"."variant_id" = $1[0m  [["variant_id", 19]]
  [1m[36mSpree::OptionType Load (0.8ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.6ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_line_items.html.erb (27.2ms)
  [1m[36mSpree::Adjustment Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_line_items" ON "spree_adjustments"."adjustable_id" = "spree_line_items"."id" WHERE "spree_line_items"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3 LIMIT $4[0m  [["order_id", 3], ["adjustable_type", "Spree::LineItem"], ["eligible", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_adjustments.html.erb (5.5ms)
  [1m[36mSpree::Adjustment Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_shipments" ON "spree_adjustments"."adjustable_id" = "spree_shipments"."id" WHERE "spree_shipments"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3 LIMIT $4[0m  [["order_id", 3], ["adjustable_type", "Spree::Shipment"], ["eligible", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_adjustments.html.erb (3.8ms)
  [1m[36mSpree::Adjustment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3 LIMIT $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_adjustments.html.erb (3.2ms)
  [1m[36mCACHE Spree::LineItem Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Shipment Load (0.6ms)[0m  [1m[34mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::InventoryUnit Load (0.5ms)[0m  [1m[34mSELECT "spree_inventory_units".* FROM "spree_inventory_units" WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 3]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_update_order_state.js.erb (3.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_line_items_edit_form.html.erb (229.3ms)
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::PaymentMethod Load (0.0ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_order_summary.html.erb (12.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/cart.html.erb within spree/layouts/admin (535.7ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (6.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (423.6ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (1.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (29.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (3.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (5.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.0ms)
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (13.0ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (200.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_sidebar.html.erb (0.9ms)
Completed 200 OK in 1517ms (Views: 1451.3ms | ActiveRecord: 24.2ms)


Started PUT "/admin/orders/R139847242/approve" for 127.0.0.1 at 2017-07-26 14:04:47 +0200
Processing by Spree::Admin::OrdersController#approve as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"fuUOmtNMiYfD0mQkmN6jXQWyWSv9BghxuDaqteB9Pc+kjaVYoArPKalIKo3qVDxVGMltJs7NZMgaVoBmLkfF7Q==", "button"=>"", "id"=>"R139847242"}
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R139847242"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (1.0ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 3 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R139847242"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Adjustment Load (0.0ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 3 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_orders" SET "considered_risky" = 'f' WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_orders" SET "approver_id" = 1, "approved_at" = '2017-07-26 12:04:47.429243' WHERE "spree_orders"."id" = $1[0m  [["id", 3]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/orders/R139847242/cart
Completed 302 Found in 25ms (ActiveRecord: 7.0ms)


Started GET "/admin/orders/R139847242/cart" for 127.0.0.1 at 2017-07-26 14:04:47 +0200
Processing by Spree::Admin::OrdersController#cart as HTML
  Parameters: {"id"=>"R139847242"}
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (1.3ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Order Load (1.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R139847242"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.9ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 3 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R139847242"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Adjustment Load (0.0ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 3 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 AND "spree_shipments"."state" = 'shipped'[0m  [["order_id", 3]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/cart.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_order_actions.html.erb (3.8ms)
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 AND "spree_shipments"."state" = 'shipped'[0m  [["order_id", 3]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (0.7ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::PaymentMethod Load (0.7ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_order_tabs.html.erb (17.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_error_messages.html.erb (1.6ms)
  [1m[36mSpree::Payment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_autocomplete.js.erb (4.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_autocomplete_line_items_stock.js.erb (1.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_add_line_item.html.erb (62.2ms)
  [1m[36mSpree::LineItem Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::LineItem Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.6ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 ORDER BY "spree_line_items"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Image Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 LIMIT $3[0m  [["viewable_id", 19], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Image Load (0.7ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 ORDER BY "spree_assets"."position" ASC LIMIT $3[0m  [["viewable_id", 19], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_values" INNER JOIN "spree_option_value_variants" ON "spree_option_values"."id" = "spree_option_value_variants"."option_value_id" WHERE "spree_option_value_variants"."variant_id" = $1 LIMIT $2[0m  [["variant_id", 19], ["LIMIT", 1]]
  [1m[36mSpree::OptionValue Load (0.9ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" INNER JOIN "spree_option_value_variants" ON "spree_option_values"."id" = "spree_option_value_variants"."option_value_id" WHERE "spree_option_value_variants"."variant_id" = $1[0m  [["variant_id", 19]]
  [1m[36mSpree::OptionType Load (0.6ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.6ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_line_items.html.erb (26.5ms)
  [1m[36mSpree::Adjustment Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_line_items" ON "spree_adjustments"."adjustable_id" = "spree_line_items"."id" WHERE "spree_line_items"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3 LIMIT $4[0m  [["order_id", 3], ["adjustable_type", "Spree::LineItem"], ["eligible", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_adjustments.html.erb (4.0ms)
  [1m[36mSpree::Adjustment Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_shipments" ON "spree_adjustments"."adjustable_id" = "spree_shipments"."id" WHERE "spree_shipments"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3 LIMIT $4[0m  [["order_id", 3], ["adjustable_type", "Spree::Shipment"], ["eligible", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_adjustments.html.erb (4.0ms)
  [1m[36mSpree::Adjustment Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3 LIMIT $4[0m  [["adjustable_id", 3], ["adjustable_type", "Spree::Order"], ["eligible", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_adjustments.html.erb (3.7ms)
  [1m[36mCACHE Spree::LineItem Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 LIMIT $2[0m  [["order_id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Shipment Load (0.6ms)[0m  [1m[34mSELECT "spree_shipments".* FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 3]]
  [1m[36mSpree::InventoryUnit Load (1.0ms)[0m  [1m[34mSELECT "spree_inventory_units".* FROM "spree_inventory_units" WHERE "spree_inventory_units"."shipment_id" = $1[0m  [["shipment_id", 3]]
  [1m[36mSpree::StockLocation Load (0.3ms)[0m  [1m[34mSELECT  "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_update_order_state.js.erb (3.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/_line_items_edit_form.html.erb (230.8ms)
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 3]]
  [1m[36mCACHE Spree::PaymentMethod Load (0.0ms)[0m  [1m[34mSELECT  "spree_payment_methods".* FROM "spree_payment_methods" WHERE "spree_payment_methods"."deleted_at" IS NULL AND "spree_payment_methods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_order_summary.html.erb (12.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/cart.html.erb within spree/layouts/admin (534.7ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (3.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (3.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (438.7ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (2.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (34.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (5.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (3.4ms)
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (9.7ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (196.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_sidebar.html.erb (0.8ms)
Completed 200 OK in 1529ms (Views: 1454.5ms | ActiveRecord: 25.0ms)


Started GET "/admin/orders" for 127.0.0.1 at 2017-07-26 14:04:54 +0200
Processing by Spree::Admin::OrdersController#index as HTML
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/show_only_complete_orders_by_default"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_orders_per_page"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/index.html.erb within spree/layouts/admin
  [1m[35m (0.8ms)[0m  [1m[34mSELECT DISTINCT "spree_promotions"."name", "spree_promotions"."id" FROM "spree_promotions" INNER JOIN spree_order_promotions
        ON spree_order_promotions.promotion_id = spree_promotions.id[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_orders"."id") FROM "spree_orders" WHERE ("spree_orders"."completed_at" IS NOT NULL)[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_index_table_options.html.erb (34.6ms)
  [1m[36mSpree::Order Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE ("spree_orders"."completed_at" IS NOT NULL) LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mSpree::Order Load (1.5ms)[0m  [1m[34mSELECT  DISTINCT "spree_orders".* FROM "spree_orders" WHERE ("spree_orders"."completed_at" IS NOT NULL) ORDER BY "spree_orders"."completed_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  [1m[36mSpree::User Load (1.0ms)[0m  [1m[34mSELECT "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = 2[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_index_table_options.html.erb (27.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/index.html.erb within spree/layouts/admin (156.4ms)
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (5.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (444.2ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.8ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (1.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (36.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (5.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (3.1ms)
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (15.8ms)
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (160.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_table_filter.html.erb (1.9ms)
Completed 200 OK in 1072ms (Views: 1021.4ms | ActiveRecord: 11.2ms)


Started GET "/admin/orders?utf8=%E2%9C%93&q%5Bcreated_at_gt%5D=&q%5Bcreated_at_lt%5D=&q%5Bnumber_cont%5D=&q%5Bstate_eq%5D=&q%5Bpayment_state_eq%5D=&q%5Bshipment_state_eq%5D=ready&q%5Bbill_address_firstname_start%5D=&q%5Bbill_address_lastname_start%5D=&q%5Bemail_cont%5D=&q%5Bline_items_variant_sku_eq%5D=&q%5Bpromotions_id_in%5D=&q%5Bcompleted_at_not_null%5D=0&q%5Bcompleted_at_not_null%5D=1&q%5Bconsidered_risky_eq%5D=&button=&per_page=15" for 127.0.0.1 at 2017-07-26 14:05:20 +0200
Processing by Spree::Admin::OrdersController#index as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"created_at_gt"=>"", "created_at_lt"=>"", "number_cont"=>"[FILTERED]", "state_eq"=>"", "payment_state_eq"=>"", "shipment_state_eq"=>"ready", "bill_address_firstname_start"=>"", "bill_address_lastname_start"=>"", "email_cont"=>"", "line_items_variant_sku_eq"=>"", "promotions_id_in"=>"", "completed_at_not_null"=>"1", "considered_risky_eq"=>""}, "button"=>"", "per_page"=>"15"}
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/show_only_complete_orders_by_default"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/index.html.erb within spree/layouts/admin
  [1m[35m (0.8ms)[0m  [1m[34mSELECT DISTINCT "spree_promotions"."name", "spree_promotions"."id" FROM "spree_promotions" INNER JOIN spree_order_promotions
        ON spree_order_promotions.promotion_id = spree_promotions.id[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_orders"."id") FROM "spree_orders" WHERE ("spree_orders"."shipment_state" = 'ready' AND "spree_orders"."completed_at" IS NOT NULL)[0m
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_orders_per_page"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_index_table_options.html.erb (37.6ms)
  [1m[36mSpree::Order Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE ("spree_orders"."shipment_state" = 'ready' AND "spree_orders"."completed_at" IS NOT NULL) LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_index_table_options.html.erb (28.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/orders/index.html.erb within spree/layouts/admin (141.7ms)
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (435.9ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (3.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (21.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (4.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.0ms)
  [1m[36mSpree::Store Load (1.0ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (14.8ms)
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (156.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_table_filter.html.erb (1.4ms)
Completed 200 OK in 1008ms (Views: 946.5ms | ActiveRecord: 13.4ms)


Started GET "/admin/option_types" for 127.0.0.1 at 2017-07-26 14:05:39 +0200
Processing by Spree::Admin::OptionTypesController#index as HTML
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (1.4ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.7ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/option_types/index.html.erb within spree/layouts/admin
  [1m[36mSpree::OptionType Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_option_types" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.8ms)[0m  [1m[34mSELECT "spree_option_types".* FROM "spree_option_types" ORDER BY "spree_option_types"."position" ASC[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/option_types/index.html.erb within spree/layouts/admin (12.1ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (9.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (502.0ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (2.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (21.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (4.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (10.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (3.0ms)
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (19.6ms)
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (196.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.2ms)
Completed 200 OK in 962ms (Views: 911.0ms | ActiveRecord: 7.6ms)


Started GET "/admin/properties" for 127.0.0.1 at 2017-07-26 14:05:53 +0200
Processing by Spree::Admin::PropertiesController#index as HTML
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (1.0ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_properties_per_page"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/properties/index.html.erb within spree/layouts/admin
  [1m[36mSpree::Property Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_properties" LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mSpree::Property Load (0.5ms)[0m  [1m[34mSELECT  "spree_properties".* FROM "spree_properties" LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/properties/index.html.erb within spree/layouts/admin (42.5ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (411.2ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (2.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (19.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (5.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (4.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (3.7ms)
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (13.2ms)
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (155.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_table_filter.html.erb (1.8ms)
Completed 200 OK in 856ms (Views: 837.6ms | ActiveRecord: 7.0ms)


Started GET "/admin/prototypes" for 127.0.0.1 at 2017-07-26 14:06:05 +0200
Processing by Spree::Admin::PrototypesController#index as HTML
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.9ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.3ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/prototypes/index.html.erb within spree/layouts/admin
  [1m[36mSpree::Prototype Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_prototypes" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Prototype Load (0.5ms)[0m  [1m[34mSELECT "spree_prototypes".* FROM "spree_prototypes"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/prototypes/index.html.erb within spree/layouts/admin (19.3ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (405.1ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (1.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (18.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (3.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (6.3ms)
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (14.2ms)
  [1m[36mSpree::Preference Load (3.0ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (156.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.0ms)
Completed 200 OK in 812ms (Views: 765.0ms | ActiveRecord: 15.8ms)


Started GET "/admin/taxonomies" for 127.0.0.1 at 2017-07-26 14:06:12 +0200
Processing by Spree::Admin::TaxonomiesController#index as HTML
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/taxonomies/index.html.erb within spree/layouts/admin
  [1m[36mSpree::Taxonomy Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxonomies" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxonomy Load (0.7ms)[0m  [1m[34mSELECT "spree_taxonomies".* FROM "spree_taxonomies" ORDER BY spree_taxonomies.position, spree_taxonomies.created_at[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/taxonomies/_list.html.erb (5.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/taxonomies/index.html.erb within spree/layouts/admin (33.1ms)
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (6.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (390.1ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (1.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (19.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (7.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (4.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (1.7ms)
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (11.6ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (164.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.4ms)
Completed 200 OK in 823ms (Views: 778.5ms | ActiveRecord: 6.6ms)


Started POST "/admin/taxonomies/update_positions" for 127.0.0.1 at 2017-07-26 14:06:25 +0200
Processing by Spree::Admin::TaxonomiesController#update_positions as JS
  Parameters: {"positions"=>{"2"=>"1", "1"=>"2"}}
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Taxonomy Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = $1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "position" = $1, "updated_at" = $2 WHERE "spree_taxonomies"."id" = $3[0m  [["position", 1], ["updated_at", "2017-07-26 12:06:25.982564"], ["id", 2]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxonomies" WHERE (1 = 1) AND ("spree_taxonomies"."position" = 1)[0m
  [1m[35mSQL (2.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "position" = ("spree_taxonomies"."position" + 1), "updated_at" = '2017-07-26 12:06:25.992645' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE (1 = 1) AND ("spree_taxonomies".id != 2) AND ("spree_taxonomies"."position" >= 1) AND ("spree_taxonomies"."position" < 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."taxonomy_id" = $1 AND "spree_taxons"."parent_id" IS NULL LIMIT $2[0m  [["taxonomy_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."id" != $2) AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" = $3 LIMIT $4[0m  [["name", "Brands"], ["id", 2], ["taxonomy_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) AND ("spree_taxons"."id" != $2) LIMIT $3[0m  [["permalink", "brands"], ["id", 2], ["LIMIT", 1]]
  [1m[36mFriendlyId::Slug Load (1.1ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 2], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 2 ORDER BY "spree_taxons"."lft")[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 12:06:26.042470' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 13) AND ("spree_taxons"."rgt" >= 22) AND ("spree_taxons"."id" != 2) ORDER BY "spree_taxons"."lft")[0m
  [1m[36mSpree::Taxonomy Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = $1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 12:06:26.047923' WHERE "spree_taxonomies"."id" = $1[0m  [["id", 2]]
  [1m[36mSpree::Taxonomy Load (0.8ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = $1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_taxonomies" WHERE (1 = 1) AND ("spree_taxonomies"."position" = 2)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."taxonomy_id" = $1 AND "spree_taxons"."parent_id" IS NULL LIMIT $2[0m  [["taxonomy_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."id" != $2) AND "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" = $3 LIMIT $4[0m  [["name", "Categories"], ["id", 1], ["taxonomy_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) AND ("spree_taxons"."id" != $2) LIMIT $3[0m  [["permalink", "categories"], ["id", 1], ["LIMIT", 1]]
  [1m[36mFriendlyId::Slug Load (0.7ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 1], ["sluggable_type", "Spree::Taxon"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxons" SET "depth" = 0 WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE "spree_taxons"."id" = 1 ORDER BY "spree_taxons"."lft")[0m
  [1m[35mSQL (1.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 12:06:26.068141' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 12) AND ("spree_taxons"."id" != 1) ORDER BY "spree_taxons"."lft")[0m
  [1m[36mSpree::Taxonomy Load (0.7ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = $1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 12:06:26.074606' WHERE "spree_taxonomies"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering text template
  Rendered text template (0.1ms)
Completed 200 OK in 116ms (Views: 7.6ms | ActiveRecord: 38.6ms)


Started GET "/admin/taxonomies/2/edit" for 127.0.0.1 at 2017-07-26 14:06:28 +0200
Processing by Spree::Admin::TaxonomiesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (1.9ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Taxonomy Load (0.5ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = $1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/taxonomies/edit.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/taxonomies/_js_head.html.erb (1.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/taxonomies/_form.html.erb (1.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/taxonomies/edit.html.erb within spree/layouts/admin (73.4ms)
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (425.6ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (3.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (24.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (4.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (6.6ms)
  [1m[36mSpree::Store Load (1.0ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (13.4ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (159.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.1ms)
Completed 200 OK in 891ms (Views: 872.5ms | ActiveRecord: 7.6ms)


Started GET "/api/v1/taxonomies/2/jstree?token=b1af2810df846a04152517c389d5167128d83feb542749ac" for 127.0.0.1 at 2017-07-26 14:06:30 +0200
Processing by Spree::Api::V1::TaxonomiesController#jstree as JSON
  Parameters: {"token"=>"b1af2810df846a04152517c389d5167128d83feb542749ac", "id"=>"2"}
  [1m[36mSpree::User Load (0.9ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."spree_api_key" = $1 LIMIT $2[0m  [["spree_api_key", "b1af2810df846a04152517c389d5167128d83feb542749ac"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "spree_roles"."name" FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Taxonomy Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = $1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/taxonomies/jstree.rabl
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."taxonomy_id" = $1 AND "spree_taxons"."parent_id" IS NULL LIMIT $2[0m  [["taxonomy_id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/taxonomies/jstree.rabl (5.7ms)
Completed 200 OK in 287ms (Views: 272.2ms | ActiveRecord: 4.0ms)


Started GET "/api/v1/taxonomies/2/taxons/2/jstree?token=b1af2810df846a04152517c389d5167128d83feb542749ac" for 127.0.0.1 at 2017-07-26 14:06:30 +0200
Processing by Spree::Api::V1::TaxonsController#jstree as JSON
  Parameters: {"token"=>"b1af2810df846a04152517c389d5167128d83feb542749ac", "taxonomy_id"=>"2", "id"=>"2"}
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."spree_api_key" = $1 LIMIT $2[0m  [["spree_api_key", "b1af2810df846a04152517c389d5167128d83feb542749ac"], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "spree_roles"."name" FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Role Load (3.5ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Taxonomy Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = $1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."taxonomy_id" = $1 AND "spree_taxons"."id" = $2 LIMIT $3[0m  [["taxonomy_id", 2], ["id", 2], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/taxons/jstree.rabl
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" = $1 ORDER BY "spree_taxons"."lft"[0m  [["parent_id", 2]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/taxons/jstree.rabl (4.6ms)
Completed 200 OK in 299ms (Views: 241.4ms | ActiveRecord: 7.5ms)


Started GET "/admin/taxonomies" for 127.0.0.1 at 2017-07-26 14:06:59 +0200
Processing by Spree::Admin::TaxonomiesController#index as HTML
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.3ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/taxonomies/index.html.erb within spree/layouts/admin
  [1m[36mSpree::Taxonomy Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxonomies" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxonomy Load (0.5ms)[0m  [1m[34mSELECT "spree_taxonomies".* FROM "spree_taxonomies" ORDER BY spree_taxonomies.position, spree_taxonomies.created_at[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/taxonomies/_list.html.erb (4.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/taxonomies/index.html.erb within spree/layouts/admin (31.0ms)
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (5.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (387.8ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (1.2ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (2.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (30.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (6.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (3.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.2ms)
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (9.7ms)
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (153.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.9ms)
Completed 200 OK in 814ms (Views: 777.8ms | ActiveRecord: 7.1ms)


Started GET "/admin/taxonomies/2/edit" for 127.0.0.1 at 2017-07-26 14:07:05 +0200
Processing by Spree::Admin::TaxonomiesController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.9ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Taxonomy Load (0.7ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = $1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/taxonomies/edit.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/taxonomies/_js_head.html.erb (0.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/taxonomies/_form.html.erb (2.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/taxonomies/edit.html.erb within spree/layouts/admin (60.4ms)
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (445.5ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (2.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (26.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (4.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (3.6ms)
  [1m[36mSpree::Store Load (1.2ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (1.9ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (13.3ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (159.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.3ms)
Completed 200 OK in 892ms (Views: 874.4ms | ActiveRecord: 8.1ms)


Started GET "/api/v1/taxonomies/2/jstree?token=b1af2810df846a04152517c389d5167128d83feb542749ac" for 127.0.0.1 at 2017-07-26 14:07:06 +0200
Processing by Spree::Api::V1::TaxonomiesController#jstree as JSON
  Parameters: {"token"=>"b1af2810df846a04152517c389d5167128d83feb542749ac", "id"=>"2"}
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."spree_api_key" = $1 LIMIT $2[0m  [["spree_api_key", "b1af2810df846a04152517c389d5167128d83feb542749ac"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "spree_roles"."name" FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Taxonomy Load (0.9ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = $1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/taxonomies/jstree.rabl
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."taxonomy_id" = $1 AND "spree_taxons"."parent_id" IS NULL LIMIT $2[0m  [["taxonomy_id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/taxonomies/jstree.rabl (4.0ms)
Completed 200 OK in 290ms (Views: 269.6ms | ActiveRecord: 3.5ms)


Started GET "/api/v1/taxonomies/2/taxons/2/jstree?token=b1af2810df846a04152517c389d5167128d83feb542749ac" for 127.0.0.1 at 2017-07-26 14:07:06 +0200
Processing by Spree::Api::V1::TaxonsController#jstree as JSON
  Parameters: {"token"=>"b1af2810df846a04152517c389d5167128d83feb542749ac", "taxonomy_id"=>"2", "id"=>"2"}
  [1m[36mSpree::User Load (1.2ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."spree_api_key" = $1 LIMIT $2[0m  [["spree_api_key", "b1af2810df846a04152517c389d5167128d83feb542749ac"], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "spree_roles"."name" FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Role Load (1.0ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Taxonomy Load (0.5ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = $1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."taxonomy_id" = $1 AND "spree_taxons"."id" = $2 LIMIT $3[0m  [["taxonomy_id", 2], ["id", 2], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/taxons/jstree.rabl
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" = $1 ORDER BY "spree_taxons"."lft"[0m  [["parent_id", 2]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/taxons/jstree.rabl (8.7ms)
Completed 200 OK in 320ms (Views: 294.6ms | ActiveRecord: 6.0ms)


Started GET "/admin/promotions" for 127.0.0.1 at 2017-07-26 14:07:16 +0200
Processing by Spree::Admin::PromotionsController#index as HTML
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.9ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_promotions_per_page"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/index.html.erb within spree/layouts/admin
  [1m[36mSpree::PromotionCategory Load (2.1ms)[0m  [1m[34mSELECT "spree_promotion_categories".* FROM "spree_promotion_categories" ORDER BY "spree_promotion_categories"."name" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_promotions"."id") FROM "spree_promotions"[0m
  [1m[36mSpree::Promotion Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_promotions" LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/index.html.erb within spree/layouts/admin (46.9ms)
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (6.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (500.6ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.8ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (2.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (22.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (4.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.5ms)
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (13.6ms)
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (163.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (2.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_table_filter.html.erb (1.9ms)
Completed 200 OK in 993ms (Views: 944.2ms | ActiveRecord: 10.9ms)


Started GET "/admin/promotions/new" for 127.0.0.1 at 2017-07-26 14:07:21 +0200
Processing by Spree::Admin::PromotionsController#new as HTML
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.9ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/new.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_error_messages.html.erb (1.5ms)
  [1m[36mSpree::PromotionCategory Load (0.7ms)[0m  [1m[34mSELECT "spree_promotion_categories".* FROM "spree_promotion_categories" ORDER BY "spree_promotion_categories"."name" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_adjustments" WHERE "spree_adjustments"."eligible" = $1 AND "spree_adjustments"."source_type" = $2 AND 1=0[0m  [["eligible", "t"], ["source_type", "Spree::PromotionAction"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_form.html.erb (57.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_new_resource_links.html.erb (3.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/new.html.erb within spree/layouts/admin (125.1ms)
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (406.1ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (2.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (21.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (3.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (4.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.2ms)
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.9ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (1.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (14.0ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (156.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.1ms)
Completed 200 OK in 918ms (Views: 878.9ms | ActiveRecord: 13.3ms)


Started GET "/admin/promotion_categories" for 127.0.0.1 at 2017-07-26 14:07:58 +0200
Processing by Spree::Admin::PromotionCategoriesController#index as HTML
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_categories/index.html.erb within spree/layouts/admin
  [1m[36mSpree::PromotionCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_promotion_categories" LIMIT $1[0m  [["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_categories/index.html.erb within spree/layouts/admin (4.2ms)
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (3.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (5.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (412.3ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (2.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (24.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (4.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.9ms)
  [1m[36mSpree::Store Load (1.1ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (16.3ms)
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (167.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.4ms)
Completed 200 OK in 814ms (Views: 776.2ms | ActiveRecord: 6.4ms)


Started GET "/admin/promotion_categories/new" for 127.0.0.1 at 2017-07-26 14:08:01 +0200
Processing by Spree::Admin::PromotionCategoriesController#new as HTML
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.9ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_categories/new.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_error_messages.html.erb (1.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_categories/_form.html.erb (34.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_new_resource_links.html.erb (2.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_categories/new.html.erb within spree/layouts/admin (98.5ms)
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (4.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (5.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (416.9ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (5.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (25.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (4.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (3.2ms)
  [1m[36mSpree::Store Load (1.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (13.8ms)
  [1m[36mSpree::Preference Load (1.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (152.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.2ms)
Completed 200 OK in 923ms (Views: 882.4ms | ActiveRecord: 11.8ms)


Started POST "/admin/promotion_categories" for 127.0.0.1 at 2017-07-26 14:08:21 +0200
Processing by Spree::Admin::PromotionCategoriesController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"P0BP3WtrD2sdSi2jYeYl6u+wl29zd+PmivsNHfdurTflKOQfGC1JxXfQYwoTbLri8sujYkC8j18omyfOOVRVFQ==", "promotion_category"=>{"name"=>"Descuentos de verano", "code"=>"SUMMER17"}, "button"=>""}
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "spree_promotion_categories" ("name", "created_at", "updated_at", "code") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Descuentos de verano"], ["created_at", "2017-07-26 12:08:21.655722"], ["updated_at", "2017-07-26 12:08:21.655722"], ["code", "SUMMER17"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/promotion_categories
Completed 302 Found in 18ms (ActiveRecord: 4.7ms)


Started GET "/admin/promotion_categories" for 127.0.0.1 at 2017-07-26 14:08:21 +0200
Processing by Spree::Admin::PromotionCategoriesController#index as HTML
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_categories/index.html.erb within spree/layouts/admin
  [1m[36mSpree::PromotionCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_promotion_categories" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::PromotionCategory Load (0.4ms)[0m  [1m[34mSELECT "spree_promotion_categories".* FROM "spree_promotion_categories"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_categories/index.html.erb within spree/layouts/admin (6.1ms)
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (412.7ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (2.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (26.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (3.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (5.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (3.0ms)
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (10.4ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (158.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.4ms)
Completed 200 OK in 825ms (Views: 782.4ms | ActiveRecord: 5.8ms)


Started GET "/admin/promotions" for 127.0.0.1 at 2017-07-26 14:08:25 +0200
Processing by Spree::Admin::PromotionsController#index as HTML
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_promotions_per_page"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/index.html.erb within spree/layouts/admin
  [1m[36mSpree::PromotionCategory Load (0.6ms)[0m  [1m[34mSELECT "spree_promotion_categories".* FROM "spree_promotion_categories" ORDER BY "spree_promotion_categories"."name" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_promotions"."id") FROM "spree_promotions"[0m
  [1m[36mSpree::Promotion Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_promotions" LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/index.html.erb within spree/layouts/admin (32.7ms)
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (535.1ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (2.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (20.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (3.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.4ms)
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (12.9ms)
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (155.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_table_filter.html.erb (2.0ms)
Completed 200 OK in 979ms (Views: 941.9ms | ActiveRecord: 7.1ms)


Started GET "/admin/promotions/new" for 127.0.0.1 at 2017-07-26 14:08:28 +0200
Processing by Spree::Admin::PromotionsController#new as HTML
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.9ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/new.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_error_messages.html.erb (1.6ms)
  [1m[36mSpree::PromotionCategory Load (0.6ms)[0m  [1m[34mSELECT "spree_promotion_categories".* FROM "spree_promotion_categories" ORDER BY "spree_promotion_categories"."name" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_adjustments" WHERE "spree_adjustments"."eligible" = $1 AND "spree_adjustments"."source_type" = $2 AND 1=0[0m  [["eligible", "t"], ["source_type", "Spree::PromotionAction"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_form.html.erb (43.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_new_resource_links.html.erb (2.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/new.html.erb within spree/layouts/admin (105.9ms)
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (19.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (434.1ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (2.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (22.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (4.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.0ms)
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.6ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (12.0ms)
  [1m[36mSpree::Preference Load (0.9ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (149.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (4.3ms)
Completed 200 OK in 915ms (Views: 898.5ms | ActiveRecord: 7.7ms)


Started POST "/admin/promotions" for 127.0.0.1 at 2017-07-26 14:09:15 +0200
Processing by Spree::Admin::PromotionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+dHvQygLzURZ6/6oJagaebIUAUK5CPB/c8Nem27U6vIjuUSBW02L6jNxsAFXIoVxr281T4rDnMbRo3RIoO4S0A==", "promotion"=>{"name"=>"Camisetas rebajadas", "code"=>"SUMSHIRT17", "path"=>"", "advertise"=>"0", "description"=>"PRUEBAS CON PROMOCIONES, DESCRIPCIÓN DETALLADA BLA BLA BLAA....", "promotion_category_id"=>"1", "usage_limit"=>"10", "starts_at"=>"2017/07/02", "expires_at"=>""}, "button"=>""}
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (1.1ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Promotion Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_promotions" WHERE LOWER("spree_promotions"."code") = LOWER($1) LIMIT $2[0m  [["code", "SUMSHIRT17"], ["LIMIT", 1]]
  [1m[35mSQL (5.3ms)[0m  [1m[32mINSERT INTO "spree_promotions" ("description", "starts_at", "name", "usage_limit", "code", "created_at", "updated_at", "promotion_category_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["description", "PRUEBAS CON PROMOCIONES, DESCRIPCIÓN DETALLADA BLA BLA BLAA...."], ["starts_at", "2017-07-02 00:00:00"], ["name", "Camisetas rebajadas"], ["usage_limit", 10], ["code", "SUMSHIRT17"], ["created_at", "2017-07-26 12:09:16.015430"], ["updated_at", "2017-07-26 12:09:16.015430"], ["promotion_category_id", 1]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/promotions/1/edit
Completed 302 Found in 25ms (ActiveRecord: 9.3ms)


Started GET "/admin/promotions/1/edit" for 127.0.0.1 at 2017-07-26 14:09:16 +0200
Processing by Spree::Admin::PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.9ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.7ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (0.6ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/edit.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_error_messages.html.erb (2.5ms)
  [1m[36mSpree::PromotionCategory Load (0.6ms)[0m  [1m[34mSELECT "spree_promotion_categories".* FROM "spree_promotion_categories" ORDER BY "spree_promotion_categories"."name" ASC[0m
  [1m[36mSpree::PromotionAction Load (0.8ms)[0m  [1m[34mSELECT "spree_promotion_actions".* FROM "spree_promotion_actions" WHERE "spree_promotion_actions"."deleted_at" IS NULL AND "spree_promotion_actions"."promotion_id" = $1[0m  [["promotion_id", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_adjustments" WHERE "spree_adjustments"."eligible" = $1 AND "spree_adjustments"."source_type" = $2 AND 1=0[0m  [["eligible", "t"], ["source_type", "Spree::PromotionAction"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_form.html.erb (39.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_edit_resource_links.html.erb (1.6ms)
  [1m[36mSpree::PromotionRule Load (0.4ms)[0m  [1m[34mSELECT "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1[0m  [["promotion_id", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_rules.html.erb (11.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_actions.html.erb (3.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_autocomplete.js.erb (4.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/edit.html.erb within spree/layouts/admin (219.0ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (438.5ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (1.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (35.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (4.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.1ms)
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (10.0ms)
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (202.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.1ms)
Completed 200 OK in 1131ms (Views: 1109.4ms | ActiveRecord: 12.2ms)


Started PUT "/admin/promotions/1" for 127.0.0.1 at 2017-07-26 14:10:02 +0200
Processing by Spree::Admin::PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"6M+2nes4Kgkr94GsSFPHePJiambVgqKOtVP6lwUn8JYypx1fmH5sp0FtzwU62Vhw7xlea+ZJzjcXM9BEyx0ItA==", "promotion"=>{"match_policy"=>"all"}, "button"=>"", "id"=>"1"}
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (1.2ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PromotionRule Load (0.4ms)[0m  [1m[34mSELECT "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1[0m  [["promotion_id", 1]]
  [1m[36mSpree::Promotion Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_promotions" WHERE LOWER("spree_promotions"."code") = LOWER($1) AND ("spree_promotions"."id" != $2) LIMIT $3[0m  [["code", "SUMSHIRT17"], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/promotions/1/edit
Completed 302 Found in 20ms (ActiveRecord: 4.5ms)


Started GET "/admin/promotions/1/edit" for 127.0.0.1 at 2017-07-26 14:10:02 +0200
Processing by Spree::Admin::PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.3ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (0.8ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/edit.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_error_messages.html.erb (1.1ms)
  [1m[36mSpree::PromotionCategory Load (0.6ms)[0m  [1m[34mSELECT "spree_promotion_categories".* FROM "spree_promotion_categories" ORDER BY "spree_promotion_categories"."name" ASC[0m
  [1m[36mSpree::PromotionAction Load (0.6ms)[0m  [1m[34mSELECT "spree_promotion_actions".* FROM "spree_promotion_actions" WHERE "spree_promotion_actions"."deleted_at" IS NULL AND "spree_promotion_actions"."promotion_id" = $1[0m  [["promotion_id", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_adjustments" WHERE "spree_adjustments"."eligible" = $1 AND "spree_adjustments"."source_type" = $2 AND 1=0[0m  [["eligible", "t"], ["source_type", "Spree::PromotionAction"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_form.html.erb (46.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_edit_resource_links.html.erb (2.4ms)
  [1m[36mSpree::PromotionRule Load (2.1ms)[0m  [1m[34mSELECT "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1[0m  [["promotion_id", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_rules.html.erb (10.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_actions.html.erb (3.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_autocomplete.js.erb (3.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/edit.html.erb within spree/layouts/admin (217.2ms)
  [1m[36mSpree::Preference Load (0.8ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (3.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (472.4ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (1.2ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (1.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (33.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (6.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (4.3ms)
  [1m[36mSpree::Store Load (1.2ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (1.0ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (23.7ms)
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (232.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (2.7ms)
Completed 200 OK in 1247ms (Views: 1226.4ms | ActiveRecord: 11.4ms)


Started POST "/admin/promotions/1/promotion_actions" for 127.0.0.1 at 2017-07-26 14:10:13 +0200
Processing by Spree::Admin::PromotionActionsController#create as JS
  Parameters: {"utf8"=>"✓", "action_type"=>"Spree::Promotion::Actions::CreateAdjustment", "button"=>"", "promotion_id"=>"1"}
  [1m[36mSpree::Preference Load (0.9ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (1.0ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.2ms)[0m  [1m[32mINSERT INTO "spree_promotion_actions" ("promotion_id", "type") VALUES ($1, $2) RETURNING "id"[0m  [["promotion_id", 1], ["type", "Spree::Promotion::Actions::CreateAdjustment"]]
  [1m[35mSQL (2.2ms)[0m  [1m[32mINSERT INTO "spree_calculators" ("type", "calculable_type", "calculable_id", "created_at", "updated_at", "preferences") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["type", "Spree::Calculator::FlatPercentItemTotal"], ["calculable_type", "Spree::PromotionAction"], ["calculable_id", 1], ["created_at", "2017-07-26 12:10:13.310629"], ["updated_at", "2017-07-26 12:10:13.310629"], ["preferences", "---\n:flat_percent: 0\n"]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_actions/create.js.erb
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/calculators/_default_fields.html.erb (8.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/actions/_create_adjustment.html.erb (115.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_promotion_action.html.erb (171.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_actions/create.js.erb (220.1ms)
Completed 200 OK in 399ms (Views: 273.4ms | ActiveRecord: 12.1ms)


Started PUT "/admin/promotions/1" for 127.0.0.1 at 2017-07-26 14:10:26 +0200
Processing by Spree::Admin::PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Xe0qVOzijYKKXfPgEXgl9zRUj6BpPswieOfdB+z1LDGHhYGWn6TLLODHvUlj8rr/KS+7rVr1oJvah/fUIs/UEw==", "promotion"=>{"promotion_actions_attributes"=>{"1"=>{"id"=>"1", "calculator_type"=>"Spree::Calculator::FlatPercentItemTotal"}}}, "button"=>"", "id"=>"1"}
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.9ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (3.1ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (0.9ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PromotionAction Load (1.1ms)[0m  [1m[34mSELECT "spree_promotion_actions".* FROM "spree_promotion_actions" WHERE "spree_promotion_actions"."deleted_at" IS NULL AND "spree_promotion_actions"."promotion_id" = $1 AND "spree_promotion_actions"."id" = 1[0m  [["promotion_id", 1]]
  [1m[36mSpree::Calculator Load (1.3ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::PromotionAction"], ["LIMIT", 1]]
  [1m[36mSpree::PromotionRule Load (0.5ms)[0m  [1m[34mSELECT "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1[0m  [["promotion_id", 1]]
  [1m[36mSpree::Promotion Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_promotions" WHERE LOWER("spree_promotions"."code") = LOWER($1) AND ("spree_promotions"."id" != $2) LIMIT $3[0m  [["code", "SUMSHIRT17"], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/promotions/1/edit
Completed 302 Found in 51ms (ActiveRecord: 12.7ms)


Started GET "/admin/promotions/1/edit" for 127.0.0.1 at 2017-07-26 14:10:26 +0200
Processing by Spree::Admin::PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (0.6ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/edit.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_error_messages.html.erb (2.8ms)
  [1m[36mSpree::PromotionCategory Load (0.8ms)[0m  [1m[34mSELECT "spree_promotion_categories".* FROM "spree_promotion_categories" ORDER BY "spree_promotion_categories"."name" ASC[0m
  [1m[36mSpree::PromotionAction Load (0.9ms)[0m  [1m[34mSELECT "spree_promotion_actions".* FROM "spree_promotion_actions" WHERE "spree_promotion_actions"."deleted_at" IS NULL AND "spree_promotion_actions"."promotion_id" = $1[0m  [["promotion_id", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_adjustments" WHERE "spree_adjustments"."eligible" = $1 AND "spree_adjustments"."source_type" = $2 AND "spree_adjustments"."source_id" = 1[0m  [["eligible", "t"], ["source_type", "Spree::PromotionAction"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_form.html.erb (53.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_edit_resource_links.html.erb (2.4ms)
  [1m[36mSpree::PromotionRule Load (0.8ms)[0m  [1m[34mSELECT "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1[0m  [["promotion_id", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_rules.html.erb (8.2ms)
  [1m[36mSpree::Calculator Load (0.8ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::PromotionAction"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/calculators/_default_fields.html.erb (2.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/actions/_create_adjustment.html.erb (84.5ms)
  Rendered collection of /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_promotion_action.html.erb [1 times] (120.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_actions.html.erb (156.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_autocomplete.js.erb (3.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/edit.html.erb within spree/layouts/admin (374.0ms)
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (450.5ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (4.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (30.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (8.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.0ms)
  [1m[36mSpree::Store Load (1.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (1.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (1.0ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.8ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (16.0ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (213.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.5ms)
Completed 200 OK in 1319ms (Views: 1280.1ms | ActiveRecord: 12.1ms)


Started PUT "/admin/promotions/1" for 127.0.0.1 at 2017-07-26 14:10:39 +0200
Processing by Spree::Admin::PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"aFhT71TqzceYA5vGfgPdbF3oPvfwuDKua9FisGPhVvKyMPgtJ6yLafKZ1W8MiUJkQJMK+sNzXhfJsUhjrduu0A==", "promotion"=>{"promotion_actions_attributes"=>{"1"=>{"id"=>"1", "calculator_type"=>"Spree::Calculator::FlatPercentItemTotal"}}}, "button"=>"", "id"=>"1"}
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.3ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (0.6ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PromotionAction Load (1.0ms)[0m  [1m[34mSELECT "spree_promotion_actions".* FROM "spree_promotion_actions" WHERE "spree_promotion_actions"."deleted_at" IS NULL AND "spree_promotion_actions"."promotion_id" = $1 AND "spree_promotion_actions"."id" = 1[0m  [["promotion_id", 1]]
  [1m[36mSpree::Calculator Load (0.7ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::PromotionAction"], ["LIMIT", 1]]
  [1m[36mSpree::PromotionRule Load (0.5ms)[0m  [1m[34mSELECT "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1[0m  [["promotion_id", 1]]
  [1m[36mSpree::Promotion Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_promotions" WHERE LOWER("spree_promotions"."code") = LOWER($1) AND ("spree_promotions"."id" != $2) LIMIT $3[0m  [["code", "SUMSHIRT17"], ["id", 1], ["LIMIT", 1]]
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/promotions/1/edit
Completed 302 Found in 30ms (ActiveRecord: 8.3ms)


Started GET "/admin/promotions/1/edit" for 127.0.0.1 at 2017-07-26 14:10:39 +0200
Processing by Spree::Admin::PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (1.3ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.3ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (0.6ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/edit.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_error_messages.html.erb (1.7ms)
  [1m[36mSpree::PromotionCategory Load (1.6ms)[0m  [1m[34mSELECT "spree_promotion_categories".* FROM "spree_promotion_categories" ORDER BY "spree_promotion_categories"."name" ASC[0m
  [1m[36mSpree::PromotionAction Load (0.5ms)[0m  [1m[34mSELECT "spree_promotion_actions".* FROM "spree_promotion_actions" WHERE "spree_promotion_actions"."deleted_at" IS NULL AND "spree_promotion_actions"."promotion_id" = $1[0m  [["promotion_id", 1]]
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_adjustments" WHERE "spree_adjustments"."eligible" = $1 AND "spree_adjustments"."source_type" = $2 AND "spree_adjustments"."source_id" = 1[0m  [["eligible", "t"], ["source_type", "Spree::PromotionAction"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_form.html.erb (53.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_edit_resource_links.html.erb (1.6ms)
  [1m[36mSpree::PromotionRule Load (0.7ms)[0m  [1m[34mSELECT "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1[0m  [["promotion_id", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_rules.html.erb (8.8ms)
  [1m[36mSpree::Calculator Load (0.7ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::PromotionAction"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/calculators/_default_fields.html.erb (2.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/actions/_create_adjustment.html.erb (75.1ms)
  Rendered collection of /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_promotion_action.html.erb [1 times] (110.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_actions.html.erb (140.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_autocomplete.js.erb (4.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/edit.html.erb within spree/layouts/admin (358.6ms)
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (8.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (469.0ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (2.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (32.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (4.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (6.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.7ms)
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.8ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.7ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (17.6ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (229.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (3.6ms)
Completed 200 OK in 1354ms (Views: 1329.2ms | ActiveRecord: 12.5ms)


Started PUT "/admin/promotions/1" for 127.0.0.1 at 2017-07-26 14:10:46 +0200
Processing by Spree::Admin::PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qRHM8OOSctSfaR9/CriCHXGy4nsk02TZs4OfSnilxddzeWcykNQ0evXzUdZ4Mh0VbMnWdhcYCGAR47WZtp899Q==", "promotion"=>{"promotion_actions_attributes"=>{"1"=>{"id"=>"1", "calculator_type"=>"Spree::Calculator::FlatPercentItemTotal", "calculator_attributes"=>{"preferred_flat_percent"=>"25", "id"=>"7"}}}}, "button"=>"", "id"=>"1"}
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (1.1ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PromotionAction Load (0.8ms)[0m  [1m[34mSELECT "spree_promotion_actions".* FROM "spree_promotion_actions" WHERE "spree_promotion_actions"."deleted_at" IS NULL AND "spree_promotion_actions"."promotion_id" = $1 AND "spree_promotion_actions"."id" = 1[0m  [["promotion_id", 1]]
  [1m[36mSpree::Calculator Load (0.7ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::PromotionAction"], ["LIMIT", 1]]
  [1m[36mSpree::PromotionRule Load (1.6ms)[0m  [1m[34mSELECT "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1[0m  [["promotion_id", 1]]
  [1m[36mSpree::Promotion Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_promotions" WHERE LOWER("spree_promotions"."code") = LOWER($1) AND ("spree_promotions"."id" != $2) LIMIT $3[0m  [["code", "SUMSHIRT17"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "spree_calculators" SET "preferences" = $1, "updated_at" = $2 WHERE "spree_calculators"."id" = $3[0m  [["preferences", "---\n:flat_percent: !ruby/object:BigDecimal 18:0.25e2\n"], ["updated_at", "2017-07-26 12:10:46.882141"], ["id", 7]]
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/promotions/1/edit
Completed 302 Found in 56ms (ActiveRecord: 14.4ms)


Started GET "/admin/promotions/1/edit" for 127.0.0.1 at 2017-07-26 14:10:46 +0200
Processing by Spree::Admin::PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (0.6ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/edit.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_error_messages.html.erb (2.0ms)
  [1m[36mSpree::PromotionCategory Load (0.7ms)[0m  [1m[34mSELECT "spree_promotion_categories".* FROM "spree_promotion_categories" ORDER BY "spree_promotion_categories"."name" ASC[0m
  [1m[36mSpree::PromotionAction Load (0.8ms)[0m  [1m[34mSELECT "spree_promotion_actions".* FROM "spree_promotion_actions" WHERE "spree_promotion_actions"."deleted_at" IS NULL AND "spree_promotion_actions"."promotion_id" = $1[0m  [["promotion_id", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_adjustments" WHERE "spree_adjustments"."eligible" = $1 AND "spree_adjustments"."source_type" = $2 AND "spree_adjustments"."source_id" = 1[0m  [["eligible", "t"], ["source_type", "Spree::PromotionAction"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_form.html.erb (61.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_edit_resource_links.html.erb (2.2ms)
  [1m[36mSpree::PromotionRule Load (0.8ms)[0m  [1m[34mSELECT "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1[0m  [["promotion_id", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_rules.html.erb (12.0ms)
  [1m[36mSpree::Calculator Load (0.6ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::PromotionAction"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/calculators/_default_fields.html.erb (4.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/actions/_create_adjustment.html.erb (80.9ms)
  Rendered collection of /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_promotion_action.html.erb [1 times] (117.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_actions.html.erb (150.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_autocomplete.js.erb (7.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/edit.html.erb within spree/layouts/admin (381.7ms)
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (526.8ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (2.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (31.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (3.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (4.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (3.0ms)
  [1m[36mSpree::Store Load (1.3ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (1.1ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (1.2ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (17.3ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (217.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (3.1ms)
Completed 200 OK in 1440ms (Views: 1412.2ms | ActiveRecord: 11.0ms)


Started PUT "/admin/promotions/1" for 127.0.0.1 at 2017-07-26 14:10:56 +0200
Processing by Spree::Admin::PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"b1avPtKZk3Lwg+PddnDw4jxHFMXjHy9CCq/F2uR24fC1PgT8od/V3JoZrXQE+m/qITwgyNDUQ/uoz+8JKkwZ0g==", "promotion"=>{"match_policy"=>"all"}, "button"=>"", "id"=>"1"}
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (0.7ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PromotionRule Load (1.0ms)[0m  [1m[34mSELECT "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1[0m  [["promotion_id", 1]]
  [1m[36mSpree::Promotion Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_promotions" WHERE LOWER("spree_promotions"."code") = LOWER($1) AND ("spree_promotions"."id" != $2) LIMIT $3[0m  [["code", "SUMSHIRT17"], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/promotions/1/edit
Completed 302 Found in 19ms (ActiveRecord: 4.6ms)


Started GET "/admin/promotions/1/edit" for 127.0.0.1 at 2017-07-26 14:10:56 +0200
Processing by Spree::Admin::PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (1.0ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (1.1ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (1.2ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/edit.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_error_messages.html.erb (0.9ms)
  [1m[36mSpree::PromotionCategory Load (0.6ms)[0m  [1m[34mSELECT "spree_promotion_categories".* FROM "spree_promotion_categories" ORDER BY "spree_promotion_categories"."name" ASC[0m
  [1m[36mSpree::PromotionAction Load (1.2ms)[0m  [1m[34mSELECT "spree_promotion_actions".* FROM "spree_promotion_actions" WHERE "spree_promotion_actions"."deleted_at" IS NULL AND "spree_promotion_actions"."promotion_id" = $1[0m  [["promotion_id", 1]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_adjustments" WHERE "spree_adjustments"."eligible" = $1 AND "spree_adjustments"."source_type" = $2 AND "spree_adjustments"."source_id" = 1[0m  [["eligible", "t"], ["source_type", "Spree::PromotionAction"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_form.html.erb (48.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_edit_resource_links.html.erb (1.9ms)
  [1m[36mSpree::PromotionRule Load (0.5ms)[0m  [1m[34mSELECT "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1[0m  [["promotion_id", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_rules.html.erb (6.0ms)
  [1m[36mSpree::Calculator Load (0.7ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::PromotionAction"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/calculators/_default_fields.html.erb (3.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/actions/_create_adjustment.html.erb (71.6ms)
  Rendered collection of /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_promotion_action.html.erb [1 times] (97.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_actions.html.erb (126.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_autocomplete.js.erb (2.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/edit.html.erb within spree/layouts/admin (327.3ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (6.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (454.2ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (3.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (37.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (4.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.7ms)
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (12.1ms)
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (203.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.2ms)
Completed 200 OK in 1327ms (Views: 1301.0ms | ActiveRecord: 11.4ms)


Started POST "/admin/promotions/1/promotion_rules" for 127.0.0.1 at 2017-07-26 14:10:58 +0200
Processing by Spree::Admin::PromotionRulesController#create as JS
  Parameters: {"utf8"=>"✓", "promotion_rule"=>{"type"=>"Spree::Promotion::Rules::ItemTotal"}, "button"=>"", "promotion_id"=>"1"}
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (1.1ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (0.6ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PromotionRule Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1 AND "spree_promotion_rules"."type" = $2 LIMIT $3[0m  [["promotion_id", 1], ["type", "Spree::Promotion::Rules::ItemTotal"], ["LIMIT", 1]]
  [1m[35mSQL (2.9ms)[0m  [1m[32mINSERT INTO "spree_promotion_rules" ("promotion_id", "type", "created_at", "updated_at", "preferences") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["promotion_id", 1], ["type", "Spree::Promotion::Rules::ItemTotal"], ["created_at", "2017-07-26 12:10:58.839581"], ["updated_at", "2017-07-26 12:10:58.839581"], ["preferences", "---\n:amount_min: 100.0\n:operator_min: \">\"\n:amount_max: 1000.0\n:operator_max: \"<\"\n"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_rules/create.js.erb
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/rules/_item_total.html.erb (2.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_promotion_rule.html.erb (62.8ms)
  [1m[36mSpree::PromotionRule Load (0.8ms)[0m  [1m[34mSELECT "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1[0m  [["promotion_id", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_rules/create.js.erb (112.7ms)
Completed 200 OK in 234ms (Views: 182.0ms | ActiveRecord: 10.4ms)


Started PUT "/admin/promotions/1" for 127.0.0.1 at 2017-07-26 14:11:08 +0200
Processing by Spree::Admin::PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"IUG8Gu7vPa4Zny5o1LDCSi/pzPOFudbJF2SE5/8EB7f7KRfYnal7AHMFYMGmOl1CMpL4/rZyunC1BK40MT7/lQ==", "promotion"=>{"match_policy"=>"all", "promotion_rules_attributes"=>{"1"=>{"id"=>"1", "preferred_operator_min"=>"gt", "preferred_operator_max"=>"lt", "preferred_amount_min"=>"10", "preferred_amount_max"=>"1000.0"}}}, "button"=>"", "id"=>"1"}
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.9ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (1.0ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PromotionRule Load (0.7ms)[0m  [1m[34mSELECT "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1 AND "spree_promotion_rules"."id" = 1[0m  [["promotion_id", 1]]
  [1m[36mSpree::PromotionRule Load (0.6ms)[0m  [1m[34mSELECT "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1[0m  [["promotion_id", 1]]
  [1m[36mSpree::Promotion Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_promotions" WHERE LOWER("spree_promotions"."code") = LOWER($1) AND ("spree_promotions"."id" != $2) LIMIT $3[0m  [["code", "SUMSHIRT17"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (2.1ms)[0m  [1m[33mUPDATE "spree_promotion_rules" SET "preferences" = $1, "updated_at" = $2 WHERE "spree_promotion_rules"."id" = $3[0m  [["preferences", "---\n:amount_min: !ruby/object:BigDecimal 18:0.1e2\n:operator_min: gt\n:amount_max: !ruby/object:BigDecimal 18:0.1e4\n:operator_max: lt\n"], ["updated_at", "2017-07-26 12:11:08.914636"], ["id", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/promotions/1/edit
Completed 302 Found in 38ms (ActiveRecord: 8.8ms)


Started GET "/admin/promotions/1/edit" for 127.0.0.1 at 2017-07-26 14:11:08 +0200
Processing by Spree::Admin::PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (0.6ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/edit.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_error_messages.html.erb (1.7ms)
  [1m[36mSpree::PromotionCategory Load (0.9ms)[0m  [1m[34mSELECT "spree_promotion_categories".* FROM "spree_promotion_categories" ORDER BY "spree_promotion_categories"."name" ASC[0m
  [1m[36mSpree::PromotionAction Load (0.5ms)[0m  [1m[34mSELECT "spree_promotion_actions".* FROM "spree_promotion_actions" WHERE "spree_promotion_actions"."deleted_at" IS NULL AND "spree_promotion_actions"."promotion_id" = $1[0m  [["promotion_id", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_adjustments" WHERE "spree_adjustments"."eligible" = $1 AND "spree_adjustments"."source_type" = $2 AND "spree_adjustments"."source_id" = 1[0m  [["eligible", "t"], ["source_type", "Spree::PromotionAction"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_form.html.erb (53.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_edit_resource_links.html.erb (2.0ms)
  [1m[36mSpree::PromotionRule Load (0.8ms)[0m  [1m[34mSELECT "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1[0m  [["promotion_id", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/rules/_item_total.html.erb (3.0ms)
  Rendered collection of /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_promotion_rule.html.erb [1 times] (31.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_rules.html.erb (70.5ms)
  [1m[36mSpree::Calculator Load (0.8ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::PromotionAction"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/calculators/_default_fields.html.erb (1.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/actions/_create_adjustment.html.erb (66.4ms)
  Rendered collection of /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_promotion_action.html.erb [1 times] (100.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_actions.html.erb (129.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_autocomplete.js.erb (4.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/edit.html.erb within spree/layouts/admin (407.7ms)
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (5.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (423.8ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (1.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (28.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (6.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (3.3ms)
  [1m[36mSpree::Store Load (1.9ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (1.1ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (17.8ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (216.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (2.8ms)
Completed 200 OK in 1339ms (Views: 1320.4ms | ActiveRecord: 11.1ms)


Started PUT "/admin/promotions/1" for 127.0.0.1 at 2017-07-26 14:11:17 +0200
Processing by Spree::Admin::PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"MIWSdIIUWoDq0N1dFrTDumyddDInyoBUvdNW/MdcTVLq7Tm28VIcLoBKk/RkPlyyceZAPxQB7O0fs3wvCWa1cA==", "promotion"=>{"name"=>"Camisetas rebajadas", "code"=>"SUMSHIRT17", "path"=>"", "advertise"=>"0", "description"=>"PRUEBAS CON PROMOCIONES, DESCRIPCIÓN DETALLADA BLA BLA BLAA....", "promotion_category_id"=>"1", "usage_limit"=>"10", "starts_at"=>"2017/07/02", "expires_at"=>""}, "button"=>"", "id"=>"1"}
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.9ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.8ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (0.6ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PromotionRule Load (0.4ms)[0m  [1m[34mSELECT "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1[0m  [["promotion_id", 1]]
  [1m[36mSpree::Promotion Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_promotions" WHERE LOWER("spree_promotions"."code") = LOWER($1) AND ("spree_promotions"."id" != $2) LIMIT $3[0m  [["code", "SUMSHIRT17"], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/promotions/1/edit
Completed 302 Found in 26ms (ActiveRecord: 4.7ms)


Started GET "/admin/promotions/1/edit" for 127.0.0.1 at 2017-07-26 14:11:17 +0200
Processing by Spree::Admin::PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (2.0ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/edit.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_error_messages.html.erb (1.5ms)
  [1m[36mSpree::PromotionCategory Load (0.6ms)[0m  [1m[34mSELECT "spree_promotion_categories".* FROM "spree_promotion_categories" ORDER BY "spree_promotion_categories"."name" ASC[0m
  [1m[36mSpree::PromotionAction Load (0.6ms)[0m  [1m[34mSELECT "spree_promotion_actions".* FROM "spree_promotion_actions" WHERE "spree_promotion_actions"."deleted_at" IS NULL AND "spree_promotion_actions"."promotion_id" = $1[0m  [["promotion_id", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_adjustments" WHERE "spree_adjustments"."eligible" = $1 AND "spree_adjustments"."source_type" = $2 AND "spree_adjustments"."source_id" = 1[0m  [["eligible", "t"], ["source_type", "Spree::PromotionAction"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_form.html.erb (52.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_edit_resource_links.html.erb (1.8ms)
  [1m[36mSpree::PromotionRule Load (0.5ms)[0m  [1m[34mSELECT "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1[0m  [["promotion_id", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/rules/_item_total.html.erb (2.3ms)
  Rendered collection of /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_promotion_rule.html.erb [1 times] (33.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_rules.html.erb (66.4ms)
  [1m[36mSpree::Calculator Load (0.7ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::PromotionAction"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/calculators/_default_fields.html.erb (1.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/actions/_create_adjustment.html.erb (76.6ms)
  Rendered collection of /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_promotion_action.html.erb [1 times] (114.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_actions.html.erb (141.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_autocomplete.js.erb (3.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/edit.html.erb within spree/layouts/admin (403.7ms)
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (6.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (399.1ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (3.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (28.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (4.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (3.2ms)
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.3ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (8.7ms)
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (194.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (2.1ms)
Completed 200 OK in 1285ms (Views: 1264.7ms | ActiveRecord: 9.7ms)


Started GET "/admin/promotions" for 127.0.0.1 at 2017-07-26 14:11:27 +0200
Processing by Spree::Admin::PromotionsController#index as HTML
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.9ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_promotions_per_page"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/index.html.erb within spree/layouts/admin
  [1m[36mSpree::PromotionCategory Load (0.5ms)[0m  [1m[34mSELECT "spree_promotion_categories".* FROM "spree_promotion_categories" ORDER BY "spree_promotion_categories"."name" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_promotions"."id") FROM "spree_promotions"[0m
  [1m[36mSpree::Promotion Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_promotions" LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mSpree::Promotion Load (1.3ms)[0m  [1m[34mSELECT  DISTINCT "spree_promotions".* FROM "spree_promotions" ORDER BY "spree_promotions"."id" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  [1m[36mSpree::PromotionAction Load (0.7ms)[0m  [1m[34mSELECT "spree_promotion_actions".* FROM "spree_promotion_actions" WHERE "spree_promotion_actions"."deleted_at" IS NULL AND "spree_promotion_actions"."promotion_id" = 1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_adjustments" WHERE "spree_adjustments"."eligible" = $1 AND "spree_adjustments"."source_type" = $2 AND "spree_adjustments"."source_id" = 1[0m  [["eligible", "t"], ["source_type", "Spree::PromotionAction"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/index.html.erb within spree/layouts/admin (49.3ms)
  [1m[36mSpree::Preference Load (0.8ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (405.2ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (3.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (22.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (6.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.0ms)
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.7ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (14.9ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (159.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_table_filter.html.erb (1.9ms)
Completed 200 OK in 887ms (Views: 845.8ms | ActiveRecord: 11.0ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-07-26 14:11:36 +0200
Processing by Spree::Admin::ProductsController#index as HTML
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.3ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_products_per_page"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/products/index.html.erb within spree/layouts/admin
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_products"."id") FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 12:11:36.348513')[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_index_table_options.html.erb (30.4ms)
  [1m[36mSpree::Product Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 12:11:36.348513') LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (1.2ms)[0m  [1m[34mSELECT  DISTINCT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 12:11:36.348513') ORDER BY "spree_products"."name" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  [1m[36mSpree::Variant Load (1.3ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."is_master" = $1 AND "spree_variants"."product_id" IN (7, 6, 2, 3, 4, 13, 5, 14, 1, 12, 8, 9, 16, 10, 15, 11) ORDER BY "spree_variants"."position" ASC[0m  [["is_master", "f"]]
  [1m[36mSpree::Image Load (0.8ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" IN (17, 18, 19, 20, 21, 22, 23, 24, 25, 26) ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."is_master" = $1 AND "spree_variants"."product_id" IN (7, 6, 2, 3, 4, 13, 5, 14, 1, 12, 8, 9, 16, 10, 15, 11)[0m  [["is_master", "t"]]
  [1m[36mSpree::Image Load (1.3ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" IN (6, 12, 11, 10, 9, 8, 15, 16, 1, 2, 3, 4, 13, 5, 14, 7) ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.7ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."currency" = $1 AND "spree_prices"."variant_id" IN (6, 12, 11, 10, 9, 8, 15, 16, 1, 2, 3, 4, 13, 5, 14, 7)[0m  [["currency", "USD"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_index_table_options.html.erb (26.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/products/index.html.erb within spree/layouts/admin (215.0ms)
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (3.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (9.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (541.9ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (3.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (33.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (5.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.0ms)
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (15.5ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (162.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_table_filter.html.erb (1.5ms)
Completed 200 OK in 1189ms (Views: 1165.8ms | ActiveRecord: 14.0ms)


Started POST "/admin/products/apache-baseball-jersey/clone" for 127.0.0.1 at 2017-07-26 14:11:57 +0200
Processing by Spree::Admin::ProductsController#clone as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Gic7WcvTTGnLhO/SPle3GLKtYBRw9xonfFG0FDgkeCzAT5CbuJUKx6EeoXtM3SgQr9ZUGUM8dp7eMZ7H9h6ADg==", "button"=>"", "id"=>"apache-baseball-jersey"}
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Product Load (0.9ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."slug" = $1 ORDER BY "spree_products"."id" ASC LIMIT $2[0m  [["slug", "apache-baseball-jersey"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (4.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 7]]
  [1m[36mSpree::ProductProperty Load (0.7ms)[0m  [1m[34mSELECT "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 ORDER BY "spree_product_properties"."position" ASC[0m  [["product_id", 7]]
  [1m[36mSpree::Variant Load (6.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 7], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE (sku like '%APC-00001') ORDER BY "spree_variants"."created_at" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Image Load (1.2ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_id", 7], ["viewable_type", "Spree::Variant"]]
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-46375-1b72lw2.png'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-46375-1swihk0.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-46375-1swihk0.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-46375-1swihk0.png[0]' -auto-orient -resize "48x48>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/7545b3245d1bebb3b10eb86d8ef6945420170726-46375-19wk7mw'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-46375-1swihk0.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-46375-1swihk0.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-46375-1swihk0.png[0]' -auto-orient -resize "100x100>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/7545b3245d1bebb3b10eb86d8ef6945420170726-46375-h18otr'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-46375-1swihk0.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-46375-1swihk0.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-46375-1swihk0.png[0]' -auto-orient -resize "240x240>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/7545b3245d1bebb3b10eb86d8ef6945420170726-46375-1cwoh4c'
Command :: identify -format '%wx%h,%[exif:orientation]' '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-46375-1swihk0.png[0]' 2>/dev/null
Command :: identify -format %m '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-46375-1swihk0.png[0]'
Command :: convert '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-46375-1swihk0.png[0]' -auto-orient -resize "600x600>" -strip -auto-orient -colorspace sRGB '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/7545b3245d1bebb3b10eb86d8ef6945420170726-46375-1hibf9o'
  [1m[36mSpree::Preference Load (0.8ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.9ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 7], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 ORDER BY "spree_variants"."position" ASC[0m  [["product_id", 7], ["is_master", "f"]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Product Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE ("spree_products"."id" IS NOT NULL) AND "spree_products"."slug" = 'copy-of-apache-baseball-jersey' LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "friendly_id_slugs" ON "friendly_id_slugs"."sluggable_id" = "spree_products"."id" AND "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_type" = $1 WHERE ("spree_products"."id" IS NOT NULL) AND ("friendly_id_slugs"."sluggable_type" = 'Spree::Product' AND "friendly_id_slugs"."slug" = 'copy-of-apache-baseball-jersey') LIMIT $2[0m  [["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-46375-16yoldm.png'
  [1m[36mSpree::Variant Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "COPY OF APC-00001"], ["LIMIT", 1]]
  [1m[36mSpree::Classification Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" IS NULL LIMIT $2[0m  [["taxon_id", 7], ["LIMIT", 1]]
  [1m[36mSpree::Classification Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" IS NULL LIMIT $2[0m  [["taxon_id", 9], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."id" != $2) AND "spree_taxons"."parent_id" = $3 AND "spree_taxons"."taxonomy_id" = $4 LIMIT $5[0m  [["name", "T-Shirts"], ["id", 7], ["parent_id", 5], ["taxonomy_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) AND ("spree_taxons"."id" != $2) LIMIT $3[0m  [["permalink", "categories/clothing/t-shirts"], ["id", 7], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE "spree_taxons"."name" = $1 AND ("spree_taxons"."id" != $2) AND "spree_taxons"."parent_id" = $3 AND "spree_taxons"."taxonomy_id" = $4 LIMIT $5[0m  [["name", "Apache"], ["id", 9], ["parent_id", 2], ["taxonomy_id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE LOWER("spree_taxons"."permalink") = LOWER($1) AND ("spree_taxons"."id" != $2) LIMIT $3[0m  [["permalink", "brands/apache"], ["id", 9], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.5ms)[0m  [1m[34mSELECT  "spree_shipping_categories".* FROM "spree_shipping_categories" WHERE "spree_shipping_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/require_master_price"], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL LIMIT $2[0m  [["slug", "copy-of-apache-baseball-jersey"], ["LIMIT", 1]]
  [1m[35mSQL (3.1ms)[0m  [1m[32mINSERT INTO "spree_products" ("name", "description", "available_on", "slug", "tax_category_id", "shipping_category_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "COPY OF Apache Baseball Jersey"], ["description", "Qui tempora mollitia earum quia dolor ullam consequatur ipsam. Distinctio accusamus cumque dolorem expedita atque quam. Quisquam molestiae accusamus necessitatibus voluptatem voluptatem et ratione. Tempore nihil officiis sint qui quia aut. Doloremque et ipsum esse aspernatur tenetur."], ["available_on", "2017-07-26 11:01:57.574284"], ["slug", "copy-of-apache-baseball-jersey"], ["tax_category_id", 1], ["shipping_category_id", 1], ["created_at", "2017-07-26 12:11:58.648790"], ["updated_at", "2017-07-26 12:11:58.648790"]]
  [1m[36mSpree::Classification Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 7], ["product_id", 17], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.8ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 7], ["LIMIT", 1]]
  [1m[35mSQL (2.0ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 17], ["taxon_id", 7], ["position", 7]]
  [1m[36mSpree::Classification Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND "spree_products_taxons"."product_id" = $2 LIMIT $3[0m  [["taxon_id", 9], ["product_id", 17], ["LIMIT", 1]]
  [1m[36mSpree::Classification Load (0.6ms)[0m  [1m[34mSELECT  "spree_products_taxons".* FROM "spree_products_taxons" WHERE "spree_products_taxons"."taxon_id" = $1 AND ("spree_products_taxons"."position" IS NOT NULL) ORDER BY "spree_products_taxons"."position" DESC LIMIT $2[0m  [["taxon_id", 9], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "spree_products_taxons" ("product_id", "taxon_id", "position") VALUES ($1, $2, $3) RETURNING "id"[0m  [["product_id", 17], ["taxon_id", 9], ["position", 2]]
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-46375-1f414zg.png'
  [1m[36mSpree::Variant Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND "spree_variants"."deleted_at" IS NULL LIMIT $2[0m  [["sku", "COPY OF APC-00001"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."product_id" = $1 AND ("spree_variants"."position" IS NOT NULL) ORDER BY "spree_variants"."position" DESC LIMIT $2[0m  [["product_id", 17], ["LIMIT", 1]]
  [1m[35mSQL (3.1ms)[0m  [1m[32mINSERT INTO "spree_variants" ("sku", "is_master", "product_id", "cost_price", "position", "cost_currency", "updated_at", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["sku", "COPY OF APC-00001"], ["is_master", "t"], ["product_id", 17], ["cost_price", "17.0"], ["position", 1], ["cost_currency", "USD"], ["updated_at", "2017-07-26 12:11:58.692480"], ["created_at", "2017-07-26 12:11:58.692480"]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "spree_prices" ("variant_id", "amount", "currency") VALUES ($1, $2, $3) RETURNING "id"[0m  [["variant_id", 27], ["amount", "19.99"], ["currency", "USD"]]
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (1.1ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
Command :: file -b --mime '/var/folders/nv/9ftf9_j51291r_l2zqt6xd980000gp/T/579ec8587972e4abe363936a21248b8d20170726-46375-ndu2lr.png'
  [1m[36mSpree::Asset Load (0.8ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 AND ("spree_assets"."position" IS NOT NULL) ORDER BY "spree_assets"."position" DESC LIMIT $3[0m  [["viewable_id", 27], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[35mSQL (2.0ms)[0m  [1m[32mINSERT INTO "spree_assets" ("viewable_type", "viewable_id", "attachment_file_size", "position", "attachment_content_type", "attachment_file_name", "type", "attachment_updated_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["viewable_type", "Spree::Variant"], ["viewable_id", 27], ["attachment_file_size", 123779], ["position", 1], ["attachment_content_type", "image/png"], ["attachment_file_name", "apache_baseball.png"], ["type", "Spree::Image"], ["attachment_updated_at", "2017-07-26 12:11:57.938744"], ["created_at", "2017-07-26 12:11:58.738957"], ["updated_at", "2017-07-26 12:11:58.738957"]]
  [1m[36mSpree::Variant Load (1.3ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mSpree::StockLocation Load (0.7ms)[0m  [1m[34mSELECT "spree_stock_locations".* FROM "spree_stock_locations" WHERE "spree_stock_locations"."propagate_all_variants" = $1[0m  [["propagate_all_variants", "t"]]
  [1m[36mSpree::StockItem Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_stock_items" WHERE "spree_stock_items"."variant_id" = $1 AND "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."stock_location_id" = $2 AND "spree_stock_items"."deleted_at" IS NULL LIMIT $3[0m  [["variant_id", 27], ["stock_location_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (8.2ms)[0m  [1m[32mINSERT INTO "spree_stock_items" ("stock_location_id", "variant_id", "created_at", "updated_at", "backorderable") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["stock_location_id", 1], ["variant_id", 27], ["created_at", "2017-07-26 12:11:58.783504"], ["updated_at", "2017-07-26 12:11:58.783504"], ["backorderable", "t"]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/binary_inventory_cache"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_variants" SET "updated_at" = '2017-07-26 12:11:58.799026' WHERE "spree_variants"."id" = $1[0m  [["id", 27]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.7ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 17], ["taggable_type", "Spree::Product"]]
  [1m[36mFriendlyId::Slug Load (1.9ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 17], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[31mDELETE FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 AND "friendly_id_slugs"."slug" = $3[0m  [["sluggable_id", 17], ["sluggable_type", "Spree::Product"], ["slug", "copy-of-apache-baseball-jersey"]]
  [1m[35mSQL (6.6ms)[0m  [1m[32mINSERT INTO "friendly_id_slugs" ("slug", "sluggable_id", "sluggable_type", "created_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["slug", "copy-of-apache-baseball-jersey"], ["sluggable_id", 17], ["sluggable_type", "Spree::Product"], ["created_at", "2017-07-26 12:11:58.823387"]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 16) AND ("spree_taxons"."rgt" >= 17) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 12:11:58.837546' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 9)[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 16) AND ("spree_taxons"."rgt" >= 17) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 12:11:58.842886' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_products" SET "updated_at" = '2017-07-26 12:11:58.802025' WHERE "spree_products"."id" = $1[0m  [["id", 17]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.3ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 16) AND ("spree_taxons"."rgt" >= 17) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 12:11:58.852351' WHERE "spree_taxons"."id" IN (1, 5, 7, 2, 9)[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 16) AND ("spree_taxons"."rgt" >= 17) ORDER BY "spree_taxons"."lft"[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 12:11:58.858503' WHERE "spree_taxonomies"."id" IN (SELECT "spree_taxonomies"."id" FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" IN (1, 2) ORDER BY spree_taxonomies.position, spree_taxonomies.created_at)[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 12:11:58.667761' WHERE "spree_taxons"."id" = $1[0m  [["id", 7]]
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 12:11:58.863106' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) AND ("spree_taxons"."id" != 7) ORDER BY "spree_taxons"."lft")[0m
  [1m[36mSpree::Taxonomy Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = $1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 12:11:58.870445' WHERE "spree_taxonomies"."id" = $1[0m  [["id", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 12:11:58.672964' WHERE "spree_taxons"."id" = $1[0m  [["id", 9]]
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "spree_taxons" SET "updated_at" = '2017-07-26 12:11:58.873907' WHERE "spree_taxons"."id" IN (SELECT "spree_taxons"."id" FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 16) AND ("spree_taxons"."rgt" >= 17) AND ("spree_taxons"."id" != 9) ORDER BY "spree_taxons"."lft")[0m
  [1m[36mSpree::Taxonomy Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxonomies".* FROM "spree_taxonomies" WHERE "spree_taxonomies"."id" = $1 ORDER BY spree_taxonomies.position, spree_taxonomies.created_at LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_taxonomies" SET "updated_at" = '2017-07-26 12:11:58.878690' WHERE "spree_taxonomies"."id" = $1[0m  [["id", 2]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Variant Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."sku" = $1 AND "spree_variants"."deleted_at" IS NULL AND ("spree_variants"."id" != $2) AND "spree_variants"."deleted_at" IS NULL LIMIT $3[0m  [["sku", "COPY OF APC-00001"], ["id", 27], ["LIMIT", 1]]
  [1m[36mSpree::Product Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."slug" = $1 AND "spree_products"."deleted_at" IS NULL AND ("spree_products"."id" != $2) LIMIT $3[0m  [["slug", "copy-of-apache-baseball-jersey"], ["id", 17], ["LIMIT", 1]]
  [1m[36mFriendlyId::Slug Load (0.9ms)[0m  [1m[34mSELECT  "friendly_id_slugs".* FROM "friendly_id_slugs" WHERE "friendly_id_slugs"."deleted_at" IS NULL AND "friendly_id_slugs"."sluggable_id" = $1 AND "friendly_id_slugs"."sluggable_type" = $2 ORDER BY "friendly_id_slugs".id DESC LIMIT $3[0m  [["sluggable_id", 17], ["sluggable_type", "Spree::Product"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/products/copy-of-apache-baseball-jersey/edit
Completed 302 Found in 1020ms (ActiveRecord: 93.1ms)


Started GET "/admin/products/copy-of-apache-baseball-jersey/edit" for 127.0.0.1 at 2017-07-26 14:11:58 +0200
Processing by Spree::Admin::ProductsController#edit as HTML
  Parameters: {"id"=>"copy-of-apache-baseball-jersey"}
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Product Load (2.0ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."slug" = $1 ORDER BY "spree_products"."id" ASC LIMIT $2[0m  [["slug", "copy-of-apache-baseball-jersey"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/products/edit.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_product_tabs.html.erb (5.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_error_messages.html.erb (2.6ms)
  [1m[36mSpree::Variant Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 17], ["is_master", "f"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 17], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (1.0ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 27], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Variant Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 17], ["is_master", "f"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.5ms)[0m  [1m[34mSELECT "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."name" ASC[0m
  [1m[36mSpree::TaxCategory Load (0.6ms)[0m  [1m[34mSELECT "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL ORDER BY "spree_tax_categories"."name" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "spree_taxons".id FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 17]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "spree_option_types".id FROM "spree_option_types" INNER JOIN "spree_product_option_types" ON "spree_option_types"."id" = "spree_product_option_types"."option_type_id" WHERE "spree_product_option_types"."product_id" = $1 ORDER BY "spree_option_types"."position" ASC[0m  [["product_id", 17]]
  [1m[36mActsAsTaggableOn::Tagging Load (1.4ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 17], ["taggable_type", "Spree::Product"]]
  [1m[36mActsAsTaggableOn::Tag Load (1.7ms)[0m  [1m[34mSELECT "spree_tags".* FROM "spree_tags" INNER JOIN "spree_taggings" ON "spree_tags"."id" = "spree_taggings"."tag_id" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2 AND (spree_taggings.context = 'tags' AND spree_taggings.tagger_id IS NULL)[0m  [["taggable_id", 17], ["taggable_type", "Spree::Product"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/products/_form.html.erb (54.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_edit_resource_links.html.erb (4.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/products/edit.html.erb within spree/layouts/admin (206.0ms)
  [1m[36mSpree::Preference Load (1.0ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (3.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (6.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (628.2ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.9ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (2.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (49.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (3.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (4.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (3.4ms)
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (16.1ms)
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (181.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (2.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_sidebar.html.erb (1.1ms)
Completed 200 OK in 1311ms (Views: 1278.0ms | ActiveRecord: 17.6ms)


Started GET "/api/v1/taxons?ids=7,9&without_children=true&token=b1af2810df846a04152517c389d5167128d83feb542749ac" for 127.0.0.1 at 2017-07-26 14:12:00 +0200
Processing by Spree::Api::V1::TaxonsController#index as JSON
  Parameters: {"ids"=>"7,9", "without_children"=>"true", "token"=>"b1af2810df846a04152517c389d5167128d83feb542749ac"}
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."spree_api_key" = $1 LIMIT $2[0m  [["spree_api_key", "b1af2810df846a04152517c389d5167128d83feb542749ac"], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "spree_roles"."name" FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/taxons/index.v1.rabl
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" IN (7, 9) LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IN (7, 9) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) AND ("spree_taxons"."id" != 7) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 16) AND ("spree_taxons"."rgt" >= 17) AND ("spree_taxons"."id" != 9) ORDER BY "spree_taxons"."lft"[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "spree_taxons" WHERE "spree_taxons"."id" IN (7, 9) LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 25], ["OFFSET", 0]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/taxons/index.v1.rabl (13.3ms)
Completed 200 OK in 318ms (Views: 302.1ms | ActiveRecord: 6.4ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-07-26 14:12:07 +0200
Processing by Spree::Admin::ProductsController#index as HTML
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (1.2ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.7ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_products_per_page"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/products/index.html.erb within spree/layouts/admin
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_products"."id") FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 12:12:07.569353')[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_index_table_options.html.erb (35.5ms)
  [1m[36mSpree::Product Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 12:12:07.569353') LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (1.3ms)[0m  [1m[34mSELECT  DISTINCT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 12:12:07.569353') ORDER BY "spree_products"."name" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."is_master" = $1 AND "spree_variants"."product_id" IN (7, 17, 6, 2, 3, 4, 13, 5, 14, 1, 12, 8, 9, 16, 10, 15, 11) ORDER BY "spree_variants"."position" ASC[0m  [["is_master", "f"]]
  [1m[36mSpree::Image Load (0.9ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" IN (17, 18, 19, 20, 21, 22, 23, 24, 25, 26) ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."is_master" = $1 AND "spree_variants"."product_id" IN (7, 17, 6, 2, 3, 4, 13, 5, 14, 1, 12, 8, 9, 16, 10, 15, 11)[0m  [["is_master", "t"]]
  [1m[36mSpree::Image Load (0.9ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" IN (6, 12, 11, 10, 9, 8, 15, 16, 27, 1, 2, 3, 4, 13, 5, 14, 7) ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.7ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."currency" = $1 AND "spree_prices"."variant_id" IN (6, 12, 11, 10, 9, 8, 15, 16, 27, 1, 2, 3, 4, 13, 5, 14, 7)[0m  [["currency", "USD"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_index_table_options.html.erb (22.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/products/index.html.erb within spree/layouts/admin (240.6ms)
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (3.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (473.8ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (4.2ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (1.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (28.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (4.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (4.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.4ms)
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (1.0ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (17.5ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (174.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_table_filter.html.erb (1.7ms)
Completed 200 OK in 1153ms (Views: 1124.5ms | ActiveRecord: 18.9ms)


Started GET "/admin/products/apache-baseball-jersey/edit" for 127.0.0.1 at 2017-07-26 14:12:12 +0200
Processing by Spree::Admin::ProductsController#edit as HTML
  Parameters: {"id"=>"apache-baseball-jersey"}
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (1.5ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."slug" = $1 ORDER BY "spree_products"."id" ASC LIMIT $2[0m  [["slug", "apache-baseball-jersey"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/products/edit.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_product_tabs.html.erb (3.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_error_messages.html.erb (1.3ms)
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 7], ["is_master", "f"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 7], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 7], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Variant Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 7], ["is_master", "f"], ["LIMIT", 1]]
  [1m[36mSpree::ShippingCategory Load (0.5ms)[0m  [1m[34mSELECT "spree_shipping_categories".* FROM "spree_shipping_categories" ORDER BY "spree_shipping_categories"."name" ASC[0m
  [1m[36mSpree::TaxCategory Load (1.7ms)[0m  [1m[34mSELECT "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL ORDER BY "spree_tax_categories"."name" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "spree_taxons".id FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 7]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "spree_option_types".id FROM "spree_option_types" INNER JOIN "spree_product_option_types" ON "spree_option_types"."id" = "spree_product_option_types"."option_type_id" WHERE "spree_product_option_types"."product_id" = $1 ORDER BY "spree_option_types"."position" ASC[0m  [["product_id", 7]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.6ms)[0m  [1m[34mSELECT "spree_taggings".* FROM "spree_taggings" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2[0m  [["taggable_id", 7], ["taggable_type", "Spree::Product"]]
  [1m[36mActsAsTaggableOn::Tag Load (1.0ms)[0m  [1m[34mSELECT "spree_tags".* FROM "spree_tags" INNER JOIN "spree_taggings" ON "spree_tags"."id" = "spree_taggings"."tag_id" WHERE "spree_taggings"."taggable_id" = $1 AND "spree_taggings"."taggable_type" = $2 AND (spree_taggings.context = 'tags' AND spree_taggings.tagger_id IS NULL)[0m  [["taggable_id", 7], ["taggable_type", "Spree::Product"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/products/_form.html.erb (45.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_edit_resource_links.html.erb (4.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/products/edit.html.erb within spree/layouts/admin (167.2ms)
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (3.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (404.2ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (2.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (21.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (4.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (5.1ms)
  [1m[36mSpree::Store Load (0.9ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (12.6ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (157.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_sidebar.html.erb (1.1ms)
Completed 200 OK in 986ms (Views: 959.6ms | ActiveRecord: 15.6ms)


Started GET "/api/v1/taxons?ids=7,9&without_children=true&token=b1af2810df846a04152517c389d5167128d83feb542749ac" for 127.0.0.1 at 2017-07-26 14:12:13 +0200
Processing by Spree::Api::V1::TaxonsController#index as JSON
  Parameters: {"ids"=>"7,9", "without_children"=>"true", "token"=>"b1af2810df846a04152517c389d5167128d83feb542749ac"}
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."spree_api_key" = $1 LIMIT $2[0m  [["spree_api_key", "b1af2810df846a04152517c389d5167128d83feb542749ac"], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "spree_roles"."name" FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/taxons/index.v1.rabl
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" IN (7, 9) LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IN (7, 9) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) AND ("spree_taxons"."id" != 7) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 16) AND ("spree_taxons"."rgt" >= 17) AND ("spree_taxons"."id" != 9) ORDER BY "spree_taxons"."lft"[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "spree_taxons" WHERE "spree_taxons"."id" IN (7, 9) LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 25], ["OFFSET", 0]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/taxons/index.v1.rabl (12.9ms)
Completed 200 OK in 288ms (Views: 270.0ms | ActiveRecord: 7.1ms)


Started GET "/" for 127.0.0.1 at 2017-07-26 14:12:40 +0200
Processing by Spree::HomeController#index as HTML
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.9ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.9ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.9ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/products_per_page"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/show_products_without_price"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/layout"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/home/index.html.erb within spree/layouts/spree_application
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/max_level_in_taxons_menu"], ["LIMIT", 1]]
  [1m[36mSpree::Taxonomy Load (0.5ms)[0m  [1m[34mSELECT "spree_taxonomies".* FROM "spree_taxonomies" ORDER BY spree_taxonomies.position, spree_taxonomies.created_at[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL AND "spree_taxons"."taxonomy_id" IN (2, 1)[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IN (1, 2) ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_taxonomies.html.erb (12.3ms)
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 12:12:40.849052') AND ("spree_products".available_on <= '2017-07-26 12:12:40.849029') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4) subquery_for_count[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 12], ["OFFSET", 0]]
  [1m[35mSQL (3.4ms)[0m  [1m[34mSELECT  DISTINCT "spree_products"."id" FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL LEFT OUTER JOIN "spree_product_promotion_rules" ON "spree_product_promotion_rules"."product_id" = "spree_products"."id" LEFT OUTER JOIN "spree_promotion_rules" ON "spree_promotion_rules"."id" = "spree_product_promotion_rules"."promotion_rule_id" LEFT OUTER JOIN "spree_promotions" ON "spree_promotions"."id" = "spree_promotion_rules"."promotion_id" AND "spree_promotions"."advertise" = $2 AND (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2017-07-26 12:12:40.976724') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2017-07-26 12:12:40.977161') WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 12:12:40.849052') AND ("spree_products".available_on <= '2017-07-26 12:12:40.849029') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $3 LIMIT $4 OFFSET $5[0m  [["is_master", "t"], ["advertise", "t"], ["currency", "USD"], ["LIMIT", 12], ["OFFSET", 0]]
  [1m[35m (2.6ms)[0m  [1m[34mSELECT MAX("spree_products"."updated_at") FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL LEFT OUTER JOIN "spree_product_promotion_rules" ON "spree_product_promotion_rules"."product_id" = "spree_products"."id" LEFT OUTER JOIN "spree_promotion_rules" ON "spree_promotion_rules"."id" = "spree_product_promotion_rules"."promotion_rule_id" LEFT OUTER JOIN "spree_promotions" ON "spree_promotions"."id" = "spree_promotion_rules"."promotion_id" AND "spree_promotions"."advertise" = $2 AND (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2017-07-26 12:12:40.985162') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2017-07-26 12:12:40.985461') WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 12:12:40.849052') AND ("spree_products".available_on <= '2017-07-26 12:12:40.849029') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $3 AND "spree_products"."id" IN (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12)[0m  [["is_master", "t"], ["advertise", "t"], ["currency", "USD"]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.5ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 12:12:40.849052') AND ("spree_products".available_on <= '2017-07-26 12:12:40.849029') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2[0m  [["is_master", "t"], ["currency", "USD"]]
  [1m[36mSpree::Product Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 12:12:40.849052') AND ("spree_products".available_on <= '2017-07-26 12:12:40.849029') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mCACHE Spree::Product Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 12:12:40.849052') AND ("spree_products".available_on <= '2017-07-26 12:12:40.849029') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mSpree::Product Load (1.7ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" INNER JOIN "spree_variants" ON "spree_variants"."product_id" = "spree_products"."id" AND "spree_variants"."is_master" = $1 AND "spree_variants"."deleted_at" IS NULL INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_products"."deleted_at" IS NULL AND ("spree_products".discontinue_on IS NULL or "spree_products".discontinue_on >= '2017-07-26 12:12:40.849052') AND ("spree_products".available_on <= '2017-07-26 12:12:40.849029') AND (spree_prices.amount IS NOT NULL) AND "spree_prices"."currency" = $2 LIMIT $3 OFFSET $4[0m  [["is_master", "t"], ["currency", "USD"], ["LIMIT", 12], ["OFFSET", 0]]
  [1m[36mSpree::TaxCategory Load (0.6ms)[0m  [1m[34mSELECT "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = 1[0m
  [1m[36mSpree::Variant Load (1.2ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."is_master" = $1 AND "spree_variants"."product_id" IN (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12)[0m  [["is_master", "t"]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" IN (6, 12, 11, 10, 9, 8, 1, 2, 3, 4, 5, 7)[0m
  [1m[36mSpree::Image Load (1.1ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" IN (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12) ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::ProductPromotionRule Load (0.8ms)[0m  [1m[34mSELECT "spree_product_promotion_rules".* FROM "spree_product_promotion_rules" WHERE "spree_product_promotion_rules"."product_id" IN (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12)[0m
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.1ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.1ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_products.html.erb (364.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/home/index.html.erb within spree/layouts/spree_application (468.7ms)
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_translations.html.erb (1.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_head.html.erb (244.6ms)
  [1m[36mSpree::Tracker Load (0.6ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1 ORDER BY "spree_trackers"."id" ASC LIMIT $2[0m  [["active", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_analytics.js.erb (3.1ms)
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[1;32mDeface:[0m 1 overrides found for 'spree/shared/_nav_bar'
[1;32mDeface:[0m 'auth_shared_login_bar' matched 1 times with 'li#search-bar'
[1;32mDeface: [ERROR][0m The original source for 'auth_shared_login_bar' has changed, this override should be reviewed to ensure it's still valid.
  [1m[35m (0.9ms)[0m  [1m[34mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_search.html.erb (6.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_nav_bar.html.erb (41.2ms)
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_main_nav_bar.html.erb (6.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_header.html.erb (125.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_sidebar.html.erb (1.0ms)
Completed 200 OK in 1040ms (Views: 971.2ms | ActiveRecord: 32.0ms)


Started GET "/cart_link" for 127.0.0.1 at 2017-07-26 14:12:42 +0200
Processing by Spree::StoreController#cart_link as */*
  [1m[36mSpree::Preference Load (0.8ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_link_to_cart.html.erb (14.4ms)
Completed 304 Not Modified in 352ms (Views: 323.2ms | ActiveRecord: 5.5ms)


Started GET "/products/ruby-on-rails-baseball-jersey" for 127.0.0.1 at 2017-07-26 14:12:51 +0200
Processing by Spree::ProductsController#show as HTML
  Parameters: {"id"=>"ruby-on-rails-baseball-jersey"}
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.9ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.1ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.7ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."slug" = $1 ORDER BY "spree_products"."id" ASC LIMIT $2[0m  [["slug", "ruby-on-rails-baseball-jersey"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = 3 ORDER BY "spree_variants"."position" ASC[0m
  [1m[36mSpree::Image Load (1.5ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" IN (3, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26) ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" IN (17, 3, 26, 25, 24, 23, 22, 21, 20, 19, 18)[0m
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 ORDER BY "spree_taxons"."id" ASC LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/layout"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/show.html.erb within spree/layouts/spree_application
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.7ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Promotion Load (1.4ms)[0m  [1m[34mSELECT "spree_promotions".* FROM "spree_promotions" INNER JOIN "spree_promotion_rules" ON "spree_promotions"."id" = "spree_promotion_rules"."promotion_id" INNER JOIN "spree_product_promotion_rules" ON "spree_promotion_rules"."id" = "spree_product_promotion_rules"."promotion_rule_id" WHERE "spree_product_promotion_rules"."product_id" = $1 AND "spree_promotions"."advertise" = $2 AND (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2017-07-26 12:12:51.569916') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2017-07-26 12:12:51.570053')[0m  [["product_id", 3], ["advertise", "t"]]
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 3], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Image Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 LIMIT $3[0m  [["viewable_id", 3], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Image Load (1.0ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 ORDER BY "spree_assets"."position" ASC LIMIT $3[0m  [["viewable_id", 3], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Image Load (0.8ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_id", 3], ["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Variant Load (0.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 3], ["is_master", "f"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/_thumbnails.html.erb (25.8ms)
  [1m[36mSpree::ProductProperty Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 ORDER BY "spree_product_properties"."position" ASC[0m  [["product_id", 3]]
  [1m[36mSpree::Property Load (0.6ms)[0m  [1m[34mSELECT "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" IN (1, 2, 3, 4, 5, 6, 7, 8)[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/_properties.html.erb (7.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/_promotions.html.erb (1.9ms)
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/show_raw_product_description"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (1.9ms)[0m  [1m[34mSELECT DISTINCT "spree_variants".* FROM "spree_variants" INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 AND ("spree_variants"."discontinue_on" IS NULL OR "spree_variants"."discontinue_on" >= '2017-07-26 12:12:51.741459') AND ("spree_variants".deleted_at IS NULL) AND (spree_prices.currency = 'USD') AND (spree_prices.amount IS NOT NULL) ORDER BY "spree_variants"."position" ASC[0m  [["product_id", 3], ["is_master", "f"]]
  [1m[36mSpree::OptionValueVariant Load (0.6ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" IN (17, 18, 19, 20, 21, 22, 23, 24, 25, 26)[0m
  [1m[36mSpree::OptionValue Load (0.8ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 5, 7, 6, 2, 3, 4)[0m
  [1m[36mSpree::Variant Load (1.7ms)[0m  [1m[34mSELECT DISTINCT "spree_variants".* FROM "spree_variants" INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 AND ("spree_variants"."discontinue_on" IS NULL OR "spree_variants"."discontinue_on" >= '2017-07-26 12:12:51.758987') AND ("spree_variants".deleted_at IS NULL) AND (spree_prices.currency = 'USD') AND (spree_prices.amount IS NOT NULL) ORDER BY "spree_variants"."position" ASC[0m  [["product_id", 3], ["is_master", "f"]]
  [1m[36mCACHE Spree::OptionValueVariant Load (0.0ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" IN (17, 18, 19, 20, 21, 22, 23, 24, 25, 26)[0m
  [1m[36mCACHE Spree::OptionValue Load (0.0ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 5, 7, 6, 2, 3, 4)[0m
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 17]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 17], ["active", "t"]]
  [1m[36mSpree::OptionType Load (0.6ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.6ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/show_variant_full_price"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 3]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 17], ["active", "t"]]
  [1m[36mSpree::Price Load (0.8ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 18]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 18], ["active", "t"]]
  [1m[36mCACHE Spree::OptionType Load (0.0ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 18], ["active", "t"]]
  [1m[36mSpree::Price Load (0.7ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 19]]
  [1m[35m (2.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 19], ["active", "t"]]
  [1m[36mCACHE Spree::OptionType Load (0.0ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 19], ["active", "t"]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 20]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 20], ["active", "t"]]
  [1m[36mCACHE Spree::OptionType Load (0.0ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 20], ["active", "t"]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 21]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 21], ["active", "t"]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 21], ["active", "t"]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 22]]
  [1m[35m (1.6ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 22], ["active", "t"]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 22], ["active", "t"]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 23]]
  [1m[35m (1.7ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 23], ["active", "t"]]
  [1m[36mCACHE Spree::OptionType Load (0.0ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 23], ["active", "t"]]
  [1m[36mSpree::Price Load (1.2ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 24]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 24], ["active", "t"]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 24], ["active", "t"]]
  [1m[36mSpree::Price Load (0.7ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 25]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 25], ["active", "t"]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 25], ["active", "t"]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 26]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 26], ["active", "t"]]
  [1m[36mCACHE Spree::OptionType Load (0.0ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 26], ["active", "t"]]
  [1m[36mSpree::Price Load (0.8ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 3], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (0.7ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 3], ["active", "t"]]
  [1m[36mSpree::StockItem Load (1.8ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 3], ["active", "t"]]
  [1m[36mSpree::Variant Load (1.5ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC[0m  [["product_id", 3]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 3], ["active", "t"]]
  [1m[36mCACHE Spree::StockItem Load (0.0ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 3], ["active", "t"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/_cart_form.html.erb (217.0ms)
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/_taxons.html.erb (3.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/show.html.erb within spree/layouts/spree_application (417.4ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_put_site_name_in_title"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/title_site_name_separator"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.8ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (3.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_translations.html.erb (1.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_head.html.erb (190.9ms)
  [1m[36mSpree::Tracker Load (0.6ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1 ORDER BY "spree_trackers"."id" ASC LIMIT $2[0m  [["active", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_analytics.js.erb (2.6ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[1;32mDeface:[0m 1 overrides found for 'spree/shared/_nav_bar'
[1;32mDeface:[0m 'auth_shared_login_bar' matched 1 times with 'li#search-bar'
[1;32mDeface: [ERROR][0m The original source for 'auth_shared_login_bar' has changed, this override should be reviewed to ensure it's still valid.
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[34mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" = $1[0m  [["parent_id", 5]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" = $1 ORDER BY "spree_taxons"."lft"[0m  [["parent_id", 5]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_search.html.erb (15.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_nav_bar.html.erb (37.2ms)
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_main_nav_bar.html.erb (5.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_header.html.erb (106.7ms)
  [1m[36mSpree::Taxon Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) AND ("spree_taxons"."id" != 7) LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) AND ("spree_taxons"."id" != 7) ORDER BY "spree_taxons"."lft"[0m
Completed 200 OK in 919ms (Views: 793.7ms | ActiveRecord: 63.2ms)


Started GET "/cart_link" for 127.0.0.1 at 2017-07-26 14:12:52 +0200
Processing by Spree::StoreController#cart_link as */*
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (1.0ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.9ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (1.3ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.9ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.7ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_link_to_cart.html.erb (21.1ms)
Completed 304 Not Modified in 334ms (Views: 296.7ms | ActiveRecord: 8.2ms)


Started GET "/admin/promotions" for 127.0.0.1 at 2017-07-26 14:13:55 +0200
Processing by Spree::Admin::PromotionsController#index as HTML
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_promotions_per_page"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/index.html.erb within spree/layouts/admin
  [1m[36mSpree::PromotionCategory Load (0.6ms)[0m  [1m[34mSELECT "spree_promotion_categories".* FROM "spree_promotion_categories" ORDER BY "spree_promotion_categories"."name" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(DISTINCT "spree_promotions"."id") FROM "spree_promotions"[0m
  [1m[36mSpree::Promotion Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_promotions" LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
  [1m[36mSpree::Promotion Load (0.7ms)[0m  [1m[34mSELECT  DISTINCT "spree_promotions".* FROM "spree_promotions" ORDER BY "spree_promotions"."id" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  [1m[36mSpree::PromotionAction Load (0.6ms)[0m  [1m[34mSELECT "spree_promotion_actions".* FROM "spree_promotion_actions" WHERE "spree_promotion_actions"."deleted_at" IS NULL AND "spree_promotion_actions"."promotion_id" = 1[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_adjustments" WHERE "spree_adjustments"."eligible" = $1 AND "spree_adjustments"."source_type" = $2 AND "spree_adjustments"."source_id" = 1[0m  [["eligible", "t"], ["source_type", "Spree::PromotionAction"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/index.html.erb within spree/layouts/admin (41.5ms)
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (3.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (5.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (531.7ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (1.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (19.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (4.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.1ms)
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (9.8ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (137.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_table_filter.html.erb (2.3ms)
Completed 200 OK in 952ms (Views: 909.6ms | ActiveRecord: 10.1ms)


Started GET "/admin/promotions/1/edit" for 127.0.0.1 at 2017-07-26 14:13:59 +0200
Processing by Spree::Admin::PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSpree::Preference Load (0.8ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (0.7ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/edit.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_error_messages.html.erb (1.4ms)
  [1m[36mSpree::PromotionCategory Load (0.5ms)[0m  [1m[34mSELECT "spree_promotion_categories".* FROM "spree_promotion_categories" ORDER BY "spree_promotion_categories"."name" ASC[0m
  [1m[36mSpree::PromotionAction Load (0.6ms)[0m  [1m[34mSELECT "spree_promotion_actions".* FROM "spree_promotion_actions" WHERE "spree_promotion_actions"."deleted_at" IS NULL AND "spree_promotion_actions"."promotion_id" = $1[0m  [["promotion_id", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_adjustments" WHERE "spree_adjustments"."eligible" = $1 AND "spree_adjustments"."source_type" = $2 AND "spree_adjustments"."source_id" = 1[0m  [["eligible", "t"], ["source_type", "Spree::PromotionAction"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_form.html.erb (46.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_edit_resource_links.html.erb (2.1ms)
  [1m[36mSpree::PromotionRule Load (0.6ms)[0m  [1m[34mSELECT "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1[0m  [["promotion_id", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/rules/_item_total.html.erb (4.7ms)
  Rendered collection of /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_promotion_rule.html.erb [1 times] (35.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_rules.html.erb (74.9ms)
  [1m[36mSpree::Calculator Load (0.8ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::PromotionAction"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/calculators/_default_fields.html.erb (2.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/actions/_create_adjustment.html.erb (86.3ms)
  Rendered collection of /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_promotion_action.html.erb [1 times] (114.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_actions.html.erb (154.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_autocomplete.js.erb (5.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/edit.html.erb within spree/layouts/admin (460.9ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (5.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (454.4ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (1.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (27.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (6.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (4.5ms)
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (11.6ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (206.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (2.5ms)
Completed 200 OK in 1384ms (Views: 1366.4ms | ActiveRecord: 9.2ms)


Started POST "/admin/promotions/1/promotion_actions" for 127.0.0.1 at 2017-07-26 14:14:18 +0200
Processing by Spree::Admin::PromotionActionsController#create as JS
  Parameters: {"utf8"=>"✓", "action_type"=>"Spree::Promotion::Actions::FreeShipping", "button"=>"", "promotion_id"=>"1"}
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (2.3ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (1.1ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (0.8ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_promotion_actions" ("promotion_id", "type") VALUES ($1, $2) RETURNING "id"[0m  [["promotion_id", 1], ["type", "Spree::Promotion::Actions::FreeShipping"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_actions/create.js.erb
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_promotion_action.html.erb (59.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_actions/create.js.erb (102.6ms)
Completed 200 OK in 181ms (Views: 151.5ms | ActiveRecord: 7.1ms)


Started DELETE "/admin/promotions/1/promotion_actions/2" for 127.0.0.1 at 2017-07-26 14:14:22 +0200
Processing by Spree::Admin::PromotionActionsController#destroy as JS
  Parameters: {"promotion_id"=>"1", "id"=>"2"}
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (1.3ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (0.6ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::PromotionAction Load (0.6ms)[0m  [1m[34mSELECT  "spree_promotion_actions".* FROM "spree_promotion_actions" WHERE "spree_promotion_actions"."deleted_at" IS NULL AND "spree_promotion_actions"."promotion_id" = $1 AND "spree_promotion_actions"."id" = $2 LIMIT $3[0m  [["promotion_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Adjustment Load (1.9ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" INNER JOIN "spree_orders" ON "spree_orders"."id" = "spree_adjustments"."order_id" WHERE "spree_adjustments"."source_id" = $1 AND "spree_adjustments"."source_type" = $2 AND "spree_orders"."completed_at" IS NULL[0m  [["source_id", 2], ["source_type", "Spree::PromotionAction"]]
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "spree_adjustments" SET "source_id" = NULL, "updated_at" = '2017-07-26 12:14:22.899992' WHERE "spree_adjustments"."id" IN (SELECT "spree_adjustments"."id" FROM "spree_adjustments" INNER JOIN "spree_orders" ON "spree_orders"."id" = "spree_adjustments"."order_id" WHERE "spree_adjustments"."source_id" = $1 AND "spree_adjustments"."source_type" = $2 AND ("spree_orders"."completed_at" IS NOT NULL))[0m  [["source_id", 2], ["source_type", "Spree::PromotionAction"]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_promotion_actions" SET "deleted_at" = '2017-07-26 12:14:22.902387' WHERE "spree_promotion_actions"."type" IN ('Spree::Promotion::Actions::FreeShipping') AND "spree_promotion_actions"."id" = $1[0m  [["id", 2]]
  [1m[35m (6.4ms)[0m  [1m[35mCOMMIT[0m
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_actions/destroy.js.erb
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_actions/destroy.js.erb (1.0ms)
Completed 200 OK in 85ms (Views: 44.3ms | ActiveRecord: 14.0ms)


Started POST "/admin/promotions/1/promotion_actions" for 127.0.0.1 at 2017-07-26 14:14:24 +0200
Processing by Spree::Admin::PromotionActionsController#create as JS
  Parameters: {"utf8"=>"✓", "action_type"=>"Spree::Promotion::Actions::FreeShipping", "button"=>"", "promotion_id"=>"1"}
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (0.8ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_promotion_actions" ("promotion_id", "type") VALUES ($1, $2) RETURNING "id"[0m  [["promotion_id", 1], ["type", "Spree::Promotion::Actions::FreeShipping"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_actions/create.js.erb
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_promotion_action.html.erb (58.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_actions/create.js.erb (99.6ms)
Completed 200 OK in 167ms (Views: 149.4ms | ActiveRecord: 4.6ms)


Started DELETE "/admin/promotions/1/promotion_actions/3" for 127.0.0.1 at 2017-07-26 14:14:32 +0200
Processing by Spree::Admin::PromotionActionsController#destroy as JS
  Parameters: {"promotion_id"=>"1", "id"=>"3"}
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.8ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (0.8ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::PromotionAction Load (0.7ms)[0m  [1m[34mSELECT  "spree_promotion_actions".* FROM "spree_promotion_actions" WHERE "spree_promotion_actions"."deleted_at" IS NULL AND "spree_promotion_actions"."promotion_id" = $1 AND "spree_promotion_actions"."id" = $2 LIMIT $3[0m  [["promotion_id", 1], ["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Adjustment Load (0.9ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" INNER JOIN "spree_orders" ON "spree_orders"."id" = "spree_adjustments"."order_id" WHERE "spree_adjustments"."source_id" = $1 AND "spree_adjustments"."source_type" = $2 AND "spree_orders"."completed_at" IS NULL[0m  [["source_id", 3], ["source_type", "Spree::PromotionAction"]]
  [1m[35mSQL (2.2ms)[0m  [1m[33mUPDATE "spree_adjustments" SET "source_id" = NULL, "updated_at" = '2017-07-26 12:14:32.569381' WHERE "spree_adjustments"."id" IN (SELECT "spree_adjustments"."id" FROM "spree_adjustments" INNER JOIN "spree_orders" ON "spree_orders"."id" = "spree_adjustments"."order_id" WHERE "spree_adjustments"."source_id" = $1 AND "spree_adjustments"."source_type" = $2 AND ("spree_orders"."completed_at" IS NOT NULL))[0m  [["source_id", 3], ["source_type", "Spree::PromotionAction"]]
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "spree_promotion_actions" SET "deleted_at" = '2017-07-26 12:14:32.572760' WHERE "spree_promotion_actions"."type" IN ('Spree::Promotion::Actions::FreeShipping') AND "spree_promotion_actions"."id" = $1[0m  [["id", 3]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_actions/destroy.js.erb
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_actions/destroy.js.erb (1.2ms)
Completed 200 OK in 87ms (Views: 56.9ms | ActiveRecord: 10.1ms)


Started POST "/admin/promotions/1/promotion_actions" for 127.0.0.1 at 2017-07-26 14:14:33 +0200
Processing by Spree::Admin::PromotionActionsController#create as JS
  Parameters: {"utf8"=>"✓", "action_type"=>"Spree::Promotion::Actions::FreeShipping", "button"=>"", "promotion_id"=>"1"}
  [1m[36mSpree::Preference Load (2.8ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (5.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.5ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (0.8ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "spree_promotion_actions" ("promotion_id", "type") VALUES ($1, $2) RETURNING "id"[0m  [["promotion_id", 1], ["type", "Spree::Promotion::Actions::FreeShipping"]]
  [1m[35m (11.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_actions/create.js.erb
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_promotion_action.html.erb (79.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_actions/create.js.erb (144.4ms)
Completed 200 OK in 233ms (Views: 195.2ms | ActiveRecord: 22.0ms)


Started POST "/admin/promotions/1/promotion_rules" for 127.0.0.1 at 2017-07-26 14:14:45 +0200
Processing by Spree::Admin::PromotionRulesController#create as JS
  Parameters: {"utf8"=>"✓", "promotion_rule"=>{"type"=>"Spree::Promotion::Rules::Taxon"}, "button"=>"", "promotion_id"=>"1"}
  [1m[36mSpree::Preference Load (0.8ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (1.1ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (0.6ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PromotionRule Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1 AND "spree_promotion_rules"."type" = $2 LIMIT $3[0m  [["promotion_id", 1], ["type", "Spree::Promotion::Rules::Taxon"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "spree_promotion_rules" ("promotion_id", "type", "created_at", "updated_at", "preferences") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["promotion_id", 1], ["type", "Spree::Promotion::Rules::Taxon"], ["created_at", "2017-07-26 12:14:45.930618"], ["updated_at", "2017-07-26 12:14:45.930618"], ["preferences", "---\n:match_policy: \n"]]
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_rules/create.js.erb
  [1m[35m (16.5ms)[0m  [1m[34mSELECT "spree_taxons".id FROM "spree_taxons" INNER JOIN "spree_promotion_rule_taxons" ON "spree_taxons"."id" = "spree_promotion_rule_taxons"."taxon_id" WHERE "spree_promotion_rule_taxons"."promotion_rule_id" = $1[0m  [["promotion_rule_id", 2]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/rules/_taxon.html.erb (40.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_promotion_rule.html.erb (95.0ms)
  [1m[36mSpree::PromotionRule Load (1.1ms)[0m  [1m[34mSELECT "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1[0m  [["promotion_id", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_rules/create.js.erb (151.5ms)
Completed 200 OK in 242ms (Views: 185.5ms | ActiveRecord: 24.9ms)


Started DELETE "/admin/promotions/1/promotion_rules/1" for 127.0.0.1 at 2017-07-26 14:14:47 +0200
Processing by Spree::Admin::PromotionRulesController#destroy as JS
  Parameters: {"promotion_id"=>"1", "id"=>"1"}
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (0.9ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::PromotionRule Load (0.7ms)[0m  [1m[34mSELECT  "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1 AND "spree_promotion_rules"."id" = $2 LIMIT $3[0m  [["promotion_id", 1], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."type" IN ('Spree::Promotion::Rules::ItemTotal') AND "spree_promotion_rules"."id" = $1[0m  [["id", 1]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_rules/destroy.js.erb
  [1m[36mSpree::PromotionRule Load (0.6ms)[0m  [1m[34mSELECT "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1[0m  [["promotion_id", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_rules/destroy.js.erb (6.1ms)
Completed 200 OK in 84ms (Views: 63.1ms | ActiveRecord: 5.8ms)


Started GET "/api/v1/taxons?per_page=50&page=1&without_children=true&q%5Bname_cont%5D=&token=b1af2810df846a04152517c389d5167128d83feb542749ac&_=1501071241248" for 127.0.0.1 at 2017-07-26 14:14:48 +0200
Processing by Spree::Api::V1::TaxonsController#index as JSON
  Parameters: {"per_page"=>"50", "page"=>"1", "without_children"=>"true", "q"=>{"name_cont"=>""}, "token"=>"b1af2810df846a04152517c389d5167128d83feb542749ac", "_"=>"1501071241248"}
  [1m[36mSpree::User Load (0.9ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."spree_api_key" = $1 LIMIT $2[0m  [["spree_api_key", "b1af2810df846a04152517c389d5167128d83feb542749ac"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "spree_roles"."name" FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/taxons/index.v1.rabl
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."taxonomy_id" ASC, "spree_taxons"."lft" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 50], ["OFFSET", 0]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IN (1, 3, 4, 5, 6, 7, 2, 8, 9, 10, 11) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 12) AND ("spree_taxons"."id" != 1) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) AND ("spree_taxons"."id" != 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) AND ("spree_taxons"."id" != 4) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 6) AND ("spree_taxons"."rgt" >= 11) AND ("spree_taxons"."id" != 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) AND ("spree_taxons"."id" != 6) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) AND ("spree_taxons"."id" != 7) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 13) AND ("spree_taxons"."rgt" >= 22) AND ("spree_taxons"."id" != 2) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 14) AND ("spree_taxons"."rgt" >= 15) AND ("spree_taxons"."id" != 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 16) AND ("spree_taxons"."rgt" >= 17) AND ("spree_taxons"."id" != 9) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.1ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) AND ("spree_taxons"."id" != 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) AND ("spree_taxons"."id" != 11) ORDER BY "spree_taxons"."lft"[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "spree_taxons" ORDER BY "spree_taxons"."taxonomy_id" ASC, "spree_taxons"."lft" ASC LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 50], ["OFFSET", 0]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/taxons/index.v1.rabl (32.5ms)
Completed 200 OK in 302ms (Views: 280.5ms | ActiveRecord: 14.0ms)


Started GET "/api/v1/taxons?per_page=50&page=1&without_children=true&q%5Bname_cont%5D=&token=b1af2810df846a04152517c389d5167128d83feb542749ac&_=1501071241249" for 127.0.0.1 at 2017-07-26 14:14:50 +0200
Processing by Spree::Api::V1::TaxonsController#index as JSON
  Parameters: {"per_page"=>"50", "page"=>"1", "without_children"=>"true", "q"=>{"name_cont"=>""}, "token"=>"b1af2810df846a04152517c389d5167128d83feb542749ac", "_"=>"1501071241249"}
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."spree_api_key" = $1 LIMIT $2[0m  [["spree_api_key", "b1af2810df846a04152517c389d5167128d83feb542749ac"], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "spree_roles"."name" FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Role Load (0.8ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/taxons/index.v1.rabl
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" ORDER BY "spree_taxons"."taxonomy_id" ASC, "spree_taxons"."lft" ASC LIMIT $1 OFFSET $2[0m  [["LIMIT", 50], ["OFFSET", 0]]
  [1m[36mSpree::Taxon Load (0.9ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IN (1, 3, 4, 5, 6, 7, 2, 8, 9, 10, 11) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.4ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 1) AND ("spree_taxons"."rgt" >= 12) AND ("spree_taxons"."id" != 1) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 2) AND ("spree_taxons"."rgt" >= 3) AND ("spree_taxons"."id" != 3) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 4) AND ("spree_taxons"."rgt" >= 5) AND ("spree_taxons"."id" != 4) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 6) AND ("spree_taxons"."rgt" >= 11) AND ("spree_taxons"."id" != 5) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 7) AND ("spree_taxons"."rgt" >= 8) AND ("spree_taxons"."id" != 6) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) AND ("spree_taxons"."id" != 7) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 13) AND ("spree_taxons"."rgt" >= 22) AND ("spree_taxons"."id" != 2) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 14) AND ("spree_taxons"."rgt" >= 15) AND ("spree_taxons"."id" != 8) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 16) AND ("spree_taxons"."rgt" >= 17) AND ("spree_taxons"."id" != 9) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 18) AND ("spree_taxons"."rgt" >= 19) AND ("spree_taxons"."id" != 10) ORDER BY "spree_taxons"."lft"[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 20) AND ("spree_taxons"."rgt" >= 21) AND ("spree_taxons"."id" != 11) ORDER BY "spree_taxons"."lft"[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "spree_taxons" ORDER BY "spree_taxons"."taxonomy_id" ASC, "spree_taxons"."lft" ASC LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 50], ["OFFSET", 0]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/taxons/index.v1.rabl (33.5ms)
Completed 200 OK in 298ms (Views: 275.0ms | ActiveRecord: 14.4ms)


Started DELETE "/admin/promotions/1/promotion_rules/2" for 127.0.0.1 at 2017-07-26 14:15:03 +0200
Processing by Spree::Admin::PromotionRulesController#destroy as JS
  Parameters: {"promotion_id"=>"1", "id"=>"2"}
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (0.6ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::PromotionRule Load (1.1ms)[0m  [1m[34mSELECT  "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1 AND "spree_promotion_rules"."id" = $2 LIMIT $3[0m  [["promotion_id", 1], ["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[31mDELETE FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."type" IN ('Spree::Promotion::Rules::Taxon') AND "spree_promotion_rules"."id" = $1[0m  [["id", 2]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_rules/destroy.js.erb
  [1m[36mSpree::PromotionRule Load (0.6ms)[0m  [1m[34mSELECT "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1[0m  [["promotion_id", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_rules/destroy.js.erb (3.7ms)
Completed 200 OK in 93ms (Views: 69.5ms | ActiveRecord: 6.6ms)


Started POST "/admin/promotions/1/promotion_rules" for 127.0.0.1 at 2017-07-26 14:15:10 +0200
Processing by Spree::Admin::PromotionRulesController#create as JS
  Parameters: {"utf8"=>"✓", "promotion_rule"=>{"type"=>"Spree::Promotion::Rules::User"}, "button"=>"", "promotion_id"=>"1"}
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (1.5ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.6ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (0.7ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PromotionRule Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1 AND "spree_promotion_rules"."type" = $2 LIMIT $3[0m  [["promotion_id", 1], ["type", "Spree::Promotion::Rules::User"], ["LIMIT", 1]]
  [1m[35mSQL (3.9ms)[0m  [1m[32mINSERT INTO "spree_promotion_rules" ("promotion_id", "type", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["promotion_id", 1], ["type", "Spree::Promotion::Rules::User"], ["created_at", "2017-07-26 12:15:10.759206"], ["updated_at", "2017-07-26 12:15:10.759206"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_rules/create.js.erb
  [1m[35m (18.6ms)[0m  [1m[34mSELECT "spree_users".id FROM "spree_users" INNER JOIN "spree_promotion_rule_users" ON "spree_users"."id" = "spree_promotion_rule_users"."user_id" WHERE "spree_users"."deleted_at" IS NULL AND "spree_promotion_rule_users"."promotion_rule_id" = $1[0m  [["promotion_rule_id", 3]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/rules/_user.html.erb (36.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_promotion_rule.html.erb (94.2ms)
  [1m[36mSpree::PromotionRule Load (0.6ms)[0m  [1m[34mSELECT "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1[0m  [["promotion_id", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotion_rules/create.js.erb (146.4ms)
Completed 200 OK in 245ms (Views: 181.7ms | ActiveRecord: 30.9ms)


Started GET "/api/v1/users?q%5Bemail_cont%5D=j&token=b1af2810df846a04152517c389d5167128d83feb542749ac&_=1501071241250" for 127.0.0.1 at 2017-07-26 14:15:16 +0200
Processing by Spree::Api::V1::UsersController#index as JSON
  Parameters: {"q"=>{"email_cont"=>"j"}, "token"=>"b1af2810df846a04152517c389d5167128d83feb542749ac", "_"=>"1501071241250"}
  [1m[36mSpree::User Load (3.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."spree_api_key" = $1 LIMIT $2[0m  [["spree_api_key", "b1af2810df846a04152517c389d5167128d83feb542749ac"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "spree_roles"."name" FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/users/index.v1.rabl
  [1m[36mSpree::User Load (2.3ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND ("spree_users"."email" ILIKE '%j%') LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  [1m[36mSpree::Address Load (0.6ms)[0m  [1m[34mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::Address Load (1.2ms)[0m  [1m[34mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT $2[0m  [["id", 628], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[36mCACHE Spree::State Load (0.0ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT $2[0m  [["id", 628], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Country Load (0.0ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND ("spree_users"."email" ILIKE '%j%') LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 25], ["OFFSET", 0]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/users/index.v1.rabl (190.7ms)
Completed 200 OK in 467ms (Views: 433.5ms | ActiveRecord: 19.4ms)


Started GET "/api/v1/users?q%5Bemail_cont%5D=jo&token=b1af2810df846a04152517c389d5167128d83feb542749ac&_=1501071241251" for 127.0.0.1 at 2017-07-26 14:15:17 +0200
Processing by Spree::Api::V1::UsersController#index as JSON
  Parameters: {"q"=>{"email_cont"=>"jo"}, "token"=>"b1af2810df846a04152517c389d5167128d83feb542749ac", "_"=>"1501071241251"}
  [1m[36mSpree::User Load (1.1ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."spree_api_key" = $1 LIMIT $2[0m  [["spree_api_key", "b1af2810df846a04152517c389d5167128d83feb542749ac"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "spree_roles"."name" FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/users/index.v1.rabl
  [1m[36mSpree::User Load (0.9ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND ("spree_users"."email" ILIKE '%jo%') LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  [1m[36mSpree::Address Load (0.7ms)[0m  [1m[34mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::Address Load (0.8ms)[0m  [1m[34mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mSpree::State Load (0.5ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT $2[0m  [["id", 628], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.5ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[36mCACHE Spree::State Load (0.0ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT $2[0m  [["id", 628], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Country Load (0.0ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND ("spree_users"."email" ILIKE '%jo%') LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 25], ["OFFSET", 0]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/users/index.v1.rabl (184.3ms)
Completed 200 OK in 452ms (Views: 436.4ms | ActiveRecord: 6.7ms)


Started PUT "/admin/promotions/1" for 127.0.0.1 at 2017-07-26 14:15:23 +0200
Processing by Spree::Admin::PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"h2LiZQq6i3F18BXC2A7i2TtZjqcVfSmL+fc2TdwKtp5dCkmnefzN3x9qW2uqhH3RJiK6qia2RTJblxyeEjBOvA==", "promotion"=>{"match_policy"=>"all", "promotion_rules_attributes"=>{"3"=>{"id"=>"3", "user_ids_string"=>"1"}}}, "button"=>"", "id"=>"1"}
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.9ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.9ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (0.8ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PromotionRule Load (8.7ms)[0m  [1m[34mSELECT "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1 AND "spree_promotion_rules"."id" = 3[0m  [["promotion_id", 1]]
  [1m[36mSpree::User Load (1.0ms)[0m  [1m[34mSELECT "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = 1[0m
  [1m[36mSpree::User Load (4.7ms)[0m  [1m[34mSELECT "spree_users".* FROM "spree_users" INNER JOIN "spree_promotion_rule_users" ON "spree_users"."id" = "spree_promotion_rule_users"."user_id" WHERE "spree_users"."deleted_at" IS NULL AND "spree_promotion_rule_users"."promotion_rule_id" = $1[0m  [["promotion_rule_id", 3]]
  [1m[36mSpree::PromotionRule Load (0.5ms)[0m  [1m[34mSELECT  "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::PromotionRuleUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_promotion_rule_users" WHERE "spree_promotion_rule_users"."user_id" = $1 AND "spree_promotion_rule_users"."promotion_rule_id" = $2 LIMIT $3[0m  [["user_id", 1], ["promotion_rule_id", 3], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "spree_promotion_rule_users" ("user_id", "promotion_rule_id") VALUES ($1, $2) RETURNING "id"[0m  [["user_id", 1], ["promotion_rule_id", 3]]
  [1m[36mSpree::PromotionRule Load (0.3ms)[0m  [1m[34mSELECT "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1[0m  [["promotion_id", 1]]
  [1m[36mSpree::Promotion Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_promotions" WHERE LOWER("spree_promotions"."code") = LOWER($1) AND ("spree_promotions"."id" != $2) LIMIT $3[0m  [["code", "SUMSHIRT17"], ["id", 1], ["LIMIT", 1]]
  [1m[35m (2.6ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/promotions/1/edit
Completed 302 Found in 91ms (ActiveRecord: 34.8ms)


Started GET "/admin/promotions/1/edit" for 127.0.0.1 at 2017-07-26 14:15:23 +0200
Processing by Spree::Admin::PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSpree::Preference Load (0.8ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.9ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (0.6ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/edit.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_error_messages.html.erb (1.8ms)
  [1m[36mSpree::PromotionCategory Load (0.6ms)[0m  [1m[34mSELECT "spree_promotion_categories".* FROM "spree_promotion_categories" ORDER BY "spree_promotion_categories"."name" ASC[0m
  [1m[36mSpree::PromotionAction Load (0.7ms)[0m  [1m[34mSELECT "spree_promotion_actions".* FROM "spree_promotion_actions" WHERE "spree_promotion_actions"."deleted_at" IS NULL AND "spree_promotion_actions"."promotion_id" = $1[0m  [["promotion_id", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_adjustments" WHERE "spree_adjustments"."eligible" = $1 AND "spree_adjustments"."source_type" = $2 AND "spree_adjustments"."source_id" IN (1, 4)[0m  [["eligible", "t"], ["source_type", "Spree::PromotionAction"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_form.html.erb (47.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_edit_resource_links.html.erb (1.6ms)
  [1m[36mSpree::PromotionRule Load (0.5ms)[0m  [1m[34mSELECT "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1[0m  [["promotion_id", 1]]
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "spree_users".id FROM "spree_users" INNER JOIN "spree_promotion_rule_users" ON "spree_users"."id" = "spree_promotion_rule_users"."user_id" WHERE "spree_users"."deleted_at" IS NULL AND "spree_promotion_rule_users"."promotion_rule_id" = $1[0m  [["promotion_rule_id", 3]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/rules/_user.html.erb (4.6ms)
  Rendered collection of /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_promotion_rule.html.erb [1 times] (39.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_rules.html.erb (71.9ms)
  [1m[36mSpree::Calculator Load (1.2ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::PromotionAction"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/calculators/_default_fields.html.erb (1.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/actions/_create_adjustment.html.erb (74.8ms)
  Rendered collection of /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_promotion_action.html.erb [2 times] (143.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_actions.html.erb (175.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_autocomplete.js.erb (7.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/edit.html.erb within spree/layouts/admin (448.8ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (3.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (5.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (536.8ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (2.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (31.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (4.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (4.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (1.9ms)
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.8ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (18.2ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (214.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.1ms)
Completed 200 OK in 1503ms (Views: 1481.6ms | ActiveRecord: 11.5ms)


Started GET "/api/v1/users?ids=1&token=b1af2810df846a04152517c389d5167128d83feb542749ac" for 127.0.0.1 at 2017-07-26 14:15:24 +0200
Processing by Spree::Api::V1::UsersController#index as JSON
  Parameters: {"ids"=>"1", "token"=>"b1af2810df846a04152517c389d5167128d83feb542749ac"}
  [1m[36mSpree::User Load (0.9ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."spree_api_key" = $1 LIMIT $2[0m  [["spree_api_key", "b1af2810df846a04152517c389d5167128d83feb542749ac"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "spree_roles"."name" FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Role Load (0.9ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/users/index.v1.rabl
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  [1m[36mSpree::Address Load (0.7ms)[0m  [1m[34mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mSpree::Address Load (0.7ms)[0m  [1m[34mSELECT  "spree_addresses".* FROM "spree_addresses" WHERE "spree_addresses"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mSpree::State Load (0.4ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT $2[0m  [["id", 628], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[36mCACHE Spree::State Load (0.0ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."id" = $1 LIMIT $2[0m  [["id", 628], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Country Load (0.0ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 25], ["OFFSET", 0]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/users/index.v1.rabl (191.9ms)
Completed 200 OK in 471ms (Views: 453.1ms | ActiveRecord: 6.3ms)


Started GET "/products/ruby-on-rails-baseball-jersey" for 127.0.0.1 at 2017-07-26 14:15:36 +0200
Processing by Spree::ProductsController#show as HTML
  Parameters: {"id"=>"ruby-on-rails-baseball-jersey"}
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.8ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."slug" = $1 ORDER BY "spree_products"."id" ASC LIMIT $2[0m  [["slug", "ruby-on-rails-baseball-jersey"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (2.6ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = 3 ORDER BY "spree_variants"."position" ASC[0m
  [1m[36mSpree::Image Load (0.9ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" IN (3, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26) ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::Variant Load (6.1ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" IN (17, 3, 26, 25, 24, 23, 22, 21, 20, 19, 18)[0m
  [1m[36mSpree::Taxon Load (1.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 ORDER BY "spree_taxons"."id" ASC LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/layout"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/show.html.erb within spree/layouts/spree_application
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.7ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Promotion Load (1.8ms)[0m  [1m[34mSELECT "spree_promotions".* FROM "spree_promotions" INNER JOIN "spree_promotion_rules" ON "spree_promotions"."id" = "spree_promotion_rules"."promotion_id" INNER JOIN "spree_product_promotion_rules" ON "spree_promotion_rules"."id" = "spree_product_promotion_rules"."promotion_rule_id" WHERE "spree_product_promotion_rules"."product_id" = $1 AND "spree_promotions"."advertise" = $2 AND (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2017-07-26 12:15:36.561465') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2017-07-26 12:15:36.561691')[0m  [["product_id", 3], ["advertise", "t"]]
  [1m[36mSpree::Variant Load (1.4ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 3], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Image Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 LIMIT $3[0m  [["viewable_id", 3], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Image Load (1.1ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 ORDER BY "spree_assets"."position" ASC LIMIT $3[0m  [["viewable_id", 3], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Image Load (1.2ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_id", 3], ["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Variant Load (0.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 3], ["is_master", "f"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/_thumbnails.html.erb (44.5ms)
  [1m[36mSpree::ProductProperty Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 ORDER BY "spree_product_properties"."position" ASC[0m  [["product_id", 3]]
  [1m[36mSpree::Property Load (0.7ms)[0m  [1m[34mSELECT "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" IN (1, 2, 3, 4, 5, 6, 7, 8)[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/_properties.html.erb (7.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/_promotions.html.erb (5.1ms)
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/show_raw_product_description"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (3.1ms)[0m  [1m[34mSELECT DISTINCT "spree_variants".* FROM "spree_variants" INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 AND ("spree_variants"."discontinue_on" IS NULL OR "spree_variants"."discontinue_on" >= '2017-07-26 12:15:36.793301') AND ("spree_variants".deleted_at IS NULL) AND (spree_prices.currency = 'USD') AND (spree_prices.amount IS NOT NULL) ORDER BY "spree_variants"."position" ASC[0m  [["product_id", 3], ["is_master", "f"]]
  [1m[36mSpree::OptionValueVariant Load (0.9ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" IN (17, 18, 19, 20, 21, 22, 23, 24, 25, 26)[0m
  [1m[36mSpree::OptionValue Load (1.0ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 5, 7, 6, 2, 3, 4)[0m
  [1m[36mSpree::Variant Load (4.5ms)[0m  [1m[34mSELECT DISTINCT "spree_variants".* FROM "spree_variants" INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 AND ("spree_variants"."discontinue_on" IS NULL OR "spree_variants"."discontinue_on" >= '2017-07-26 12:15:36.817615') AND ("spree_variants".deleted_at IS NULL) AND (spree_prices.currency = 'USD') AND (spree_prices.amount IS NOT NULL) ORDER BY "spree_variants"."position" ASC[0m  [["product_id", 3], ["is_master", "f"]]
  [1m[36mCACHE Spree::OptionValueVariant Load (0.0ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" IN (17, 18, 19, 20, 21, 22, 23, 24, 25, 26)[0m
  [1m[36mCACHE Spree::OptionValue Load (0.0ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 5, 7, 6, 2, 3, 4)[0m
  [1m[36mSpree::Price Load (0.9ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 17]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 17], ["active", "t"]]
  [1m[36mSpree::OptionType Load (0.8ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (1.3ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/show_variant_full_price"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (1.0ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 3]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 17], ["active", "t"]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 18]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 18], ["active", "t"]]
  [1m[36mCACHE Spree::OptionType Load (0.0ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 18], ["active", "t"]]
  [1m[36mSpree::Price Load (0.7ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 19]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 19], ["active", "t"]]
  [1m[36mCACHE Spree::OptionType Load (0.0ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 19], ["active", "t"]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 20]]
  [1m[35m (1.6ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 20], ["active", "t"]]
  [1m[36mCACHE Spree::OptionType Load (0.0ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 20], ["active", "t"]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 21]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 21], ["active", "t"]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 21], ["active", "t"]]
  [1m[36mSpree::Price Load (0.7ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 22]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 22], ["active", "t"]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 22], ["active", "t"]]
  [1m[36mSpree::Price Load (0.5ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 23]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 23], ["active", "t"]]
  [1m[36mCACHE Spree::OptionType Load (0.0ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 23], ["active", "t"]]
  [1m[36mSpree::Price Load (0.7ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 24]]
  [1m[35m (1.7ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 24], ["active", "t"]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 24], ["active", "t"]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 25]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 25], ["active", "t"]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 25], ["active", "t"]]
  [1m[36mSpree::Price Load (1.0ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 26]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 26], ["active", "t"]]
  [1m[36mCACHE Spree::OptionType Load (0.0ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 26], ["active", "t"]]
  [1m[36mSpree::Price Load (2.0ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 3], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (0.8ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 3], ["active", "t"]]
  [1m[36mSpree::StockItem Load (3.8ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 3], ["active", "t"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC[0m  [["product_id", 3]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 3], ["active", "t"]]
  [1m[36mCACHE Spree::StockItem Load (0.0ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 3], ["active", "t"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/_cart_form.html.erb (262.8ms)
  [1m[36mSpree::Taxon Load (2.5ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/_taxons.html.erb (8.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/show.html.erb within spree/layouts/spree_application (565.3ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_put_site_name_in_title"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/title_site_name_separator"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (3.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_translations.html.erb (1.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_head.html.erb (263.9ms)
  [1m[36mSpree::Tracker Load (0.6ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1 ORDER BY "spree_trackers"."id" ASC LIMIT $2[0m  [["active", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_analytics.js.erb (2.7ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[1;32mDeface:[0m 1 overrides found for 'spree/shared/_nav_bar'
[1;32mDeface:[0m 'auth_shared_login_bar' matched 1 times with 'li#search-bar'
[1;32mDeface: [ERROR][0m The original source for 'auth_shared_login_bar' has changed, this override should be reviewed to ensure it's still valid.
  [1m[36mSpree::Taxon Load (0.5ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" = $1[0m  [["parent_id", 5]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" = $1 ORDER BY "spree_taxons"."lft"[0m  [["parent_id", 5]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_search.html.erb (9.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_nav_bar.html.erb (37.5ms)
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_main_nav_bar.html.erb (5.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_header.html.erb (114.8ms)
  [1m[36mSpree::Taxon Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) AND ("spree_taxons"."id" != 7) LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) AND ("spree_taxons"."id" != 7) ORDER BY "spree_taxons"."lft"[0m
Completed 200 OK in 1235ms (Views: 1051.5ms | ActiveRecord: 78.9ms)


Started GET "/cart_link" for 127.0.0.1 at 2017-07-26 14:15:37 +0200
Processing by Spree::StoreController#cart_link as */*
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (5.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (1.0ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (1.1ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.1ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.9ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_link_to_cart.html.erb (19.0ms)
Completed 304 Not Modified in 341ms (Views: 305.3ms | ActiveRecord: 11.0ms)


Started PUT "/admin/promotions/1" for 127.0.0.1 at 2017-07-26 14:15:42 +0200
Processing by Spree::Admin::PromotionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"HhkJGZ8aR00xhR5lGpGggGVpNHffYIDVOye1S+rVRwjEcaLb7FwB41sfUMxoGz+IeBIAeuyr7GyZR5+YJO+/Kg==", "promotion"=>{"name"=>"Camisetas rebajadas", "code"=>"SUMSHIRT17", "path"=>"", "advertise"=>"1", "description"=>"PRUEBAS CON PROMOCIONES, DESCRIPCIÓN DETALLADA BLA BLA BLAA....", "promotion_category_id"=>"1", "usage_limit"=>"10", "starts_at"=>"2017/07/02", "expires_at"=>""}, "button"=>"", "id"=>"1"}
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (1.0ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (0.6ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::PromotionRule Load (0.4ms)[0m  [1m[34mSELECT "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1[0m  [["promotion_id", 1]]
  [1m[36mSpree::Promotion Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_promotions" WHERE LOWER("spree_promotions"."code") = LOWER($1) AND ("spree_promotions"."id" != $2) LIMIT $3[0m  [["code", "SUMSHIRT17"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "spree_promotions" SET "advertise" = $1, "updated_at" = $2 WHERE "spree_promotions"."id" = $3[0m  [["advertise", "t"], ["updated_at", "2017-07-26 12:15:42.749370"], ["id", 1]]
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
Redirected to http://localhost:3000/admin/promotions/1/edit
Completed 302 Found in 26ms (ActiveRecord: 6.8ms)


Started GET "/admin/promotions/1/edit" for 127.0.0.1 at 2017-07-26 14:15:42 +0200
Processing by Spree::Admin::PromotionsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.3ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Promotion Load (0.9ms)[0m  [1m[34mSELECT  "spree_promotions".* FROM "spree_promotions" WHERE "spree_promotions"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/edit.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_error_messages.html.erb (1.9ms)
  [1m[36mSpree::PromotionCategory Load (1.0ms)[0m  [1m[34mSELECT "spree_promotion_categories".* FROM "spree_promotion_categories" ORDER BY "spree_promotion_categories"."name" ASC[0m
  [1m[36mSpree::PromotionAction Load (0.8ms)[0m  [1m[34mSELECT "spree_promotion_actions".* FROM "spree_promotion_actions" WHERE "spree_promotion_actions"."deleted_at" IS NULL AND "spree_promotion_actions"."promotion_id" = $1[0m  [["promotion_id", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_adjustments" WHERE "spree_adjustments"."eligible" = $1 AND "spree_adjustments"."source_type" = $2 AND "spree_adjustments"."source_id" IN (1, 4)[0m  [["eligible", "t"], ["source_type", "Spree::PromotionAction"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_form.html.erb (54.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_edit_resource_links.html.erb (3.5ms)
  [1m[36mSpree::PromotionRule Load (0.6ms)[0m  [1m[34mSELECT "spree_promotion_rules".* FROM "spree_promotion_rules" WHERE "spree_promotion_rules"."promotion_id" = $1[0m  [["promotion_id", 1]]
  [1m[35m (3.0ms)[0m  [1m[34mSELECT "spree_users".id FROM "spree_users" INNER JOIN "spree_promotion_rule_users" ON "spree_users"."id" = "spree_promotion_rule_users"."user_id" WHERE "spree_users"."deleted_at" IS NULL AND "spree_promotion_rule_users"."promotion_rule_id" = $1[0m  [["promotion_rule_id", 3]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/rules/_user.html.erb (11.9ms)
  Rendered collection of /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_promotion_rule.html.erb [1 times] (43.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_rules.html.erb (86.8ms)
  [1m[36mSpree::Calculator Load (0.7ms)[0m  [1m[34mSELECT  "spree_calculators".* FROM "spree_calculators" WHERE "spree_calculators"."deleted_at" IS NULL AND "spree_calculators"."calculable_id" = $1 AND "spree_calculators"."calculable_type" = $2 LIMIT $3[0m  [["calculable_id", 1], ["calculable_type", "Spree::PromotionAction"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/calculators/_default_fields.html.erb (2.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/actions/_create_adjustment.html.erb (78.9ms)
  Rendered collection of /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_promotion_action.html.erb [2 times] (153.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/_actions.html.erb (185.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/variants/_autocomplete.js.erb (6.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/promotions/edit.html.erb within spree/layouts/admin (497.1ms)
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (4.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (4.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (562.1ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (2.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (31.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (3.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (4.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (4.1ms)
  [1m[36mSpree::Store Load (2.2ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (1.0ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (8.9ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (213.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (2.1ms)
Completed 200 OK in 1575ms (Views: 1549.9ms | ActiveRecord: 14.6ms)


Started GET "/products/ruby-on-rails-baseball-jersey" for 127.0.0.1 at 2017-07-26 14:15:48 +0200
Processing by Spree::ProductsController#show as HTML
  Parameters: {"id"=>"ruby-on-rails-baseball-jersey"}
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.9ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (1.0ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."slug" = $1 ORDER BY "spree_products"."id" ASC LIMIT $2[0m  [["slug", "ruby-on-rails-baseball-jersey"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = 3 ORDER BY "spree_variants"."position" ASC[0m
  [1m[36mSpree::Image Load (1.0ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" IN (3, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26) ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::Variant Load (0.9ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" IN (17, 3, 26, 25, 24, 23, 22, 21, 20, 19, 18)[0m
  [1m[36mSpree::Taxon Load (1.5ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 ORDER BY "spree_taxons"."id" ASC LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/layout"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/show.html.erb within spree/layouts/spree_application
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (2.4ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Promotion Load (1.4ms)[0m  [1m[34mSELECT "spree_promotions".* FROM "spree_promotions" INNER JOIN "spree_promotion_rules" ON "spree_promotions"."id" = "spree_promotion_rules"."promotion_id" INNER JOIN "spree_product_promotion_rules" ON "spree_promotion_rules"."id" = "spree_product_promotion_rules"."promotion_rule_id" WHERE "spree_product_promotion_rules"."product_id" = $1 AND "spree_promotions"."advertise" = $2 AND (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2017-07-26 12:15:48.412109') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2017-07-26 12:15:48.412311')[0m  [["product_id", 3], ["advertise", "t"]]
  [1m[36mSpree::Variant Load (2.9ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 3], ["is_master", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Image Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 LIMIT $3[0m  [["viewable_id", 3], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Image Load (0.7ms)[0m  [1m[34mSELECT  "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 ORDER BY "spree_assets"."position" ASC LIMIT $3[0m  [["viewable_id", 3], ["viewable_type", "Spree::Variant"], ["LIMIT", 1]]
  [1m[36mSpree::Image Load (0.7ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_id" = $1 AND "spree_assets"."viewable_type" = $2 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_id", 3], ["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::Variant Load (0.7ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Variant Load (0.0ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::Variant Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 LIMIT $3[0m  [["product_id", 3], ["is_master", "f"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/_thumbnails.html.erb (22.6ms)
  [1m[36mSpree::ProductProperty Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  [1m[36mSpree::ProductProperty Load (0.6ms)[0m  [1m[34mSELECT "spree_product_properties".* FROM "spree_product_properties" WHERE "spree_product_properties"."product_id" = $1 ORDER BY "spree_product_properties"."position" ASC[0m  [["product_id", 3]]
  [1m[36mSpree::Property Load (0.7ms)[0m  [1m[34mSELECT "spree_properties".* FROM "spree_properties" WHERE "spree_properties"."id" IN (1, 2, 3, 4, 5, 6, 7, 8)[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/_properties.html.erb (13.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/_promotions.html.erb (1.2ms)
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/show_raw_product_description"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (1.7ms)[0m  [1m[34mSELECT DISTINCT "spree_variants".* FROM "spree_variants" INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 AND ("spree_variants"."discontinue_on" IS NULL OR "spree_variants"."discontinue_on" >= '2017-07-26 12:15:48.573685') AND ("spree_variants".deleted_at IS NULL) AND (spree_prices.currency = 'USD') AND (spree_prices.amount IS NOT NULL) ORDER BY "spree_variants"."position" ASC[0m  [["product_id", 3], ["is_master", "f"]]
  [1m[36mSpree::OptionValueVariant Load (0.6ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" IN (17, 18, 19, 20, 21, 22, 23, 24, 25, 26)[0m
  [1m[36mSpree::OptionValue Load (0.7ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 5, 7, 6, 2, 3, 4)[0m
  [1m[36mSpree::Variant Load (1.7ms)[0m  [1m[34mSELECT DISTINCT "spree_variants".* FROM "spree_variants" INNER JOIN "spree_prices" ON "spree_prices"."variant_id" = "spree_variants"."id" AND "spree_prices"."deleted_at" IS NULL WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 AND "spree_variants"."is_master" = $2 AND ("spree_variants"."discontinue_on" IS NULL OR "spree_variants"."discontinue_on" >= '2017-07-26 12:15:48.589751') AND ("spree_variants".deleted_at IS NULL) AND (spree_prices.currency = 'USD') AND (spree_prices.amount IS NOT NULL) ORDER BY "spree_variants"."position" ASC[0m  [["product_id", 3], ["is_master", "f"]]
  [1m[36mCACHE Spree::OptionValueVariant Load (0.0ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" IN (17, 18, 19, 20, 21, 22, 23, 24, 25, 26)[0m
  [1m[36mCACHE Spree::OptionValue Load (0.1ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 5, 7, 6, 2, 3, 4)[0m
  [1m[36mSpree::Price Load (0.7ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 17]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 17], ["active", "t"]]
  [1m[36mSpree::OptionType Load (0.7ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.6ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/show_variant_full_price"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 3]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 17], ["active", "t"]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 18]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 18], ["active", "t"]]
  [1m[36mCACHE Spree::OptionType Load (0.0ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 18], ["active", "t"]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 19]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 19], ["active", "t"]]
  [1m[36mCACHE Spree::OptionType Load (0.0ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 19], ["active", "t"]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 20]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 20], ["active", "t"]]
  [1m[36mCACHE Spree::OptionType Load (0.0ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 20], ["active", "t"]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 21]]
  [1m[35m (2.6ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 21], ["active", "t"]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 21], ["active", "t"]]
  [1m[36mSpree::Price Load (0.8ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 22]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 22], ["active", "t"]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 22], ["active", "t"]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 23]]
  [1m[35m (1.2ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 23], ["active", "t"]]
  [1m[36mCACHE Spree::OptionType Load (0.0ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 23], ["active", "t"]]
  [1m[36mSpree::Price Load (0.8ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 24]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 24], ["active", "t"]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 24], ["active", "t"]]
  [1m[36mSpree::Price Load (0.6ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 25]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 25], ["active", "t"]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 25], ["active", "t"]]
  [1m[36mSpree::Price Load (0.8ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 26]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 26], ["active", "t"]]
  [1m[36mCACHE Spree::OptionType Load (0.0ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 26], ["active", "t"]]
  [1m[36mSpree::Price Load (0.9ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 3], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.1ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (0.6ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 3], ["active", "t"]]
  [1m[36mSpree::StockItem Load (1.1ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 3], ["active", "t"]]
  [1m[36mSpree::Variant Load (1.1ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."product_id" = $1 ORDER BY "spree_variants"."position" ASC[0m  [["product_id", 3]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 3], ["active", "t"]]
  [1m[36mCACHE Spree::StockItem Load (0.0ms)[0m  [1m[34mSELECT "spree_stock_items".* FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 3], ["active", "t"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/_cart_form.html.erb (214.5ms)
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1[0m  [["product_id", 3]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/_taxons.html.erb (3.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/products/show.html.erb within spree/layouts/spree_application (414.5ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_put_site_name_in_title"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/title_site_name_separator"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (3.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_translations.html.erb (2.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_head.html.erb (202.1ms)
  [1m[36mSpree::Tracker Load (0.5ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1 ORDER BY "spree_trackers"."id" ASC LIMIT $2[0m  [["active", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_analytics.js.erb (2.7ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[1;32mDeface:[0m 1 overrides found for 'spree/shared/_nav_bar'
[1;32mDeface:[0m 'auth_shared_login_bar' matched 1 times with 'li#search-bar'
[1;32mDeface: [ERROR][0m The original source for 'auth_shared_login_bar' has changed, this override should be reviewed to ensure it's still valid.
  [1m[36mSpree::Taxon Load (0.8ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" = $1[0m  [["parent_id", 5]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" = $1 ORDER BY "spree_taxons"."lft"[0m  [["parent_id", 5]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_search.html.erb (13.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_nav_bar.html.erb (41.9ms)
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_main_nav_bar.html.erb (25.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_header.html.erb (144.7ms)
  [1m[36mSpree::Taxon Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) AND ("spree_taxons"."id" != 7) LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (1.0ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE ("spree_taxons"."lft" <= 9) AND ("spree_taxons"."rgt" >= 10) AND ("spree_taxons"."id" != 7) ORDER BY "spree_taxons"."lft"[0m
Completed 200 OK in 972ms (Views: 843.7ms | ActiveRecord: 63.4ms)


Started GET "/cart_link" for 127.0.0.1 at 2017-07-26 14:15:49 +0200
Processing by Spree::StoreController#cart_link as */*
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.1ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_link_to_cart.html.erb (15.5ms)
Completed 304 Not Modified in 322ms (Views: 292.0ms | ActiveRecord: 5.0ms)


Started POST "/orders/populate" for 127.0.0.1 at 2017-07-26 14:16:25 +0200
Processing by Spree::OrdersController#populate as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"s8v2xH36aoROMGZLpFnEmdpHIPQqeprhLHiodT3Jr6tpo10GDrwsKiSqKOLW01uRxzwU+Rmx9liOGIKm8/NXiQ==", "variant_id"=>"17", "quantity"=>"1", "button"=>""}
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.9ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.2ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.9ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.8ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL ORDER BY created_at DESC LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Order Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R838333289"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R838333289"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 LIMIT $2[0m  [["number", "R838333289"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.9ms)[0m  [1m[32mINSERT INTO "spree_orders" ("number", "state", "user_id", "email", "created_at", "updated_at", "currency", "guest_token", "store_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["number", "R838333289"], ["state", "cart"], ["user_id", 1], ["email", "jorgecf@gmail.com"], ["created_at", "2017-07-26 12:16:25.372523"], ["updated_at", "2017-07-26 12:16:25.372523"], ["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (1.9ms)[0m  [1m[33mUPDATE "spree_orders" SET "user_id" = 1, "email" = 'jorgecf@gmail.com', "created_by_id" = 1, "bill_address_id" = NULL, "ship_address_id" = NULL WHERE "spree_orders"."id" = 5[0m
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.6ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 ORDER BY "spree_line_items"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mSpree::Price Load (0.7ms)[0m  [1m[34mSELECT "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."deleted_at" IS NULL AND "spree_prices"."variant_id" = $1[0m  [["variant_id", 17]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (0.6ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 17], ["active", "t"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "spree_line_items" ("variant_id", "order_id", "quantity", "price", "created_at", "updated_at", "currency", "cost_price", "tax_category_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["variant_id", 17], ["order_id", 5], ["quantity", 1], ["price", "19.99"], ["created_at", "2017-07-26 12:16:25.406655"], ["updated_at", "2017-07-26 12:16:25.406655"], ["currency", "USD"], ["cost_price", "17.0"], ["tax_category_id", 1]]
  [1m[36mSpree::Preference Load (1.0ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/tax_using_ship_address"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (1.4ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = 'Spree::LineItem' AND "spree_adjustments"."adjustable_id" = 4 AND "spree_adjustments"."source_type" = $1[0m  [["source_type", "Spree::TaxRate"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_line_items" SET "pre_tax_amount" = 19.99 WHERE "spree_line_items"."id" = $1[0m  [["id", 4]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (0.9ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction'[0m  [["adjustable_id", 4], ["adjustable_type", "Spree::LineItem"]]
  [1m[36mSpree::Adjustment Load (0.9ms)[0m  [1m[34mSELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction' AND "spree_adjustments"."eligible" = $3 ORDER BY amount ASC, created_at DESC, id DESC LIMIT $4[0m  [["adjustable_id", 4], ["adjustable_type", "Spree::LineItem"], ["eligible", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.8ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."included" = $4[0m  [["adjustable_id", 4], ["adjustable_type", "Spree::LineItem"], ["source_type", "Spree::TaxRate"], ["included", "t"]]
  [1m[36mSpree::Adjustment Load (0.9ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."included" = $4[0m  [["adjustable_id", 4], ["adjustable_type", "Spree::LineItem"], ["source_type", "Spree::TaxRate"], ["included", "f"]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "spree_line_items" SET "non_taxable_adjustment_total" = 0, "taxable_adjustment_total" = 0.0, "promo_total" = 0.0, "included_tax_total" = 0, "additional_tax_total" = 0, "adjustment_total" = 0.0, "updated_at" = '2017-07-26 12:16:25.436252' WHERE "spree_line_items"."id" = $1[0m  [["id", 4]]
  [1m[36mSpree::Zone Load (0.8ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.6ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = 'Spree::LineItem' AND "spree_adjustments"."adjustable_id" = 4 AND "spree_adjustments"."source_type" = $1[0m  [["source_type", "Spree::TaxRate"]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "spree_line_items" SET "pre_tax_amount" = 19.99 WHERE "spree_line_items"."id" = $1[0m  [["id", 4]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_orders" SET "updated_at" = '2017-07-26 12:16:25.421268' WHERE "spree_orders"."id" = $1[0m  [["id", 5]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Payment Load (1.5ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."source_type" = $2 AND "spree_payments"."state" = $3 ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 5], ["source_type", "Spree::StoreCredit"], ["state", "checkout"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."quantity") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_line_items"."quantity") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[36mSpree::Payment Load (0.7ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."state" = $2 ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 5], ["state", "completed"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM(price * quantity) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (1.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[36mSpree::Adjustment Load (1.1ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT SUM("spree_line_items"."adjustment_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("spree_shipments"."adjustment_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3[0m  [["adjustable_id", 5], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_line_items"."included_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_shipments"."included_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."additional_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."additional_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."promo_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."promo_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."eligible" = $4[0m  [["adjustable_id", 5], ["adjustable_type", "Spree::Order"], ["source_type", "Spree::PromotionAction"], ["eligible", "t"]]
  [1m[35mSQL (2.1ms)[0m  [1m[33mUPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 19.99, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 0.0, "promo_total" = 0.0, "total" = 19.99, "updated_at" = '2017-07-26 12:16:25.483583' WHERE "spree_orders"."id" = $1[0m  [["id", 5]]
  [1m[36mSpree::Shipment Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 LIMIT $2[0m  [["order_id", 5], ["LIMIT", 1]]
  [1m[36mSpree::Promotion Load (1.5ms)[0m  [1m[34mSELECT "spree_promotions".* FROM "spree_promotions" INNER JOIN "spree_order_promotions" ON "spree_promotions"."id" = "spree_order_promotions"."promotion_id" WHERE "spree_order_promotions"."order_id" = 5 AND (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2017-07-26 12:16:25.490551') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2017-07-26 12:16:25.490794') UNION SELECT "spree_promotions".* FROM "spree_promotions" WHERE (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2017-07-26 12:16:25.491264') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2017-07-26 12:16:25.491526') AND "spree_promotions"."code" IS NULL AND "spree_promotions"."path" IS NULL[0m
  [1m[36mSpree::Adjustment Load (0.6ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction'[0m  [["adjustable_id", 4], ["adjustable_type", "Spree::LineItem"]]
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT  "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = 'Spree::PromotionAction' AND "spree_adjustments"."eligible" = $3 ORDER BY amount ASC, created_at DESC, id DESC LIMIT $4[0m  [["adjustable_id", 4], ["adjustable_type", "Spree::LineItem"], ["eligible", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.6ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."included" = $4[0m  [["adjustable_id", 4], ["adjustable_type", "Spree::LineItem"], ["source_type", "Spree::TaxRate"], ["included", "t"]]
  [1m[36mSpree::Adjustment Load (0.6ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."included" = $4[0m  [["adjustable_id", 4], ["adjustable_type", "Spree::LineItem"], ["source_type", "Spree::TaxRate"], ["included", "f"]]
  [1m[35mSQL (1.8ms)[0m  [1m[33mUPDATE "spree_line_items" SET "non_taxable_adjustment_total" = 0, "taxable_adjustment_total" = 0.0, "promo_total" = 0.0, "included_tax_total" = 0, "additional_tax_total" = 0, "adjustment_total" = 0.0, "updated_at" = '2017-07-26 12:16:25.500820' WHERE "spree_line_items"."id" = $1[0m  [["id", 4]]
  [1m[36mSpree::Zone Load (0.6ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (1.4ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = 'Spree::LineItem' AND "spree_adjustments"."adjustable_id" = 4 AND "spree_adjustments"."source_type" = $1[0m  [["source_type", "Spree::TaxRate"]]
  [1m[35mSQL (1.7ms)[0m  [1m[33mUPDATE "spree_line_items" SET "pre_tax_amount" = 19.99 WHERE "spree_line_items"."id" = $1[0m  [["id", 4]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT SUM("spree_line_items"."quantity") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_line_items"."quantity") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[36mSpree::Payment Load (1.9ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."state" = $2 ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 5], ["state", "completed"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM(price * quantity) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[36mSpree::Adjustment Load (0.5ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."adjustment_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."adjustment_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3[0m  [["adjustable_id", 5], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."included_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("spree_shipments"."included_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."additional_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."additional_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."promo_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."promo_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."eligible" = $4[0m  [["adjustable_id", 5], ["adjustable_type", "Spree::Order"], ["source_type", "Spree::PromotionAction"], ["eligible", "t"]]
  [1m[35mSQL (2.2ms)[0m  [1m[33mUPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 19.99, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 0.0, "promo_total" = 0.0, "total" = 19.99, "updated_at" = '2017-07-26 12:16:25.541459' WHERE "spree_orders"."id" = $1[0m  [["id", 5]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Zone Load (0.6ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Price Load (0.7ms)[0m  [1m[34mSELECT  "spree_prices".* FROM "spree_prices" WHERE "spree_prices"."variant_id" = $1 AND "spree_prices"."currency" = $2 LIMIT $3[0m  [["variant_id", 17], ["currency", "USD"], ["LIMIT", 1]]
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT  "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT  "spree_products".* FROM "spree_products" WHERE "spree_products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mSpree::TaxCategory Load (0.7ms)[0m  [1m[34mSELECT  "spree_tax_categories".* FROM "spree_tax_categories" WHERE "spree_tax_categories"."deleted_at" IS NULL AND "spree_tax_categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R838333289"], ["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R838333289"], ["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_orders" SET "updated_at" = $1, "last_ip_address" = $2, "created_by_id" = $3 WHERE "spree_orders"."id" = $4[0m  [["updated_at", "2017-07-26 12:16:25.564725"], ["last_ip_address", "127.0.0.1"], ["created_by_id", 1], ["id", 5]]
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Zone Load (0.3ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."default_tax" = $1 LIMIT $2[0m  [["default_tax", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (1.2ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = 'Spree::LineItem' AND "spree_adjustments"."adjustable_id" IN (SELECT "spree_line_items"."id" FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1 ORDER BY "spree_line_items"."created_at" ASC) AND "spree_adjustments"."source_type" = $2[0m  [["order_id", 5], ["source_type", "Spree::TaxRate"]]
  [1m[35mSQL (2.5ms)[0m  [1m[33mUPDATE "spree_line_items" SET "pre_tax_amount" = 19.99 WHERE "spree_line_items"."id" = $1[0m  [["id", 4]]
  [1m[36mSpree::Shipment Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 LIMIT $2[0m  [["order_id", 5], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."quantity") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[36mSpree::Payment Load (0.7ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."state" = $2 ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 5], ["state", "completed"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM(price * quantity) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[36mSpree::Adjustment Load (0.6ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("spree_line_items"."adjustment_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."adjustment_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3[0m  [["adjustable_id", 5], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."included_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_shipments"."included_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."additional_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("spree_shipments"."additional_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_line_items"."promo_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_shipments"."promo_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."eligible" = $4[0m  [["adjustable_id", 5], ["adjustable_type", "Spree::Order"], ["source_type", "Spree::PromotionAction"], ["eligible", "t"]]
  [1m[35mSQL (1.9ms)[0m  [1m[33mUPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 19.99, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 0.0, "promo_total" = 0.0, "total" = 19.99, "updated_at" = '2017-07-26 12:16:25.611343' WHERE "spree_orders"."id" = $1[0m  [["id", 5]]
Redirected to http://localhost:3000/cart
Completed 302 Found in 270ms (ActiveRecord: 93.9ms)


Started GET "/cart" for 127.0.0.1 at 2017-07-26 14:16:25 +0200
Processing by Spree::OrdersController#edit as HTML
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.9ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.6ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 5 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 17[0m
  [1m[36mSpree::Image Load (0.8ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 17 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::OptionValueVariant Load (0.6ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 17[0m
  [1m[36mSpree::OptionValue Load (0.7ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 5)[0m
  [1m[36mSpree::Product Load (1.6ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  [1m[36mSpree::Adjustment Load (0.6ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 5 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[36mSpree::Order Load (1.0ms)[0m  [1m[34mSELECT "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL AND (id != 5)[0m  [["user_id", 1]]
  [1m[36mSpree::Role Load (0.7ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/layout"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/orders/edit.html.erb within spree/layouts/spree_application
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_error_messages.html.erb (1.9ms)
  [1m[36mSpree::OptionType Load (1.6ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.6ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 17], ["active", "t"]]
  Rendered collection of /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/orders/_line_item.html.erb [1 times] (20.2ms)
  [1m[36mSpree::Adjustment Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) LIMIT $3[0m  [["adjustable_id", 5], ["adjustable_type", "Spree::Order"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_line_items" ON "spree_adjustments"."adjustable_id" = "spree_line_items"."id" WHERE "spree_line_items"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) LIMIT $3[0m  [["order_id", 5], ["adjustable_type", "Spree::LineItem"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_shipments" ON "spree_adjustments"."adjustable_id" = "spree_shipments"."id" WHERE "spree_shipments"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) LIMIT $3[0m  [["order_id", 5], ["adjustable_type", "Spree::Shipment"], ["LIMIT", 1]]
  [1m[36mSpree::Shipment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 LIMIT $2[0m  [["order_id", 5], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/orders/_form.html.erb (92.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/orders/edit.html.erb within spree/layouts/spree_application (120.5ms)
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_put_site_name_in_title"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/title_site_name_separator"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_translations.html.erb (1.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_head.html.erb (204.6ms)
  [1m[36mSpree::Tracker Load (0.6ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1 ORDER BY "spree_trackers"."id" ASC LIMIT $2[0m  [["active", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_analytics.js.erb (2.8ms)
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[1;32mDeface:[0m 1 overrides found for 'spree/shared/_nav_bar'
[1;32mDeface:[0m 'auth_shared_login_bar' matched 1 times with 'li#search-bar'
[1;32mDeface: [ERROR][0m The original source for 'auth_shared_login_bar' has changed, this override should be reviewed to ensure it's still valid.
  [1m[35m (0.7ms)[0m  [1m[34mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_search.html.erb (5.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_nav_bar.html.erb (34.0ms)
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::LineItem Load (0.0ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 5 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mCACHE Spree::Variant Load (0.0ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 17[0m
  [1m[36mCACHE Spree::Image Load (0.0ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 17 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mCACHE Spree::OptionValueVariant Load (0.0ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 17[0m
  [1m[36mCACHE Spree::OptionValue Load (0.0ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 5)[0m
  [1m[36mCACHE Spree::Product Load (0.0ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_main_nav_bar.html.erb (12.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_header.html.erb (113.9ms)
Completed 200 OK in 648ms (Views: 562.2ms | ActiveRecord: 23.5ms)


Started GET "/cart_link" for 127.0.0.1 at 2017-07-26 14:16:26 +0200
Processing by Spree::StoreController#cart_link as */*
  [1m[36mSpree::Preference Load (0.8ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.8ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.9ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.7ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 5 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 17[0m
  [1m[36mSpree::Image Load (0.8ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 17 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::OptionValueVariant Load (0.6ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 17[0m
  [1m[36mSpree::OptionValue Load (0.6ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 5)[0m
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_link_to_cart.html.erb (29.1ms)
Completed 200 OK in 338ms (Views: 298.4ms | ActiveRecord: 8.4ms)


Started PATCH "/cart" for 127.0.0.1 at 2017-07-26 14:16:29 +0200
Processing by Spree::OrdersController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"5gbuHVNMqT/P+xXbNJnkAIvdmvkJM+SFirUBMrbWOqQ8bkXfIArvkaVhW3JGE3sIlqau9Dr4iDwo1SvheOzChg==", "order"=>{"line_items_attributes"=>{"0"=>{"quantity"=>"1", "id"=>"4"}}, "coupon_code"=>""}, "checkout"=>""}
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (1.2ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (1.3ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.8ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 5 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 17[0m
  [1m[36mSpree::Image Load (0.9ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 17 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::OptionValueVariant Load (0.5ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 17[0m
  [1m[36mSpree::OptionValue Load (0.5ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 5)[0m
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 5 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[36mSpree::Order Load (0.7ms)[0m  [1m[34mSELECT "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL AND (id != 5)[0m  [["user_id", 1]]
  [1m[36mSpree::Role Load (0.7ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Order Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R838333289"], ["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R838333289"], ["id", 5], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_line_items"."quantity") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_line_items"."quantity") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[36mSpree::Payment Load (0.6ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."state" = $2 ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 5], ["state", "completed"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM(price * quantity) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[36mSpree::Adjustment Load (0.5ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_line_items"."adjustment_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT SUM("spree_shipments"."adjustment_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (1.5ms)[0m  [1m[34mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3[0m  [["adjustable_id", 5], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
  [1m[35m (2.0ms)[0m  [1m[34mSELECT SUM("spree_line_items"."included_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("spree_shipments"."included_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("spree_line_items"."additional_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."additional_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."promo_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."promo_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."eligible" = $4[0m  [["adjustable_id", 5], ["adjustable_type", "Spree::Order"], ["source_type", "Spree::PromotionAction"], ["eligible", "t"]]
  [1m[35mSQL (2.0ms)[0m  [1m[33mUPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 19.99, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 0.0, "promo_total" = 0.0, "total" = 19.99, "updated_at" = '2017-07-26 12:16:29.911703' WHERE "spree_orders"."id" = $1[0m  [["id", 5]]
  [1m[36mSpree::Promotion Load (2.0ms)[0m  [1m[34mSELECT "spree_promotions".* FROM "spree_promotions" INNER JOIN "spree_order_promotions" ON "spree_promotions"."id" = "spree_order_promotions"."promotion_id" WHERE "spree_order_promotions"."order_id" = 5 AND (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2017-07-26 12:16:29.915926') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2017-07-26 12:16:29.916088') UNION SELECT "spree_promotions".* FROM "spree_promotions" WHERE (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2017-07-26 12:16:29.916461') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2017-07-26 12:16:29.916568') AND "spree_promotions"."code" IS NULL AND "spree_promotions"."path" IS NULL[0m
  [1m[36mSpree::Shipment Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 LIMIT $2[0m  [["order_id", 5], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (0.8ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."source_type" = $2 AND "spree_payments"."state" = $3 ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 5], ["source_type", "Spree::StoreCredit"], ["state", "checkout"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_line_items"."quantity") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT SUM("spree_line_items"."quantity") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[36mSpree::Payment Load (0.7ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."state" = $2 ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 5], ["state", "completed"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM(price * quantity) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("spree_shipments"."cost") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[36mSpree::Adjustment Load (0.5ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("spree_line_items"."adjustment_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_shipments"."adjustment_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."eligible" = $3[0m  [["adjustable_id", 5], ["adjustable_type", "Spree::Order"], ["eligible", "t"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT SUM("spree_line_items"."included_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT SUM("spree_shipments"."included_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."additional_tax_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT SUM("spree_shipments"."additional_tax_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_line_items"."promo_total") FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT SUM("spree_shipments"."promo_total") FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1[0m  [["order_id", 5]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_adjustments"."amount") FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND "spree_adjustments"."source_type" = $3 AND "spree_adjustments"."eligible" = $4[0m  [["adjustable_id", 5], ["adjustable_type", "Spree::Order"], ["source_type", "Spree::PromotionAction"], ["eligible", "t"]]
  [1m[35mSQL (2.0ms)[0m  [1m[33mUPDATE "spree_orders" SET "payment_state" = NULL, "shipment_state" = NULL, "item_total" = 19.99, "item_count" = 1, "adjustment_total" = 0.0, "included_tax_total" = 0.0, "additional_tax_total" = 0.0, "payment_total" = 0.0, "shipment_total" = 0.0, "promo_total" = 0.0, "total" = 19.99, "updated_at" = '2017-07-26 12:16:29.957634' WHERE "spree_orders"."id" = $1[0m  [["id", 5]]
  [1m[36mSpree::User Load (0.9ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (0.7ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 5]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Order Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R838333289"], ["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R838333289"], ["id", 5], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "spree_orders" SET "state" = $1, "updated_at" = $2 WHERE "spree_orders"."id" = $3[0m  [["state", "address"], ["updated_at", "2017-07-26 12:16:29.976361"], ["id", 5]]
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "spree_state_changes" ("name", "previous_state", "stateful_id", "user_id", "stateful_type", "next_state", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "order"], ["previous_state", "cart"], ["stateful_id", 5], ["user_id", 1], ["stateful_type", "Spree::Order"], ["next_state", "address"], ["created_at", "2017-07-26 12:16:29.983887"], ["updated_at", "2017-07-26 12:16:29.983887"]]
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mSpree::Order Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R838333289"], ["id", 5], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Order Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_orders" WHERE "spree_orders"."number" = $1 AND ("spree_orders"."id" != $2) LIMIT $3[0m  [["number", "R838333289"], ["id", 5], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mSpree::Payment Load (0.6ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 5]]
Redirected to http://localhost:3000/checkout/address
Completed 302 Found in 175ms (ActiveRecord: 53.0ms)


Started GET "/checkout/address" for 127.0.0.1 at 2017-07-26 14:16:30 +0200
Processing by Spree::CheckoutController#edit as HTML
  Parameters: {"state"=>"address"}
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (1.1ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.6ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 5 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 17[0m
  [1m[36mSpree::Image Load (0.7ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 17 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::OptionValueVariant Load (1.0ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 17[0m
  [1m[36mSpree::OptionValue Load (0.6ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 5)[0m
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  [1m[36mSpree::Adjustment Load (0.7ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 5 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[36mSpree::Order Load (1.0ms)[0m  [1m[34mSELECT "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL AND (id != 5)[0m  [["user_id", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_include_confirm_step"], ["LIMIT", 1]]
  [1m[36mSpree::Payment Load (0.7ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 5]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "spree_line_items" WHERE "spree_line_items"."order_id" = $1[0m  [["order_id", 5]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 17], ["active", "t"]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.7ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCACHE Spree::Country Load (0.0ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Preference Load (1.2ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/auth_configuration/registration_step"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/layout"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/checkout/edit.html.erb within spree/layouts/spree_application
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mSpree::Taxon Load (1.2ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_taxonomies" ON "spree_taxonomies"."id" = "spree_taxons"."taxonomy_id" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxonomies"."name" = $2 LIMIT $3[0m  [["product_id", 3], ["name", "Categories"], ["LIMIT", 1]]
  [1m[36mSpree::Taxon Load (1.4ms)[0m  [1m[34mSELECT  "spree_taxons".* FROM "spree_taxons" INNER JOIN "spree_taxonomies" ON "spree_taxonomies"."id" = "spree_taxons"."taxonomy_id" INNER JOIN "spree_products_taxons" ON "spree_taxons"."id" = "spree_products_taxons"."taxon_id" WHERE "spree_products_taxons"."product_id" = $1 AND "spree_taxonomies"."name" = $2 LIMIT $3[0m  [["product_id", 3], ["name", "Brands"], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.6ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (0.6ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_add_items.js.erb (17.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_checkout.js.erb (50.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_error_messages.html.erb (1.1ms)
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/company"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/checkout_zone"], ["LIMIT", 1]]
  [1m[36mSpree::Zone Load (0.6ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Country Load (1.5ms)[0m  [1m[34mSELECT "spree_countries".* FROM "spree_countries"[0m
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/address_requires_state"], ["LIMIT", 1]]
  [1m[36mSpree::State Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE "spree_states"."country_id" = $1 LIMIT $2[0m  [["country_id", 232], ["LIMIT", 1]]
  [1m[36mSpree::State Load (1.5ms)[0m  [1m[34mSELECT "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1[0m  [["country_id", 232]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/alternative_shipping_phone"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/address/_form.html.erb (96.6ms)
  [1m[36mCACHE Spree::Preference Load (0.0ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/checkout_zone"], ["LIMIT", 1]]
  [1m[36mCACHE Spree::Zone Load (0.0ms)[0m  [1m[34mSELECT  "spree_zones".* FROM "spree_zones" WHERE "spree_zones"."name" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mCACHE Spree::Country Load (0.0ms)[0m  [1m[34mSELECT "spree_countries".* FROM "spree_countries"[0m
  [1m[36mCACHE Spree::State Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_states" WHERE "spree_states"."country_id" = $1 LIMIT $2[0m  [["country_id", 232], ["LIMIT", 1]]
  [1m[36mCACHE Spree::State Load (0.0ms)[0m  [1m[34mSELECT "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1[0m  [["country_id", 232]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/address/_form.html.erb (68.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/checkout/_address.html.erb (216.7ms)
  [1m[36mSpree::Adjustment Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_line_items" ON "spree_adjustments"."adjustable_id" = "spree_line_items"."id" WHERE "spree_line_items"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) LIMIT $3[0m  [["order_id", 5], ["adjustable_type", "Spree::LineItem"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Load (0.9ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."order_id" = $1 AND ("spree_adjustments".amount != 0) AND "spree_adjustments"."source_type" = $2 AND "spree_adjustments"."eligible" = $3[0m  [["order_id", 5], ["source_type", "Spree::TaxRate"], ["eligible", "t"]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mCACHE Spree::Payment Load (0.0ms)[0m  [1m[34mSELECT "spree_payments".* FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND ("spree_payments"."state" NOT IN ('failed', 'invalid')) ORDER BY "spree_payments"."created_at" ASC[0m  [["order_id", 5]]
  [1m[36mSpree::Adjustment Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) AND "spree_adjustments"."eligible" = $3 LIMIT $4[0m  [["adjustable_id", 5], ["adjustable_type", "Spree::Order"], ["eligible", "t"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT SUM("spree_payments"."amount") FROM "spree_payments" WHERE "spree_payments"."order_id" = $1 AND "spree_payments"."source_type" = $2 AND ("spree_payments"."state" NOT IN ('failed', 'invalid'))[0m  [["order_id", 5], ["source_type", "Spree::StoreCredit"]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/checkout/_summary.html.erb (25.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/checkout/edit.html.erb within spree/layouts/spree_application (398.2ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_translations.html.erb (1.7ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_head.html.erb (188.7ms)
  [1m[36mSpree::Tracker Load (0.6ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1 ORDER BY "spree_trackers"."id" ASC LIMIT $2[0m  [["active", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_analytics.js.erb (3.5ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[1;32mDeface:[0m 1 overrides found for 'spree/shared/_nav_bar'
[1;32mDeface:[0m 'auth_shared_login_bar' matched 1 times with 'li#search-bar'
[1;32mDeface: [ERROR][0m The original source for 'auth_shared_login_bar' has changed, this override should be reviewed to ensure it's still valid.
  [1m[35m (0.8ms)[0m  [1m[34mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_search.html.erb (5.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_nav_bar.html.erb (33.1ms)
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::LineItem Load (0.0ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 5 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mCACHE Spree::Variant Load (0.0ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 17[0m
  [1m[36mCACHE Spree::Image Load (0.0ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 17 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mCACHE Spree::OptionValueVariant Load (0.0ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 17[0m
  [1m[36mCACHE Spree::OptionValue Load (0.0ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 5)[0m
  [1m[36mCACHE Spree::Product Load (0.0ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_main_nav_bar.html.erb (12.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_header.html.erb (110.3ms)
Completed 200 OK in 919ms (Views: 810.2ms | ActiveRecord: 35.2ms)


Started GET "/cart_link" for 127.0.0.1 at 2017-07-26 14:16:31 +0200
Processing by Spree::StoreController#cart_link as */*
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
Started GET "/api/v1/states?country_id=232" for 127.0.0.1 at 2017-07-26 14:16:31 +0200
Processing by Spree::Api::V1::StatesController#index as JSON
  Parameters: {"country_id"=>"232"}
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (1.5ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."spree_api_key" = $1 LIMIT $2[0m  [["spree_api_key", ""], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (2.9ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Country Load (1.1ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (4.2ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::State Load (1.8ms)[0m  [1m[34mSELECT  "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY name DESC LIMIT $2[0m  [["country_id", 232], ["LIMIT", 1]]
  [1m[36mSpree::User Load (29.9ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (41.5ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (31.9ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 5 ORDER BY "spree_line_items"."created_at" ASC[0m
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/states/index.v1.rabl
  [1m[36mSpree::Variant Load (88.0ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 17[0m
  [1m[36mSpree::State Load (1.8ms)[0m  [1m[34mSELECT "spree_states".* FROM "spree_states" WHERE "spree_states"."country_id" = $1 ORDER BY name ASC[0m  [["country_id", 232]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_api-3.3.0.rc1/app/views/spree/api/v1/states/index.v1.rabl (13.8ms)
  [1m[36mSpree::Image Load (10.5ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 17 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
Completed 200 OK in 326ms (Views: 277.0ms | ActiveRecord: 6.2ms)


  [1m[36mSpree::OptionValueVariant Load (0.8ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 17[0m
  [1m[36mSpree::OptionValue Load (0.8ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 5)[0m
  [1m[36mSpree::Product Load (0.8ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_link_to_cart.html.erb (334.0ms)
Completed 200 OK in 688ms (Views: 449.7ms | ActiveRecord: 212.1ms)


Started GET "/admin/reports" for 127.0.0.1 at 2017-07-26 14:16:41 +0200
Processing by Spree::Admin::ReportsController#index as HTML
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/reports/index.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/reports/index.html.erb within spree/layouts/admin (1.9ms)
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (3.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (5.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (407.6ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (4.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (24.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (3.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (6.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.7ms)
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (11.4ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (164.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.2ms)
Completed 200 OK in 809ms (Views: 770.4ms | ActiveRecord: 5.3ms)


Started GET "/admin/reports/sales_total" for 127.0.0.1 at 2017-07-26 14:16:44 +0200
Processing by Spree::Admin::ReportsController#sales_total as HTML
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.3ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Order Load (1.1ms)[0m  [1m[34mSELECT "spree_orders".* FROM "spree_orders" WHERE ("spree_orders"."completed_at" IS NOT NULL) AND ("spree_orders"."completed_at" > '2017-07-01 00:00:00') ORDER BY "spree_orders"."completed_at" DESC[0m
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/reports/sales_total.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_report_order_criteria.html.erb (2.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/reports/sales_total.html.erb within spree/layouts/admin (37.0ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (3.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (5.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (410.8ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (2.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (19.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.8ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (5.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.1ms)
  [1m[36mSpree::Store Load (0.9ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (1.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (13.9ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (152.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.4ms)
Completed 200 OK in 843ms (Views: 801.9ms | ActiveRecord: 6.9ms)


Started GET "/admin/reports/sales_total?utf8=%E2%9C%93&q%5Bcompleted_at_gt%5D=2017%2F07%2F01&q%5Bcompleted_at_lt%5D=&button=" for 127.0.0.1 at 2017-07-26 14:16:48 +0200
Processing by Spree::Admin::ReportsController#sales_total as HTML
  Parameters: {"utf8"=>"✓", "q"=>{"completed_at_gt"=>"2017/07/01", "completed_at_lt"=>""}, "button"=>""}
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/backend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Order Load (1.5ms)[0m  [1m[34mSELECT "spree_orders".* FROM "spree_orders" WHERE ("spree_orders"."completed_at" IS NOT NULL) AND ("spree_orders"."completed_at" > '2017-07-01 00:00:00') ORDER BY "spree_orders"."completed_at" DESC[0m
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/reports/sales_total.html.erb within spree/layouts/admin
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_report_order_criteria.html.erb (2.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/reports/sales_total.html.erb within spree/layouts/admin (29.5ms)
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_translations.html.erb (6.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_head.html.erb (540.3ms)
[1;32mDeface:[0m 1 overrides found for 'spree/admin/shared/_header'
[1;32mDeface:[0m 'auth_admin_login_navigation_bar' matched 1 times with '[data-hook='admin_login_navigation_bar'], #admin_login_navigation_bar[data-hook]'
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_interface_logo"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/backend/spree/layouts/admin/_login_nav.html.erb (2.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_header.html.erb (20.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_returns.html.erb (2.3ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_product.html.erb (4.2ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_promotion.html.erb (2.0ms)
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/default_country_id"], ["LIMIT", 1]]
  [1m[36mSpree::Country Load (0.4ms)[0m  [1m[34mSELECT  "spree_countries".* FROM "spree_countries" WHERE "spree_countries"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/sub_menu/_configuration.html.erb (11.3ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_show_version"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_main_menu.html.erb (149.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_backend-3.3.0.rc1/app/views/spree/admin/shared/_content_header.html.erb (1.4ms)
Completed 200 OK in 976ms (Views: 929.5ms | ActiveRecord: 6.3ms)


Started GET "/users/1/edit" for 127.0.0.1 at 2017-07-26 14:17:00 +0200
Processing by Spree::UsersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Role Load (0.4ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.6ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 5 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mSpree::Variant Load (0.6ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 17[0m
  [1m[36mSpree::Image Load (0.8ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 17 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::OptionValueVariant Load (0.5ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 17[0m
  [1m[36mSpree::OptionValue Load (0.7ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 5)[0m
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  [1m[36mSpree::Adjustment Load (0.6ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 5 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL AND (id != 5)[0m  [["user_id", 1]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/layout"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/frontend/spree/users/edit.html.erb within spree/layouts/spree_application
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_error_messages.html.erb (1.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/frontend/spree/shared/_user_form.html.erb (1.6ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_auth_devise-3.3.0/lib/views/frontend/spree/users/edit.html.erb within spree/layouts/spree_application (43.5ms)
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_put_site_name_in_title"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/title_site_name_separator"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (2.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_translations.html.erb (1.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_head.html.erb (198.0ms)
  [1m[36mSpree::Tracker Load (0.6ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1 ORDER BY "spree_trackers"."id" ASC LIMIT $2[0m  [["active", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_analytics.js.erb (3.7ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[1;32mDeface:[0m 1 overrides found for 'spree/shared/_nav_bar'
[1;32mDeface:[0m 'auth_shared_login_bar' matched 1 times with 'li#search-bar'
[1;32mDeface: [ERROR][0m The original source for 'auth_shared_login_bar' has changed, this override should be reviewed to ensure it's still valid.
  [1m[35m (0.8ms)[0m  [1m[34mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL[0m
  [1m[36mSpree::Taxon Load (0.7ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_search.html.erb (6.0ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_nav_bar.html.erb (34.7ms)
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::LineItem Load (0.0ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 5 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mCACHE Spree::Variant Load (0.0ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 17[0m
  [1m[36mCACHE Spree::Image Load (0.0ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 17 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mCACHE Spree::OptionValueVariant Load (0.0ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 17[0m
  [1m[36mCACHE Spree::OptionValue Load (0.0ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 5)[0m
  [1m[36mCACHE Spree::Product Load (0.0ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_main_nav_bar.html.erb (13.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_header.html.erb (115.3ms)
Completed 200 OK in 525ms (Views: 470.9ms | ActiveRecord: 14.3ms)


Started GET "/cart_link" for 127.0.0.1 at 2017-07-26 14:17:00 +0200
Processing by Spree::StoreController#cart_link as */*
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.9ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.7ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 5 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 17[0m
  [1m[36mSpree::Image Load (0.8ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 17 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::OptionValueVariant Load (0.8ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 17[0m
  [1m[36mSpree::OptionValue Load (0.6ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 5)[0m
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_link_to_cart.html.erb (27.8ms)
Completed 304 Not Modified in 313ms (Views: 278.1ms | ActiveRecord: 8.8ms)


Started GET "/cart" for 127.0.0.1 at 2017-07-26 14:17:06 +0200
Processing by Spree::OrdersController#edit as HTML
  [1m[36mSpree::Preference Load (0.3ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.7ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.7ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 5 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mSpree::Variant Load (1.0ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 17[0m
  [1m[36mSpree::Image Load (0.8ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 17 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::OptionValueVariant Load (0.5ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 17[0m
  [1m[36mSpree::OptionValue Load (0.6ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 5)[0m
  [1m[36mSpree::Product Load (0.7ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  [1m[36mSpree::Adjustment Load (0.8ms)[0m  [1m[34mSELECT "spree_adjustments".* FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_type" = $1 AND "spree_adjustments"."adjustable_id" = 5 ORDER BY "spree_adjustments"."created_at" ASC[0m  [["adjustable_type", "Spree::Order"]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."user_id" = $1 AND "spree_orders"."completed_at" IS NULL AND (id != 5)[0m  [["user_id", 1]]
  [1m[36mSpree::Role Load (0.7ms)[0m  [1m[34mSELECT "spree_roles".* FROM "spree_roles" INNER JOIN "spree_role_users" ON "spree_roles"."id" = "spree_role_users"."role_id" WHERE "spree_role_users"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mSpree::User Load (0.7ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/layout"], ["LIMIT", 1]]
  Rendering /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/orders/edit.html.erb within spree/layouts/spree_application
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_error_messages.html.erb (1.4ms)
  [1m[36mSpree::OptionType Load (0.7ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::OptionType Load (1.0ms)[0m  [1m[34mSELECT  "spree_option_types".* FROM "spree_option_types" WHERE "spree_option_types"."id" = $1 ORDER BY "spree_option_types"."position" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.5ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/track_inventory_levels"], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT SUM("spree_stock_items"."count_on_hand") FROM "spree_stock_items" INNER JOIN "spree_stock_locations" ON "spree_stock_locations"."id" = "spree_stock_items"."stock_location_id" WHERE "spree_stock_items"."deleted_at" IS NULL AND "spree_stock_items"."variant_id" = $1 AND "spree_stock_locations"."active" = $2[0m  [["variant_id", 17], ["active", "t"]]
  Rendered collection of /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/orders/_line_item.html.erb [1 times] (19.5ms)
  [1m[36mSpree::Adjustment Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" WHERE "spree_adjustments"."adjustable_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) LIMIT $3[0m  [["adjustable_id", 5], ["adjustable_type", "Spree::Order"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Exists (3.1ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_line_items" ON "spree_adjustments"."adjustable_id" = "spree_line_items"."id" WHERE "spree_line_items"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) LIMIT $3[0m  [["order_id", 5], ["adjustable_type", "Spree::LineItem"], ["LIMIT", 1]]
  [1m[36mSpree::Adjustment Exists (3.3ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_adjustments" INNER JOIN "spree_shipments" ON "spree_adjustments"."adjustable_id" = "spree_shipments"."id" WHERE "spree_shipments"."order_id" = $1 AND "spree_adjustments"."adjustable_type" = $2 AND ("spree_adjustments".amount != 0) LIMIT $3[0m  [["order_id", 5], ["adjustable_type", "Spree::Shipment"], ["LIMIT", 1]]
  [1m[36mSpree::Shipment Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "spree_shipments" WHERE "spree_shipments"."order_id" = $1 LIMIT $2[0m  [["order_id", 5], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/orders/_form.html.erb (96.4ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/orders/edit.html.erb within spree/layouts/spree_application (128.3ms)
  [1m[36mSpree::Preference Load (0.9ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/always_put_site_name_in_title"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/title_site_name_separator"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.6ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/admin_path"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_core-3.3.0.rc1/app/views/spree/shared/_paths.html.erb (4.1ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_translations.html.erb (1.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_head.html.erb (211.9ms)
  [1m[36mSpree::Tracker Load (0.5ms)[0m  [1m[34mSELECT  "spree_trackers".* FROM "spree_trackers" WHERE "spree_trackers"."active" = $1 ORDER BY "spree_trackers"."id" ASC LIMIT $2[0m  [["active", "t"], ["LIMIT", 1]]
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_google_analytics.js.erb (2.7ms)
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/logo"], ["LIMIT", 1]]
[1;32mDeface:[0m 1 overrides found for 'spree/shared/_nav_bar'
[1;32mDeface:[0m 'auth_shared_login_bar' matched 1 times with 'li#search-bar'
[1;32mDeface: [ERROR][0m The original source for 'auth_shared_login_bar' has changed, this override should be reviewed to ensure it's still valid.
  [1m[35m (0.7ms)[0m  [1m[34mSELECT MAX("spree_taxons"."updated_at") FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL[0m
  [1m[36mSpree::Taxon Load (0.6ms)[0m  [1m[34mSELECT "spree_taxons".* FROM "spree_taxons" WHERE "spree_taxons"."parent_id" IS NULL ORDER BY "spree_taxons"."lft"[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_search.html.erb (5.9ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_nav_bar.html.erb (37.6ms)
  [1m[36mCACHE Spree::Order Load (0.0ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mCACHE Spree::LineItem Load (0.0ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 5 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mCACHE Spree::Variant Load (0.0ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 17[0m
  [1m[36mCACHE Spree::Image Load (0.0ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 17 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mCACHE Spree::OptionValueVariant Load (0.0ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 17[0m
  [1m[36mCACHE Spree::OptionValue Load (0.0ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 5)[0m
  [1m[36mCACHE Spree::Product Load (0.0ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_main_nav_bar.html.erb (14.5ms)
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_header.html.erb (120.3ms)
Completed 200 OK in 666ms (Views: 581.8ms | ActiveRecord: 27.3ms)


Started GET "/cart_link" for 127.0.0.1 at 2017-07-26 14:17:07 +0200
Processing by Spree::StoreController#cart_link as */*
  [1m[36mSpree::Preference Load (0.7ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/frontend_configuration/locale"], ["LIMIT", 1]]
  [1m[36mSpree::Preference Load (0.4ms)[0m  [1m[34mSELECT  "spree_preferences".* FROM "spree_preferences" WHERE "spree_preferences"."key" = $1 LIMIT $2[0m  [["key", "spree/app_configuration/currency"], ["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE (url like '%localhost%') ORDER BY "spree_stores"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mSpree::Store Load (0.6ms)[0m  [1m[34mSELECT  "spree_stores".* FROM "spree_stores" WHERE "spree_stores"."default" = $1 ORDER BY "spree_stores"."id" ASC LIMIT $2[0m  [["default", "t"], ["LIMIT", 1]]
  [1m[36mSpree::User Load (0.8ms)[0m  [1m[34mSELECT  "spree_users".* FROM "spree_users" WHERE "spree_users"."deleted_at" IS NULL AND "spree_users"."id" = $1 ORDER BY "spree_users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSpree::Order Load (0.8ms)[0m  [1m[34mSELECT  "spree_orders".* FROM "spree_orders" WHERE "spree_orders"."completed_at" IS NULL AND "spree_orders"."currency" = $1 AND "spree_orders"."guest_token" = $2 AND "spree_orders"."store_id" = $3 LIMIT $4[0m  [["currency", "USD"], ["guest_token", "uTFocRC5KBFv2-9FRUf2yA1501068442577"], ["store_id", 1], ["LIMIT", 1]]
  [1m[36mSpree::LineItem Load (0.6ms)[0m  [1m[34mSELECT "spree_line_items".* FROM "spree_line_items" WHERE "spree_line_items"."order_id" = 5 ORDER BY "spree_line_items"."created_at" ASC[0m
  [1m[36mSpree::Variant Load (0.8ms)[0m  [1m[34mSELECT "spree_variants".* FROM "spree_variants" WHERE "spree_variants"."deleted_at" IS NULL AND "spree_variants"."id" = 17[0m
  [1m[36mSpree::Image Load (0.7ms)[0m  [1m[34mSELECT "spree_assets".* FROM "spree_assets" WHERE "spree_assets"."type" IN ('Spree::Image') AND "spree_assets"."viewable_type" = $1 AND "spree_assets"."viewable_id" = 17 ORDER BY "spree_assets"."position" ASC[0m  [["viewable_type", "Spree::Variant"]]
  [1m[36mSpree::OptionValueVariant Load (0.5ms)[0m  [1m[34mSELECT "spree_option_value_variants".* FROM "spree_option_value_variants" WHERE "spree_option_value_variants"."variant_id" = 17[0m
  [1m[36mSpree::OptionValue Load (0.6ms)[0m  [1m[34mSELECT "spree_option_values".* FROM "spree_option_values" WHERE "spree_option_values"."id" IN (1, 5)[0m
  [1m[36mSpree::Product Load (0.6ms)[0m  [1m[34mSELECT "spree_products".* FROM "spree_products" WHERE "spree_products"."deleted_at" IS NULL AND "spree_products"."id" = 3[0m
  Rendered /Users/jorge/.rvm/gems/ruby-2.4.1@ror_shop_testing/gems/spree_frontend-3.3.0.rc1/app/views/spree/shared/_link_to_cart.html.erb (25.9ms)
Completed 304 Not Modified in 317ms (Views: 280.6ms | ActiveRecord: 7.9ms)


